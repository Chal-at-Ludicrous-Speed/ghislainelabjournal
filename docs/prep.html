<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data preparation</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="tweaks.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/JochemTolsma/BIGSSS_segregation_polarization">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Data preparation</h1>
<h4 class="date">Last compiled on juni, 2022</h4>

</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<hr />
<div id="tie_maintenance.rdata" class="section level1">
<h1>tie_maintenance.RData</h1>
<p>In the following script, I use waves 1 and 2 of the survey project
<em>Sports &amp; Networks</em> <span class="citation">[Franken et al.,
-@data2022]</span>.</p>
<p>In wave 1, we gathered information on the social context of students
prior to their transition ot tertiary education, as well as their
personal networks at that time. We used 4 name generators (<em>core
discussion network</em>, and networks consisting of core <em>study
partners</em>, <em>best friends</em>, and <em>sports partners</em>), and
we assessed the overlap between these networks. In wave 2, in the middle
of the academic year, we used similar name generator questions to map
these ego-nets.</p>
<p>Based on these data, I construct a long data-frame (with alters
nested in egos) to investigate which alters are maintained in the
personal networks of ego. To each ego, relevant individual-level,
contextual-level, and network-level predictors are assigned; to each
alter, relevant alter and dyadic features are assigned.</p>
<p>This script uses lists and loops a lot! Maybe not the most efficient,
but it gets the job done.</p>
<pre class="r test"><code>#rm(list=ls())
# load in the data of wave 1
data &lt;- read.csv(&quot;results-survey938243.csv&quot;) 
# also data of wave 2
# after all, I want to study tie maintenance
data2 &lt;- read.csv(&quot;results-survey868275.csv&quot;)

# subset respondents that filled out both surveys;
# by matching based on emailadress
data &lt;- data[which(data$email %in% unique(data2$email)),]
#nrow(data) #n=95

# i make a dataframe of alters, with potential duplicates...
df_names &lt;- data.frame(
  p1 = data$egonet1.SQ001.,
  p2 = data$egonet1.SQ002.,
  p3 = data$egonet1.SQ003.,
  p4 = data$egonet1.SQ004.,
  p5 = data$egonet1.SQ005.,
  p6 = data$egonet2.SQ001.,
  p7 = data$egonet2.SQ002.,
  p8 = data$egonet2.SQ003.,
  p9 = data$egonet2.SQ004.,
  p10= data$egonet2.SQ005.,
  p11= data$egonet3.SQ001.,
  p12= data$egonet3.SQ002.,
  p13= data$egonet3.SQ003.,
  p14= data$egonet3.SQ004.,
  p15= data$egonet3.SQ005.,
  p16= data$egonet4.SQ001.,
  p17= data$egonet4.SQ002.,
  p18= data$egonet4.SQ003.,
  p19= data$egonet4.SQ004.,
  p20= data$egonet4.SQ005.)

# i exclude the isolates 
isolates &lt;- which(rowSums(df_names==&quot;&quot;)==20) #i.e., 20 empty name fields
df_names &lt;- df_names[-isolates, ]
#nrow(df_names) #n=92

# i also filter these out from our raw data...
data &lt;- data[-isolates,]

# i make a list of data-frames (per ego) with rows reflecting alters;
# a column indicating the alter number, 1:20
# and 4 columns indicating the name(s) of the particular alter
# after all, an alter could, hypothetically, be listed 4 times, with different
# names
# i also add variables for ego-level characteristics (&quot;constant&quot; over alter);
# and alter- and dyadic features
alterL &lt;- list()
# loop over all egos
for ( i in 1:nrow(df_names)) {
  alterL[[i]] &lt;- data.frame(
    ego_gender = NA,
    ego_educ = NA,
    ego_age = NA,
    ego_pol = NA, 
    alterid = 1:20,
    name1 = NA,
    name2 = NA,
    name3 = NA,
    name4 = NA,
    # alter level
    alter_gender = NA,
    alter_educ = NA,
    alter_age = NA,
    alter_pol = NA,
    # ...
    # dyadic level
    same_gender = NA,
    sim_educ = NA,
    dif_age = NA,
    dif_pol = NA, #similarity in political placement (left-right) of ego and alter
    close = NA,   #emotional closeness
    con_freq = NA,#contact frequency
    tie_dur = NA, #tie duration
    prox = NA     #physical proximity
    # ...
    # @RF... to add: other ego-variables, str. embeddedness, 
    # network-variables (e.g., size,density);
    # context; ideally, dynamic measures, i.e., measures of change in variables
    # pertaining to demographic features (e.g., life events: change of residency etc.)
  )
}

# fill the names based on the names data-frame
for ( i in 1:length(alterL)) {
  alterL[[i]]$name1 &lt;- unlist(df_names[i, ], use.names=F)
}

# replace empty strings with &lt;NA&gt;
for (i in 1:length(alterL)) {
  alterL[[i]]$name1 &lt;- ifelse(alterL[[i]]$name1==&quot;&quot;, NA, alterL[[i]]$name1)
}

# a matching matrix allowed ego to match names that referred to the same person.
# unfortunately, in limesurvey, i could not let the number of columns condition
# on the number of alters named in the latest net, so i made 5 separate matrices,
# conditional on netsize.
# i calculate netsize for each net
{
  net1 &lt;- cbind(data$egonet1.SQ001.,data$egonet1.SQ002., data$egonet1.SQ003.,data$egonet1.SQ004., data$egonet1.SQ005.)
  net1 &lt;- ifelse(net1==&quot;&quot;, NA, net1)
  ns1 &lt;- vector()
  for (i in 1:nrow(net1)) {
    ns1[i] &lt;- length(net1[i,][which(!is.na(net1[i,]))])
  }
  net2 &lt;- cbind(data$egonet2.SQ001.,data$egonet2.SQ002., data$egonet2.SQ003.,data$egonet2.SQ004., data$egonet2.SQ005.)
  net2 &lt;- ifelse(net2==&quot;&quot;, NA, net2)
  ns2 &lt;- vector()
  for (i in 1:nrow(net2)) {
    ns2[i] &lt;- length(net2[i,][which(!is.na(net2[i,]))])
  }
  net3 &lt;- cbind(data$egonet3.SQ001.,data$egonet3.SQ002., data$egonet3.SQ003.,data$egonet3.SQ004., data$egonet3.SQ005.)
  net3 &lt;- ifelse(net3==&quot;&quot;, NA, net3)
  ns3 &lt;- vector()
  for (i in 1:nrow(net3)) {
    ns3[i] &lt;- length(net3[i,][which(!is.na(net3[i,]))])
  }
  net4 &lt;- cbind(data$egonet4.SQ001.,data$egonet4.SQ002., data$egonet4.SQ003.,data$egonet4.SQ004., data$egonet4.SQ005.)
  net4 &lt;- ifelse(net4==&quot;&quot;, NA, net4)
  ns4 &lt;- vector()
  for (i in 1:nrow(net4)) {
    ns4[i] &lt;- length(net4[i,][which(!is.na(net4[i,]))])
  }
}

# i construct the matching matrices, 1 - 5 (conditional on the ns of the latest net)
# put these in a list
# and list these again, for each respondent
# so a list of lists...
matchingList &lt;- list()
for (i in 1:length(alterL)) { # for ego i
  matchingL &lt;- list()
  # make 5 seperate matching matrices. naturally, only 1 is relevant... but i will select that later.
  matchingL[[1]] &lt;- cbind(data$matching1N1.SQ001_SQ001.[i],data$matching1N1.SQ002_SQ001.[i],data$matching1N1.SQ003_SQ001.[i],data$matching1N1.SQ004_SQ001.[i],data$matching1N1.SQ005_SQ001.[i])
  matchingL[[2]]&lt;- rbind(
    cbind(data$matching1N2.SQ001_SQ001.[i], data$matching1N2.SQ002_SQ001.[i], data$matching1N2.SQ003_SQ001.[i], data$matching1N2.SQ004_SQ001.[i], data$matching1N2.SQ005_SQ001.[i]),
    cbind(data$matching1N2.SQ001_SQ002.[i], data$matching1N2.SQ002_SQ002.[i], data$matching1N2.SQ003_SQ002.[i], data$matching1N2.SQ004_SQ002.[i], data$matching1N2.SQ005_SQ002.[i]))
  matchingL[[3]]&lt;- rbind(
    cbind(data$matching1N3.SQ001_SQ001.[i], data$matching1N3.SQ002_SQ001.[i], data$matching1N3.SQ003_SQ001.[i], data$matching1N3.SQ004_SQ001.[i], data$matching1N3.SQ005_SQ001.[i]),
    cbind(data$matching1N3.SQ001_SQ002.[i], data$matching1N3.SQ002_SQ002.[i], data$matching1N3.SQ003_SQ002.[i], data$matching1N3.SQ004_SQ002.[i], data$matching1N3.SQ005_SQ002.[i]),
    cbind(data$matching1N3.SQ001_SQ003.[i], data$matching1N3.SQ002_SQ003.[i], data$matching1N3.SQ003_SQ003.[i], data$matching1N3.SQ004_SQ003.[i], data$matching1N3.SQ005_SQ003.[i]))
  matchingL[[4]]&lt;- rbind(
    cbind(data$matching1N4.SQ001_SQ001.[i], data$matching1N4.SQ002_SQ001.[i], data$matching1N4.SQ003_SQ001.[i], data$matching1N4.SQ004_SQ001.[i], data$matching1N4.SQ005_SQ001.[i]),
    cbind(data$matching1N4.SQ001_SQ002.[i], data$matching1N4.SQ002_SQ002.[i], data$matching1N4.SQ003_SQ002.[i], data$matching1N4.SQ004_SQ002.[i], data$matching1N4.SQ005_SQ002.[i]),
    cbind(data$matching1N4.SQ001_SQ003.[i], data$matching1N4.SQ002_SQ003.[i], data$matching1N4.SQ003_SQ003.[i], data$matching1N4.SQ004_SQ003.[i], data$matching1N4.SQ005_SQ003.[i]),
    cbind(data$matching1N4.SQ001_SQ004.[i], data$matching1N4.SQ002_SQ004.[i], data$matching1N4.SQ003_SQ004.[i], data$matching1N4.SQ004_SQ004.[i], data$matching1N4.SQ005_SQ004.[i]))
  matchingL[[5]]&lt;- rbind(
    cbind(data$matching1N5.SQ001_SQ001.[i], data$matching1N5.SQ002_SQ001.[i], data$matching1N5.SQ003_SQ001.[i], data$matching1N5.SQ004_SQ001.[i], data$matching1N5.SQ005_SQ001.[i]),
    cbind(data$matching1N5.SQ001_SQ002.[i], data$matching1N5.SQ002_SQ002.[i], data$matching1N5.SQ003_SQ002.[i], data$matching1N5.SQ004_SQ002.[i], data$matching1N5.SQ005_SQ002.[i]),
    cbind(data$matching1N5.SQ001_SQ003.[i], data$matching1N5.SQ002_SQ003.[i], data$matching1N5.SQ003_SQ003.[i], data$matching1N5.SQ004_SQ003.[i], data$matching1N5.SQ005_SQ003.[i]),
    cbind(data$matching1N5.SQ001_SQ004.[i], data$matching1N5.SQ002_SQ004.[i], data$matching1N5.SQ003_SQ004.[i], data$matching1N5.SQ004_SQ004.[i], data$matching1N5.SQ005_SQ004.[i]),
    cbind(data$matching1N5.SQ001_SQ005.[i], data$matching1N5.SQ002_SQ005.[i], data$matching1N5.SQ003_SQ005.[i], data$matching1N5.SQ004_SQ005.[i], data$matching1N5.SQ005_SQ005.[i]))
  matchingList[[i]] &lt;- matchingL
} # so... matchingL[[1]][[5]] is matchingmatrix 5 (i.e., 5 alters named in egonet2) for ego 1

# the combination of the matching matrices and the netsizes for ego allows me to match the names myself.
for (i in 1:length(matchingList)) {     # for ego i
  mL &lt;- matchingList[[i]]               # get the matching list
  ns &lt;- ns2[[i]]                        # get the size of egonet2
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # retrieve the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net2[i,]
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name2[which(alterL[[i]]$alterid==matched[,2])] &lt;- net[matched[,1]]
    }
  }
}

# again, make a matching list for the second matching matrices
# (i.e., matching egonet3 alters to prev. alters);
matchingList2 &lt;- list()
for (i in 1:length(alterL)) { # for ego i
  matching2L &lt;- list()
  matching2L[[1]] &lt;- cbind(data$matching2N1.SQ001_SQ001.[i],data$matching2N1.SQ002_SQ001.[i],data$matching2N1.SQ003_SQ001.[i],data$matching2N1.SQ004_SQ001.[i],data$matching2N1.SQ005_SQ001.[i],data$matching2N1.SQ006_SQ001.[i],data$matching2N1.SQ007_SQ001.[i],data$matching2N1.SQ008_SQ001.[i],data$matching2N1.SQ009_SQ001.[i],data$matching2N1.SQ010_SQ001.[i])
  matching2L[[2]] &lt;- rbind(
    cbind(data$matching2N2.SQ001_SQ001.[i],data$matching2N2.SQ002_SQ001.[i],data$matching2N2.SQ003_SQ001.[i],data$matching2N2.SQ004_SQ001.[i],data$matching2N2.SQ005_SQ001.[i],data$matching2N2.SQ006_SQ001.[i],data$matching2N2.SQ007_SQ001.[i],data$matching2N2.SQ008_SQ001.[i],data$matching2N2.SQ009_SQ001.[i],data$matching2N2.SQ010_SQ001.[i]),
    cbind(data$matching2N2.SQ001_SQ002.[i],data$matching2N2.SQ002_SQ002.[i],data$matching2N2.SQ003_SQ002.[i],data$matching2N2.SQ004_SQ002.[i],data$matching2N2.SQ005_SQ002.[i],data$matching2N2.SQ006_SQ002.[i],data$matching2N2.SQ007_SQ002.[i],data$matching2N2.SQ008_SQ002.[i],data$matching2N2.SQ009_SQ002.[i],data$matching2N2.SQ010_SQ002.[i]))
  matching2L[[3]] &lt;- rbind(
    cbind(data$matching2N3.SQ001_SQ001.[i],data$matching2N3.SQ002_SQ001.[i],data$matching2N3.SQ003_SQ001.[i],data$matching2N3.SQ004_SQ001.[i],data$matching2N3.SQ005_SQ001.[i],data$matching2N3.SQ006_SQ001.[i],data$matching2N3.SQ007_SQ001.[i],data$matching2N3.SQ008_SQ001.[i],data$matching2N3.SQ009_SQ001.[i],data$matching2N3.SQ010_SQ001.[i]),
    cbind(data$matching2N3.SQ001_SQ002.[i],data$matching2N3.SQ002_SQ002.[i],data$matching2N3.SQ003_SQ002.[i],data$matching2N3.SQ004_SQ002.[i],data$matching2N3.SQ005_SQ002.[i],data$matching2N3.SQ006_SQ002.[i],data$matching2N3.SQ007_SQ002.[i],data$matching2N3.SQ008_SQ002.[i],data$matching2N3.SQ009_SQ002.[i],data$matching2N3.SQ010_SQ002.[i]),
    cbind(data$matching2N3.SQ001_SQ003.[i],data$matching2N3.SQ002_SQ003.[i],data$matching2N3.SQ003_SQ003.[i],data$matching2N3.SQ004_SQ003.[i],data$matching2N3.SQ005_SQ003.[i],data$matching2N3.SQ006_SQ003.[i],data$matching2N3.SQ007_SQ003.[i],data$matching2N3.SQ008_SQ003.[i],data$matching2N3.SQ009_SQ003.[i],data$matching2N3.SQ010_SQ003.[i]))
  matching2L[[4]] &lt;- rbind(
    cbind(data$matching2N4.SQ001_SQ001.[i],data$matching2N4.SQ002_SQ001.[i],data$matching2N4.SQ003_SQ001.[i],data$matching2N4.SQ004_SQ001.[i],data$matching2N4.SQ005_SQ001.[i],data$matching2N4.SQ006_SQ001.[i],data$matching2N4.SQ007_SQ001.[i],data$matching2N4.SQ008_SQ001.[i],data$matching2N4.SQ009_SQ001.[i],data$matching2N4.SQ010_SQ001.[i]),
    cbind(data$matching2N4.SQ001_SQ002.[i],data$matching2N4.SQ002_SQ002.[i],data$matching2N4.SQ003_SQ002.[i],data$matching2N4.SQ004_SQ002.[i],data$matching2N4.SQ005_SQ002.[i],data$matching2N4.SQ006_SQ002.[i],data$matching2N4.SQ007_SQ002.[i],data$matching2N4.SQ008_SQ002.[i],data$matching2N4.SQ009_SQ002.[i],data$matching2N4.SQ010_SQ002.[i]),
    cbind(data$matching2N4.SQ001_SQ003.[i],data$matching2N4.SQ002_SQ003.[i],data$matching2N4.SQ003_SQ003.[i],data$matching2N4.SQ004_SQ003.[i],data$matching2N4.SQ005_SQ003.[i],data$matching2N4.SQ006_SQ003.[i],data$matching2N4.SQ007_SQ003.[i],data$matching2N4.SQ008_SQ003.[i],data$matching2N4.SQ009_SQ003.[i],data$matching2N4.SQ010_SQ003.[i]),
    cbind(data$matching2N4.SQ001_SQ004.[i],data$matching2N4.SQ002_SQ004.[i],data$matching2N4.SQ003_SQ004.[i],data$matching2N4.SQ004_SQ004.[i],data$matching2N4.SQ005_SQ004.[i],data$matching2N4.SQ006_SQ004.[i],data$matching2N4.SQ007_SQ004.[i],data$matching2N4.SQ008_SQ004.[i],data$matching2N4.SQ009_SQ004.[i],data$matching2N4.SQ010_SQ004.[i]))
  matching2L[[5]] &lt;- rbind(
    cbind(data$matching2N5.SQ001_SQ001.[i],data$matching2N5.SQ002_SQ001.[i],data$matching2N5.SQ003_SQ001.[i],data$matching2N5.SQ004_SQ001.[i],data$matching2N5.SQ005_SQ001.[i],data$matching2N5.SQ006_SQ001.[i],data$matching2N5.SQ007_SQ001.[i],data$matching2N5.SQ008_SQ001.[i],data$matching2N5.SQ009_SQ001.[i],data$matching2N5.SQ010_SQ001.[i]),
    cbind(data$matching2N5.SQ001_SQ002.[i],data$matching2N5.SQ002_SQ002.[i],data$matching2N5.SQ003_SQ002.[i],data$matching2N5.SQ004_SQ002.[i],data$matching2N5.SQ005_SQ002.[i],data$matching2N5.SQ006_SQ002.[i],data$matching2N5.SQ007_SQ002.[i],data$matching2N5.SQ008_SQ002.[i],data$matching2N5.SQ009_SQ002.[i],data$matching2N5.SQ010_SQ002.[i]),
    cbind(data$matching2N5.SQ001_SQ003.[i],data$matching2N5.SQ002_SQ003.[i],data$matching2N5.SQ003_SQ003.[i],data$matching2N5.SQ004_SQ003.[i],data$matching2N5.SQ005_SQ003.[i],data$matching2N5.SQ006_SQ003.[i],data$matching2N5.SQ007_SQ003.[i],data$matching2N5.SQ008_SQ003.[i],data$matching2N5.SQ009_SQ003.[i],data$matching2N5.SQ010_SQ003.[i]),
    cbind(data$matching2N5.SQ001_SQ004.[i],data$matching2N5.SQ002_SQ004.[i],data$matching2N5.SQ003_SQ004.[i],data$matching2N5.SQ004_SQ004.[i],data$matching2N5.SQ005_SQ004.[i],data$matching2N5.SQ006_SQ004.[i],data$matching2N5.SQ007_SQ004.[i],data$matching2N5.SQ008_SQ004.[i],data$matching2N5.SQ009_SQ004.[i],data$matching2N5.SQ010_SQ004.[i]),
    cbind(data$matching2N5.SQ001_SQ005.[i],data$matching2N5.SQ002_SQ005.[i],data$matching2N5.SQ003_SQ005.[i],data$matching2N5.SQ004_SQ005.[i],data$matching2N5.SQ005_SQ005.[i],data$matching2N5.SQ006_SQ005.[i],data$matching2N5.SQ007_SQ005.[i],data$matching2N5.SQ008_SQ005.[i],data$matching2N5.SQ009_SQ005.[i],data$matching2N5.SQ010_SQ005.[i]))
  matchingList2[[i]] &lt;- matching2L
}

for (i in 1:length(matchingList2)) {    # for ego i
  mL &lt;- matchingList2[[i]]              # get the matching list 2
  ns &lt;- ns3[[i]]                        # get the size of egonet3
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # and the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net3[i,]
    
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name3[matched[,2]] &lt;- net[matched[,1]]
    }
  }
}

# same for matching 3 (i.e., egonet4 with egonets 1-3)
matchingList3 &lt;- list()
for (i in 1:length(alterL)) { # for ego i
  matching3L &lt;- list()
  matching3L[[1]] &lt;- cbind(data$matching3N1.SQ001_SQ001.[i],data$matching3N1.SQ002_SQ001.[i],data$matching3N1.SQ003_SQ001.[i],data$matching3N1.SQ004_SQ001.[i],data$matching3N1.SQ005_SQ001.[i],data$matching3N1.SQ006_SQ001.[i],data$matching3N1.SQ007_SQ001.[i],data$matching3N1.SQ008_SQ001.[i],data$matching3N1.SQ009_SQ001.[i],data$matching3N1.SQ010_SQ001.[i], data$matching3N1.SQ011_SQ001.[i], data$matching3N1.SQ012_SQ001.[i], data$matching3N1.SQ013_SQ001.[i], data$matching3N1.SQ014_SQ001.[i], data$matching3N1.SQ015_SQ001.[i])
  matching3L[[2]] &lt;- rbind(
    cbind(data$matching3N2.SQ001_SQ001.[i],data$matching3N2.SQ002_SQ001.[i],data$matching3N2.SQ003_SQ001.[i],data$matching3N2.SQ004_SQ001.[i],data$matching3N2.SQ005_SQ001.[i],data$matching3N2.SQ006_SQ001.[i],data$matching3N2.SQ007_SQ001.[i],data$matching3N2.SQ008_SQ001.[i],data$matching3N2.SQ009_SQ001.[i],data$matching3N2.SQ010_SQ001.[i], data$matching3N2.SQ011_SQ001.[i], data$matching3N2.SQ012_SQ001.[i], data$matching3N2.SQ013_SQ001.[i], data$matching3N2.SQ014_SQ001.[i], data$matching3N2.SQ015_SQ001.[i]),
    cbind(data$matching3N2.SQ001_SQ002.[i],data$matching3N2.SQ002_SQ002.[i],data$matching3N2.SQ003_SQ002.[i],data$matching3N2.SQ004_SQ002.[i],data$matching3N2.SQ005_SQ002.[i],data$matching3N2.SQ006_SQ002.[i],data$matching3N2.SQ007_SQ002.[i],data$matching3N2.SQ008_SQ002.[i],data$matching3N2.SQ009_SQ002.[i],data$matching3N2.SQ010_SQ002.[i], data$matching3N2.SQ011_SQ002.[i], data$matching3N2.SQ012_SQ002.[i], data$matching3N2.SQ013_SQ002.[i], data$matching3N2.SQ014_SQ002.[i], data$matching3N2.SQ015_SQ002.[i]))
  matching3L[[3]] &lt;- rbind(
    cbind(data$matching3N3.SQ001_SQ001.[i],data$matching3N3.SQ002_SQ001.[i],data$matching3N3.SQ003_SQ001.[i],data$matching3N3.SQ004_SQ001.[i],data$matching3N3.SQ005_SQ001.[i],data$matching3N3.SQ006_SQ001.[i],data$matching3N3.SQ007_SQ001.[i],data$matching3N3.SQ008_SQ001.[i],data$matching3N3.SQ009_SQ001.[i],data$matching3N3.SQ010_SQ001.[i], data$matching3N3.SQ011_SQ001.[i], data$matching3N3.SQ012_SQ001.[i], data$matching3N3.SQ013_SQ001.[i], data$matching3N3.SQ014_SQ001.[i], data$matching3N3.SQ015_SQ001.[i]),
    cbind(data$matching3N3.SQ001_SQ002.[i],data$matching3N3.SQ002_SQ002.[i],data$matching3N3.SQ003_SQ002.[i],data$matching3N3.SQ004_SQ002.[i],data$matching3N3.SQ005_SQ002.[i],data$matching3N3.SQ006_SQ002.[i],data$matching3N3.SQ007_SQ002.[i],data$matching3N3.SQ008_SQ002.[i],data$matching3N3.SQ009_SQ002.[i],data$matching3N3.SQ010_SQ002.[i], data$matching3N3.SQ011_SQ002.[i], data$matching3N3.SQ012_SQ002.[i], data$matching3N3.SQ013_SQ002.[i], data$matching3N3.SQ014_SQ002.[i], data$matching3N3.SQ015_SQ002.[i]),
    cbind(data$matching3N3.SQ001_SQ003.[i],data$matching3N3.SQ002_SQ003.[i],data$matching3N3.SQ003_SQ003.[i],data$matching3N3.SQ004_SQ003.[i],data$matching3N3.SQ005_SQ003.[i],data$matching3N3.SQ006_SQ003.[i],data$matching3N3.SQ007_SQ003.[i],data$matching3N3.SQ008_SQ003.[i],data$matching3N3.SQ009_SQ003.[i],data$matching3N3.SQ010_SQ003.[i], data$matching3N3.SQ011_SQ003.[i], data$matching3N3.SQ012_SQ003.[i], data$matching3N3.SQ013_SQ003.[i], data$matching3N3.SQ014_SQ003.[i], data$matching3N3.SQ015_SQ003.[i]))
  matching3L[[4]] &lt;- rbind(
    cbind(data$matching3N4.SQ001_SQ001.[i],data$matching3N4.SQ002_SQ001.[i],data$matching3N4.SQ003_SQ001.[i],data$matching3N4.SQ004_SQ001.[i],data$matching3N4.SQ005_SQ001.[i],data$matching3N4.SQ006_SQ001.[i],data$matching3N4.SQ007_SQ001.[i],data$matching3N4.SQ008_SQ001.[i],data$matching3N4.SQ009_SQ001.[i],data$matching3N4.SQ010_SQ001.[i], data$matching3N4.SQ011_SQ001.[i], data$matching3N4.SQ012_SQ001.[i], data$matching3N4.SQ013_SQ001.[i], data$matching3N4.SQ014_SQ001.[i], data$matching3N4.SQ015_SQ001.[i]),
    cbind(data$matching3N4.SQ001_SQ002.[i],data$matching3N4.SQ002_SQ002.[i],data$matching3N4.SQ003_SQ002.[i],data$matching3N4.SQ004_SQ002.[i],data$matching3N4.SQ005_SQ002.[i],data$matching3N4.SQ006_SQ002.[i],data$matching3N4.SQ007_SQ002.[i],data$matching3N4.SQ008_SQ002.[i],data$matching3N4.SQ009_SQ002.[i],data$matching3N4.SQ010_SQ002.[i], data$matching3N4.SQ011_SQ002.[i], data$matching3N4.SQ012_SQ002.[i], data$matching3N4.SQ013_SQ002.[i], data$matching3N4.SQ014_SQ002.[i], data$matching3N4.SQ015_SQ002.[i]),
    cbind(data$matching3N4.SQ001_SQ003.[i],data$matching3N4.SQ002_SQ003.[i],data$matching3N4.SQ003_SQ003.[i],data$matching3N4.SQ004_SQ003.[i],data$matching3N4.SQ005_SQ003.[i],data$matching3N4.SQ006_SQ003.[i],data$matching3N4.SQ007_SQ003.[i],data$matching3N4.SQ008_SQ003.[i],data$matching3N4.SQ009_SQ003.[i],data$matching3N4.SQ010_SQ003.[i], data$matching3N4.SQ011_SQ003.[i], data$matching3N4.SQ012_SQ003.[i], data$matching3N4.SQ013_SQ003.[i], data$matching3N4.SQ014_SQ003.[i], data$matching3N4.SQ015_SQ003.[i]),
    cbind(data$matching3N4.SQ001_SQ003.[i],data$matching3N4.SQ002_SQ003.[i],data$matching3N4.SQ003_SQ003.[i],data$matching3N4.SQ004_SQ003.[i],data$matching3N4.SQ005_SQ003.[i],data$matching3N4.SQ006_SQ003.[i],data$matching3N4.SQ007_SQ003.[i],data$matching3N4.SQ008_SQ003.[i],data$matching3N4.SQ009_SQ003.[i],data$matching3N4.SQ010_SQ003.[i], data$matching3N4.SQ011_SQ003.[i], data$matching3N4.SQ012_SQ003.[i], data$matching3N4.SQ013_SQ003.[i], data$matching3N4.SQ014_SQ003.[i], data$matching3N4.SQ015_SQ003.[i]),
    cbind(data$matching3N4.SQ001_SQ004.[i],data$matching3N4.SQ002_SQ004.[i],data$matching3N4.SQ003_SQ004.[i],data$matching3N4.SQ004_SQ004.[i],data$matching3N4.SQ005_SQ004.[i],data$matching3N4.SQ006_SQ004.[i],data$matching3N4.SQ007_SQ004.[i],data$matching3N4.SQ008_SQ004.[i],data$matching3N4.SQ009_SQ004.[i],data$matching3N4.SQ010_SQ004.[i], data$matching3N4.SQ011_SQ004.[i], data$matching3N4.SQ012_SQ004.[i], data$matching3N4.SQ013_SQ004.[i], data$matching3N4.SQ014_SQ004.[i], data$matching3N4.SQ015_SQ004.[i]))
  matching3L[[5]] &lt;- rbind(
    cbind(data$matching3N5.SQ001_SQ001.[i],data$matching3N5.SQ002_SQ001.[i],data$matching3N5.SQ003_SQ001.[i],data$matching3N5.SQ004_SQ001.[i],data$matching3N5.SQ005_SQ001.[i],data$matching3N5.SQ006_SQ001.[i],data$matching3N5.SQ007_SQ001.[i],data$matching3N5.SQ008_SQ001.[i],data$matching3N5.SQ009_SQ001.[i],data$matching3N5.SQ010_SQ001.[i], data$matching3N5.SQ011_SQ001.[i], data$matching3N5.SQ012_SQ001.[i], data$matching3N5.SQ013_SQ001.[i], data$matching3N5.SQ014_SQ001.[i], data$matching3N5.SQ015_SQ001.[i]),
    cbind(data$matching3N5.SQ001_SQ002.[i],data$matching3N5.SQ002_SQ002.[i],data$matching3N5.SQ003_SQ002.[i],data$matching3N5.SQ004_SQ002.[i],data$matching3N5.SQ005_SQ002.[i],data$matching3N5.SQ006_SQ002.[i],data$matching3N5.SQ007_SQ002.[i],data$matching3N5.SQ008_SQ002.[i],data$matching3N5.SQ009_SQ002.[i],data$matching3N5.SQ010_SQ002.[i], data$matching3N5.SQ011_SQ002.[i], data$matching3N5.SQ012_SQ002.[i], data$matching3N5.SQ013_SQ002.[i], data$matching3N5.SQ014_SQ002.[i], data$matching3N5.SQ015_SQ002.[i]),
    cbind(data$matching3N5.SQ001_SQ003.[i],data$matching3N5.SQ002_SQ003.[i],data$matching3N5.SQ003_SQ003.[i],data$matching3N5.SQ004_SQ003.[i],data$matching3N5.SQ005_SQ003.[i],data$matching3N5.SQ006_SQ003.[i],data$matching3N5.SQ007_SQ003.[i],data$matching3N5.SQ008_SQ003.[i],data$matching3N5.SQ009_SQ003.[i],data$matching3N5.SQ010_SQ003.[i], data$matching3N5.SQ011_SQ003.[i], data$matching3N5.SQ012_SQ003.[i], data$matching3N5.SQ013_SQ003.[i], data$matching3N5.SQ014_SQ003.[i], data$matching3N5.SQ015_SQ003.[i]),
    cbind(data$matching3N5.SQ001_SQ003.[i],data$matching3N5.SQ002_SQ003.[i],data$matching3N5.SQ003_SQ003.[i],data$matching3N5.SQ004_SQ003.[i],data$matching3N5.SQ005_SQ003.[i],data$matching3N5.SQ006_SQ003.[i],data$matching3N5.SQ007_SQ003.[i],data$matching3N5.SQ008_SQ003.[i],data$matching3N5.SQ009_SQ003.[i],data$matching3N5.SQ010_SQ003.[i], data$matching3N5.SQ011_SQ003.[i], data$matching3N5.SQ012_SQ003.[i], data$matching3N5.SQ013_SQ003.[i], data$matching3N5.SQ014_SQ003.[i], data$matching3N5.SQ015_SQ003.[i]),
    cbind(data$matching3N5.SQ001_SQ005.[i],data$matching3N5.SQ002_SQ005.[i],data$matching3N5.SQ003_SQ005.[i],data$matching3N5.SQ004_SQ005.[i],data$matching3N5.SQ005_SQ005.[i],data$matching3N5.SQ006_SQ005.[i],data$matching3N5.SQ007_SQ005.[i],data$matching3N5.SQ008_SQ005.[i],data$matching3N5.SQ009_SQ005.[i],data$matching3N5.SQ010_SQ005.[i], data$matching3N5.SQ011_SQ005.[i], data$matching3N5.SQ012_SQ005.[i], data$matching3N5.SQ013_SQ005.[i], data$matching3N5.SQ014_SQ005.[i], data$matching3N5.SQ015_SQ005.[i]))
  matchingList3[[i]] &lt;- matching3L
}

for (i in 1:length(matchingList3)) {    # for ego i
  mL &lt;- matchingList3[[i]]              # get the matching list 2
  ns &lt;- ns4[[i]]                        # get the size of egonet4
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # and the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net4[i,]
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name4[matched[,2]] &lt;- net[matched[,1]]
    }
  }
}

# i use the name interpreter data to add alter characteristics
# i make a data-frame of alters&#39; gender
# in the survey, in name-interpreter questions, only unique (i.e., non-matched)
# alters were listed...
# thus, alter ids without a gender assigned to them are non-uniques, and can
# later be filtered out.

df_gender &lt;- data.frame(
  p1 = data$gender.SQ001.,
  p2 = data$gender.SQ002.,
  p3 = data$gender.SQ003.,
  p4 = data$gender.SQ004.,
  p5 = data$gender.SQ005.,
  p6 = data$gender.SQ006.,
  p7 = data$gender.SQ007.,
  p8 = data$gender.SQ008.,
  p9 = data$gender.SQ009.,
  p10= data$gender.SQ010.,
  p11= data$gender.SQ011.,
  p12= data$gender.SQ012.,
  p13= data$gender.SQ013.,
  p14= data$gender.SQ014.,
  p15= data$gender.SQ015.,
  p16= data$gender.SQ016.,
  p17= data$gender.SQ017.,
  p18= data$gender.SQ018.,
  p19= data$gender.SQ019.,
  p20= data$gender.SQ020.)

for (i in 1:length(alterL)) {
  alterL[[i]]$alter_gender &lt;- 
    ifelse(unlist(df_gender[i,], use.names=F)==&quot;Man&quot;, 0,  # male = ref.
           ifelse(unlist(df_gender[i,], use.names=F)==&quot;Vrouw&quot;, 1,
                  ifelse(unlist(df_gender[i,], use.names=F)==&quot;Anders&quot;, 2, &quot;&quot;)))
}

# same for age...
df_age &lt;- data.frame(
  p1 = data$age.SQ001.,
  p2 = data$age.SQ002.,
  p3 = data$age.SQ003.,
  p4 = data$age.SQ004.,
  p5 = data$age.SQ005.,
  p6 = data$age.SQ006.,
  p7 = data$age.SQ007.,
  p8 = data$age.SQ008.,
  p9 = data$age.SQ009.,
  p10= data$age.SQ010.,
  p11= data$age.SQ011.,
  p12= data$age.SQ012.,
  p13= data$age.SQ013.,
  p14= data$age.SQ014.,
  p15= data$age.SQ015.,
  p16= data$age.SQ016.,
  p17= data$age.SQ017.,
  p18= data$age.SQ018.,
  p19= data$age.SQ019.,
  p20= data$age.SQ020.)

for (i in 1:length(alterL)) {
  alterL[[i]]$alter_age &lt;- 
    ifelse(unlist(df_age[i,], use.names=F)==&quot;Jonger dan 18 jaar&quot;, 16, #???
           ifelse(unlist(df_age[i,], use.names=F)==&quot;18 tot 21 jaar&quot;, 20,
                  ifelse(unlist(df_age[i,], use.names=F)==&quot;22 tot 25 jaar&quot;, 23,
                         ifelse(unlist(df_age[i,], use.names=F)==&quot;26 tot 30 jaar&quot;, 28,
                                ifelse(unlist(df_age[i,], use.names=F)==&quot;31 tot 40 jaar&quot;, 35,
                                       ifelse(unlist(df_age[i,], use.names=F)==&quot;Ouder dan 40 jaar&quot;, 45, #???
                                              ifelse(unlist(df_age[i,], use.names=F)==&quot;Weet ik niet&quot;, NA, # i don&#39;t know = missing
                                                     unlist(df_age[i,], use.names=F))))))))}

# education... was asked in w2. for all alters (thus in w2, and unique names of w1)
# but w1 names were only listed if they did not correspond to w2 alters...
# ...

# political placement of alters on left-right spectrum (as perceived by ego)
df_pol &lt;- data.frame(
  p1 = data$P5.SQ001.,
  p2 = data$P5.SQ002.,
  p3 = data$P5.SQ003.,
  p4 = data$P5.SQ004.,
  p5 = data$P5.SQ005.,
  p6 = data$P5.SQ006.,
  p7 = data$P5.SQ007.,
  p8 = data$P5.SQ008.,
  p9 = data$P5.SQ009.,
  p10= data$P5.SQ010.,
  p11= data$P5.SQ011.,
  p12= data$P5.SQ012.,
  p13= data$P5.SQ013.,
  p14= data$P5.SQ014.,
  p15= data$P5.SQ015.,
  p16= data$P5.SQ016.,
  p17= data$P5.SQ017.,
  p18= data$P5.SQ018.,
  p19= data$P5.SQ019.,
  p20= data$P5.SQ020.)


for (i in 1:length(alterL)) {
  alter_placement &lt;- unlist(df_pol[i,],use.names=F)
  # extract numbers from strings
  alter_placement &lt;- stringr::str_extract(alter_placement,  pattern = &quot;\\(?[0-9,.]+\\)?&quot;)
  alterL[[i]]$alter_pol &lt;- alter_placement
}

# before we can construct similarity indices, we must add ego-attributes
for (i in 1:length(alterL)) {
  #  gender
  alterL[[i]]$ego_gender &lt;- ifelse(data$A1[i] == &quot;Man&quot;, 0,
                                   ifelse(data$A1[i] == &quot;Vrouw&quot;, 1,
                                          ifelse(data$A1[i] == &quot;Overige&quot;, 2,
                                                 NA)))
  # education 
  # @RF: these score should correspond to scores given to alter educ...
  alterL[[i]]$ego_educ &lt;- ifelse(data$T1[i] == &quot;aan de Hogeschool van Arnhem en Nijmegen (HAN)&quot;, &quot;hbo&quot;, &quot;universiteit&quot; )
  
  # age
  # calculated as the difference between submission date and birthdate
  # in years.
  birth_date &lt;- as.Date(data$A2)
  x_date &lt;- as.Date(data$submitdate)
  require(lubridate)
  alterL[[i]]$ego_age &lt;- trunc((birth_date[i] %--% x_date[i]) / years(1))
  
  # political orientation (left-right)
  ego_placement &lt;- stringr::str_extract(data$P1.SQ001.,  pattern = &quot;\\(?[0-9,.]+\\)?&quot;)
  alterL[[i]]$ego_pol &lt;- as.numeric(ego_placement[i])
}

# i filter out the unique, non-duplicate alters;
# by excluding alters with empty strings for gender attribute
for ( i in 1:length(alterL)) {
  alterL[[i]] &lt;- alterL[[i]][which(alterL[[i]]$alter_gender!=&quot;&quot;),]
  # and replace the alter id: 1 : no. unique alters
  alterL[[i]]$alterid &lt;- 1:nrow(alterL[[i]])
}

# dyadic similarity:
for (i in 1:length(alterL))  { # for ego i
  # get attributes of ego
  agei &lt;- alterL[[i]]$ego_age[1]
  genderi &lt;- alterL[[i]]$ego_gender[1]
  #educi &lt;- alterL[[i]]$ego_educ[1]
  poli &lt;- alterL[[i]]$ego_pol[1]
  
  for (j in 1:max(alterL[[i]]$alterid)) { # for alter j
    # calculate &quot;same gender&quot; (0/1)
    genderj &lt;- as.numeric(alterL[[i]]$alter_gender[j]) # get alter j gender
    same &lt;- ifelse(genderi==genderj, 1, 0)
    alterL[[i]]$same_gender[which(alterL[[i]]$alterid==j)] &lt;- same
    
    # calculate similarity for age and political orientation
    # @RF.. to-do: education
    
    # @RF... i may want to construct similarity indices for continues variables
    # sim^z_ij = 1 - |z_i - z_j| / rang_z
    # this is beneficial, as index values range between 0 and 1...
    # here, some conditions are relevant; as similarity would be -INF is rang_z=0;
    # and incalculable if z_j = NA (unknown) [and/or z_i = NA (i.e., for political orientation)]
    
    # for now... i calculate similarity/homophily as the absolute difference between
    # alter and ego value (cf. Marin &amp; Hampton 2019); &quot;easy method&quot;
    agej &lt;- as.numeric(alterL[[i]]$alter_age[j]) # get alter j age
    difage &lt;- abs(agei - agej) # difference score
    # so higher values represent *less* similarity
    if( !is.na (agej) ) { # similarity only calculable if z_j is known!
      alterL[[i]]$dif_age[which(alterL[[i]]$alterid==j)] &lt;- difage
    } else { alterL[[i]]$dif_age[which(alterL[[i]]$alterid==j)] &lt;- NA}
  }
  
  # dyadic similarity:
  for (i in 1:length(alterL))  { # for ego i
    # get attributes of ego
    agei &lt;- alterL[[i]]$ego_age[1]
    genderi &lt;- alterL[[i]]$ego_gender[1]
    #educi &lt;- alterL[[i]]$ego_educ[1]
    poli &lt;- alterL[[i]]$ego_pol[1]
    
    for (j in 1:max(alterL[[i]]$alterid)) { # for alter j
      # calculate &quot;same gender&quot; (0/1)
      genderj &lt;- as.numeric(alterL[[i]]$alter_gender[j]) # get alter j gender
      same &lt;- ifelse(genderi==genderj, 1, 0)
      alterL[[i]]$same_gender[which(alterL[[i]]$alterid==j)] &lt;- same
      
      # calculate similarity for age and political orientation
      # @RF.. to-do: education
      
      # @RF... i may want to construct similarity indices for continues variables
      # sim^z_ij = 1 - |z_i - z_j| / rang_z
      # probably for political orientation, as the range (scale) is known...
      # this is beneficial, as index values range between 0 and 1...
      # here, some conditions are relevant; as similarity would be -INF is rang_z=0;
      # and incalculable if z_j and/or z_i = NA (unknown)
      
      # for now... i calculate similarity/homophily as the absolute difference between
      # alter and ego value (cf. Marin &amp; Hampton 2019);
      agej &lt;- as.numeric(alterL[[i]]$alter_age[j]) # get alter j attributes
      polj &lt;- as.numeric(alterL[[i]]$alter_pol[j])
      
      difage &lt;- abs(agei - agej) # difference scores
      difpol &lt;- abs(poli - polj)
      # higher values represent less similarity
      
      if( !is.na (agej) ) { # age similarity only calculable if z_j is known!
        alterL[[i]]$dif_age[which(alterL[[i]]$alterid==j)] &lt;- difage
      } else { alterL[[i]]$dif_age[which(alterL[[i]]$alterid==j)] &lt;- NA}
      
      if( !is.na (polj) &amp; !is.na(poli) ) { # pol. similarity only if zi AND zj are known
        alterL[[i]]$dif_pol[which(alterL[[i]]$alterid==j)] &lt;- difpol
      } else { alterL[[i]]$dif_pol[which(alterL[[i]]$alterid==j)] &lt;- NA}
    }
    
  }
}

# based on list of data-frames for each ego, i make a long data-frame with 
# alters nested in egos
# nrow per ego depends on netsize
ns &lt;- vector()
for (i in 1:length(alterL)){
  ns[i] &lt;- nrow(alterL[[i]])
}

df &lt;- data.frame(
  ego = rep(1:length(alterL),ns)
)

# add ego-level variables
df$ego_gender &lt;- NA
df$ego_age &lt;- NA
df$ego_educ &lt;- NA
df$ego_pol &lt;- NA

for (i in unique(df$ego)) { # for ego
  df$ego_gender[which(df$ego==i)] &lt;- alterL[[i]]$ego_gender[1]
  df$ego_age[which(df$ego==i)] &lt;- alterL[[i]]$ego_age[1]
  df$ego_educ[which(df$ego==i)] &lt;- alterL[[i]]$ego_educ[1]
  df$ego_pol[which(df$ego==i)] &lt;- alterL[[i]]$ego_pol[1]
  #@RF: perhaps add missing dummy for political orienation... interesting category?
}

# other ego-variables
# merge data waves
data$id &lt;- 1:nrow(data)
d &lt;- merge(data, data2, by=&quot;email&quot;)
# sort
d &lt;- data.frame(d[order(d$id.x, decreasing = F), ])

df$housing &lt;- NA # current living situation
# @RF. ideally, i would calculate the distance in km between the two residencies.

for (i in unique(df$ego)) {
  df$housing[which(df$ego==i)] &lt;- d$A4.x[i] # w1, half year prior to transition
  
  # if respondent does not still live here at w1, get current living situation
  df$housing[which(df$ego==i)] &lt;- ifelse(d$A6[i] == &quot;Nee&quot;, d$A7[i], df$housing[which(df$ego==i)]) 
  
  # if respondent has moved since then, ...
  df$housing[which(df$ego==i)] &lt;- ifelse(d$A4.y[i] == &quot;Ja&quot; | d$A4b[i] == &quot;Ja&quot; | d$A4c[i] == &quot;Ja&quot;, d$A4d[i], df$housing[which(df$ego==i)] )
}

# make housing categories...
df$alone &lt;- ifelse(df$housing==&quot;alleen&quot;,1,0)
df$parents &lt;- ifelse(df$housing==&quot;inwonend bij je ouder(s)/verzorger(s)&quot;,1,0)
df$other &lt;- ifelse(df$housing!=&quot;alleen&quot; | df$housing!=&quot;inwonend bij je ouder(s)/verzorger(s)&quot;,1,0)
library(dplyr)
df&lt;-df %&gt;% select(-housing) # remove character variable.

# add a dynamic attribute indicating residential move over the academic year (yes/no)
df$housing_change &lt;- NA
for ( i in unique(df$ego)) {
  df$housing_change[which(df$ego==i)] &lt;- ifelse(d$A6[i] == &quot;Nee&quot; | d$A4.y[i] == &quot;Ja&quot; | d$A4b[i] == &quot;Ja&quot; | d$A4c[i] == &quot;Ja&quot;, 1, 0)
}

# ideally, also a variable indicating the distance of the move (we have 4-digit zip code info on residence pre- and post-transition)

# ego main occupation before transitioning to uni.
df$sec_educ &lt;- NA
df$tert_educ &lt;- NA
df$work &lt;- NA
df$gapyr &lt;- NA
df$other &lt;- NA

for ( i in unique(df$ego)) {
  df$sec_educ[which(df$ego==i)] &lt;- ifelse(data$E1[i]==&quot;Ik zat op de middelbare school&quot;,1,0)
  df$tert_educ[which(df$ego==i)] &lt;- ifelse(data$E1[i]==&quot;Ik deed een MBO-, HBO- of WO-opleiding&quot;,1,0)
  df$work[which(df$ego==i)] &lt;-  ifelse(data$E1[i]==&quot;Ik werkte&quot;,1,0)
  df$gapyr[which(df$ego==i)] &lt;- ifelse(data$E1[i]==&quot;Ik had een tussenjaar&quot;,1,0)
  df$other[which(df$ego==i)] &lt;- ifelse(data$E1[i]==&quot;Overige&quot;,1,0)
}

# being / becoming member of a formal organization (e.g., sports club, political party)
# organizations ego is member of...
# pre-transition
f1 &lt;- cbind(data$F1.SQ001.,data$F1.SQ002.,data$F1.SQ003.,data$F1.SQ004.,data$F1.SQ005.)
# currently (w1)
f2 &lt;- cbind(data$F2.SQ001.,data$F2.SQ002.,data$F2.SQ003.,data$F2.SQ004.,data$F2.SQ005.)

df$organization &lt;- NA  # being member
df$joined_org &lt;- NA # became member after transition.

for (i in unique(df$ego)) {
  # if ego was member of at least one type of organization...
  # give score 1:
  df$organization[which(df$ego==i)] &lt;- ifelse(&quot;Ja&quot; %in% f2[i,], 1, 0)
  
  # if ego joined (at least) one organization...
  # i.e., if ego was not member of the particular organization before tranistioning
  # to uni, but he/she was after transitioning...
  # give score 1 on the dynamic attribute
  
  ind &lt;- which(f2[i,]==&quot;Ja&quot;) # get organizations ego is member of...
  # find out if ego was already member or not... 
  df$joined_org[which(df$ego==i)] &lt;- ifelse(&quot;Nee&quot; %in% f1[i,ind],1,0)
}

# other organizations ego may have joined
df$studiever &lt;- NA
df$studentver &lt;- NA
for (i in unique(df$ego)) {
  df$studiever[which(df$ego==i)] &lt;- ifelse(data$E4[i]==&quot;Ja&quot;,1,0)
  df$studentver[which(df$ego==i)] &lt;- ifelse(data$E5[i]==&quot;Ja&quot;,1,0)
}

# romantic relationship
df$romantic &lt;- NA
for (i in unique(df$ego)) {
  df$romantic[which(df$ego==i)] &lt;- ifelse(data$R3[i] == &quot;Ja&quot;, 1,0)
}

#loneliness:
#https://www.cbs.nl/nl-nl/maatwerk/2020/52/eenzaamheid
# 1) &quot;Er zijn genoeg mensen op wie ik in geval van narigheid kan terugvallen&quot; (social loneliness)
# 2) &quot;Ik mis mensen om me heen&quot; (emotional loneliness)
l &lt;- cbind(d$stellingen.SQ001., d$stellingen.SQ002.)
l &lt;- ifelse(l==&quot;Hele-maal oneens&quot;, 1,
            ifelse(l==&quot;Mee oneens&quot;, 2,
                   # do not know = neutral... this category was sparsely populated 
                   ifelse(l==&quot;Neutraal&quot; | l==&quot;Ik weet het niet&quot;, 3, 
                          ifelse(l==&quot;Mee eens&quot;, 4,
                                 ifelse(l==&quot;Hele-maal eens&quot;, 5, l)))))
# turn the first indicator, so that higher scores indicate &quot;more&quot; loneliness.
l[,1] &lt;- 6-as.numeric(l[,1])

#extraversion
# 1) &quot;Ik ben communicatief, een gezelschapsmens&quot;
# 2) &quot;Ik ben soms verlegen, introvert&quot;
e &lt;- cbind(d$stellingen.SQ003., d$stellingen.SQ006.)
e &lt;- ifelse(e==&quot;Hele-maal oneens&quot;, 1,
            ifelse(e==&quot;Mee oneens&quot;, 2,
                   ifelse(e==&quot;Neutraal&quot; | e==&quot;Ik weet het niet&quot;, 3, 
                          ifelse(e==&quot;Mee eens&quot;, 4,
                                 ifelse(e==&quot;Hele-maal eens&quot;, 5, e)))))
# turn the second indicator
e[,2] &lt;- 6-as.numeric(e[,2])

# calculate averages.
df$loneliness &lt;- NA
df$extraversion &lt;- NA

for (i in unique(df$ego)) {
  l_scores &lt;- as.numeric(l[i,])
  e_scores &lt;- as.numeric(e[i,])
  df$loneliness[which(df$ego==i)] &lt;- mean(l_scores)
  df$extraversion[which(df$ego==i)] &lt;- mean(e_scores)
}

# study load may hinder social interaction...
# unfortunately, this is not a dynamic variable; ...
# &quot;Ik heb het gevoel dat ik veel dingen mis doordat ik veel tijd kwijt ben aan mijn studie&quot;
df$study_load &lt;- NA
for (i in unique(df$ego)) {
  df$study_load[which(df$ego==i)] &lt;- d$stellingen.SQ004.[i]
}
# recode
df$study_load &lt;- ifelse(df$study_load==&quot;Hele-maal oneens&quot;, 1,
                        ifelse(df$study_load==&quot;Mee oneens&quot;, 2,
                               ifelse(df$study_load==&quot;Neutraal&quot; | df$study_load==&quot;Ik weet het niet&quot;, 3, 
                                      ifelse(df$study_load==&quot;Mee eens&quot;, 4,
                                             ifelse(df$study_load==&quot;Hele-maal eens&quot;, 5, df$study_load)))))

# financial restrictions for social interaction
# &quot;Maak je het mee dat je activiteiten of uitstapjes met vrienden moet missen omdat je je deze niet financieel kunt veroorloven?&quot;
df$fin_restr &lt;- NA
for (i in unique(df$ego)) {
  df$fin_restr[which(df$ego==i)] &lt;- d$G01Q111[i]
}
df$fin_restr &lt;- ifelse(df$fin_restr==&quot;Nooit&quot;,0,
                       ifelse(df$fin_restr==&quot;Soms&quot;,1,
                              ifelse(df$fin_restr==&quot;Vaak&quot;,2,
                                     ifelse(df$fin_restr==&quot;Altijd&quot;,3, NA))))
# 0. never; 1. sometimes; 2. often; 3. always

# covid! worries/anxiety about covid may reduce social interaction;
# but also the feelings of people in your social circle of course.
# @RF: i include worries/anxiety about the DELTA-variant (i.e., during summer holidays)
# this may affect tie maintenance during the transition to uni...
df$ego_covid_anx &lt;- NA
df$alters_covid_anx &lt;- NA
for (i in unique(df$ego)) {
  df$ego_covid_anx[which(df$ego==i)] &lt;- d$covid.SQ001.[i]
  df$alters_covid_anx[which(df$ego==i)] &lt;- d$covid.SQ002.[i]
}
# recode
df$alters_covid_anx &lt;- ifelse(df$alters_covid_anx==&quot;Hele-maal oneens&quot;, 1,
                              ifelse(df$alters_covid_anx==&quot;Mee oneens&quot;, 2,
                                     ifelse(df$alters_covid_anx==&quot;Neu-traal&quot; | df$alters_covid_anx==&quot;Ik weet het niet&quot; , 3,
                                            ifelse(df$alters_covid_anx==&quot;Mee eens&quot;, 4,  
                                                   ifelse(df$alters_covid_anx==&quot;Hele-maal eens&quot;, 5, df$alters_covid_anx)))))
df$ego_covid_anx &lt;- ifelse(df$ego_covid_anx==&quot;Hele-maal oneens&quot;, 1,
                           ifelse(df$ego_covid_anx==&quot;Mee oneens&quot;, 2,
                                  ifelse(df$ego_covid_anx==&quot;Neu-traal&quot; | df$ego_covid_anx==&quot;Ik weet het niet&quot; , 3,
                                         ifelse(df$ego_covid_anx==&quot;Mee eens&quot;, 4,  
                                                ifelse(df$ego_covid_anx==&quot;Hele-maal eens&quot;, 5, df$ego_covid_anx)))))

####
# @RF. add network variables
# size (no. of unique alters); density (unfortunately, i only know this per ego-net)
df$netsize &lt;- NA
for (i in unique(df$ego)) {
  df$netsize[which(df$ego==i)] &lt;- nrow(alterL[[i]])
}
##...

#######
# to the alter level!
# make alter ids per ego
df$alter &lt;- NA
for (i in unique(df$ego)) {
  df$alter[which(df$ego==i)] &lt;- 1:nrow(df[which(df$ego==i),])
}

# binary attributes, indicating whether alters appeared in each of the egonets
df$cdn &lt;- NA
df$study &lt;- NA
df$bff &lt;- NA
df$csn &lt;- NA

for (i in unique(df$ego)) {  
  for (j in 1:nrow(df[which(df$ego==i),])) { # for alters nested in ego
    # find out if names denoting alter j appear in the 4 egonets
    alter &lt;- unlist(alterL[[i]][j,6:9], use.names = F) # get names alter j
    alter &lt;- alter[!is.na(alter)] # exclude NAs
    cdn &lt;- alter %in% net1[i,]
    study &lt;- alter %in% net2[i,]
    bff &lt;- alter %in% net3[i,]
    csn &lt;- alter %in% net4[i,]
    # and if so, give alter j score 1 on indicators; 0 otherwise
    df$cdn[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% cdn, 1, 0)
    df$study[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% study, 1, 0)
    df$bff[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% bff, 1, 0)
    df$csn[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% csn, 1, 0)
  }
}

# multiplexity as an alter (tie) attribute: 
# the the number of networks j appears in (the number of ties i and j share)
df$multiplex &lt;- rowSums(df[,c(27:30)])

# add alter level attributes
df$alter_gender &lt;- NA
df$alter_age &lt;- NA
df$alter_educ &lt;- NA
df$alter_pol &lt;- NA
#...

for (i in unique(df$ego)) { # for ego
  for (j in unique(df$alter[which(df$ego==i)])) { # for alter
    df$alter_gender[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$alter_gender[j]
    df$alter_age[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$alter_age[j]
    df$alter_educ[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$alter_educ[j]
    df$alter_pol[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$alter_pol[j]
  }
}

# dyadic level
df$same_gender = NA
df$sim_educ = NA
df$dif_age = NA
df$dif_pol = NA

for (i in unique(df$ego)) { # for ego
  for (j in unique(df$alter[which(df$ego==i)])) { # for alter
    df$same_gender[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$same_gender[j]
    df$sim_educ[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$sim_educ[j]
    df$dif_age[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$dif_age[j]
    df$dif_pol[which(df$ego==i &amp; df$alter==j)] &lt;- alterL[[i]]$dif_pol[j]    
  }
}

# i have to find out whether alters were maintained in w2
df$survive &lt;- NA
# In wave 2, another matching procedure was used;
# in rows, alters named in w2 are listed; columns denote (unique) alters of w1,
# so the same one as our data-frame.
# again, i made multiple matrices, conditional on the no. of unique alters of w1
# (15, to be precise)
# if, in one of these matrices, column j was marked as corresponding to a
# named alter in w2, then alter j did, indeed, survive...

# subset w1-w2 matching matrices; and email
w2 &lt;- data2[,c(637:936, 1427)]
# subset data id and email
d &lt;- data[,c(1,ncol(data))]
# merge the data-set with the w1-w2 matching matrices
d &lt;- merge(w2, d, by=&quot;email&quot;)
# sort by the id variable, so that the ordening of responses is the same as our
# long dataframe
d &lt;- data.frame(d[order(d$id, decreasing = F), ])
# and reorder rownames
rownames(d) &lt;- 1:length(rownames(d))


for (i in 1:nrow(d)) {  # for ego i
  
  matchingL &lt;- list()  # make a list of matching matrices
  {
    matchingL[[1]] &lt;- d[i,2:21]
    matchingL[[2]] &lt;- d[i,22:41]
    matchingL[[3]] &lt;- d[i,42:61]
    matchingL[[4]] &lt;- d[i,62:81]
    matchingL[[5]] &lt;- d[i,82:101]
    matchingL[[6]] &lt;- d[i,102:121]
    matchingL[[7]] &lt;- d[i,122:141]
    matchingL[[8]] &lt;- d[i,142:161]
    matchingL[[9]] &lt;- d[i,162:181]
    matchingL[[10]] &lt;- d[i,182:201]
    matchingL[[11]] &lt;- d[i,202:221]
    matchingL[[12]] &lt;- d[i,222:241]
    matchingL[[13]] &lt;- d[i,242:261]
    matchingL[[14]] &lt;- d[i,262:281]
    matchingL[[15]] &lt;- d[i,282:301]
  }
  # get netsize of ego i
  ns &lt;- max(df$alter[which(df$ego==i)])
  # get the corresponding matrix
  mm &lt;- matchingL[[ns]]
  # unlist the answers given
  ans &lt;- unlist(mm, use.names = F)
  # use &#39;stringr&#39; to extract numbers in these answers,
  # they refer to the id of &quot;survived&quot; alters
  id &lt;- unlist(stringr::str_extract_all(ans,&quot;\\(?[0-9,.]+\\)?&quot;))
  id &lt;- id[!is.na(id)] # exclude NA
  # if alter id of ego i corresponds to this id, they did indeed survive:
  
  df$survive[which(df$ego==i)] &lt;- ifelse(df$alter[which(df$ego==i)] %in% id, 1, 0)
  
}

# if alter was re-named, also add in which egonet they (re-)appeared.
# this allows me to not only study predictors of tie maintenance 
# regardless of the net alter reappears in, so for instance a study partner
# reappearing as a sports partner (but not as a study partner);
# but of reappearing in the same net, 
# as opposed to a different net or no net at all.
# and with predicor variables indicating whether alter was part of each of the nets
# this allows me to make inference about within-egonet tie stability for each of the nets
# (e.g., staying a friend only vs. staying a core discussant only)

# binary variables indicating whether alters reappeared in each of the nets:
df$cdn2 &lt;- NA
df$study2 &lt;- NA
df$bff2 &lt;- NA
df$csn2 &lt;- NA

# i use the matching matrices used in w2;
# where columns refer to unique w1 alters (those of our constructed dataframe)
# and rows referring to unique w2 alters
# so, if w1-alter/column j is matched to w2-alter/row i, then w1-alter did survive
# (but we already knew that); but more importantly, j was the i^th alter mentioned
# and this allows me to infer in what network j (re-)appeared
# since cdn = 1-5; study = 6-10; bff = 11-15; csn = 16-20.

# however, since the rows only include non-duplicate w2-alters;
# if alter j at t1 was named more than once at t2, i only know the first
# egonet in which j was named...
# thus, before i proceed, i use the matching matrices that allowed ego to match
# alters from different egonets.
# to make alter ids for w2 alters; and figure out to which egonets they belonged
# (that is, if more than one)

# get w2 data and sort it, so that it has the same the same order as our constructed df
t &lt;- merge(data, data2, by=&quot;email&quot;)
t &lt;- data.frame(t[order(t$id.x, decreasing = F), ])

# i make a dataframe of w2-alters, with potential duplicates...
df_names &lt;- data.frame(
  p1 = t$egonet1.SQ001..y,
  p2 = t$egonet1.SQ002..y,
  p3 = t$egonet1.SQ003..y,
  p4 = t$egonet1.SQ004..y,
  p5 = t$egonet1.SQ005..y,
  p6 = t$egonet2.SQ001..y,
  p7 = t$egonet2.SQ002..y,
  p8 = t$egonet2.SQ003..y,
  p9 = t$egonet2.SQ004..y,
  p10= t$egonet2.SQ005..y,
  p11= t$egonet3.SQ001..y,
  p12= t$egonet3.SQ002..y,
  p13= t$egonet3.SQ003..y,
  p14= t$egonet3.SQ004..y,
  p15= t$egonet3.SQ005..y,
  p16= t$egonet4.SQ001..y,
  p17= t$egonet4.SQ002..y,
  p18= t$egonet4.SQ003..y,
  p19= t$egonet4.SQ004..y,
  p20= t$egonet4.SQ005..y)

# @RF: filter out egos that did not report alters at w2????...

# list of dataframes per ego with rows reflecting alters
# and columns indicating the name(s) of the particular alters

alterL &lt;- list()
# loop over all egos
for ( i in 1:nrow(df_names)) {
  alterL[[i]] &lt;- data.frame(
    alterid = 1:20,
    name1 = NA,
    name2 = NA,
    name3 = NA,
    name4 = NA )
}

# fill the names based on the names data-frame
for ( i in 1:length(alterL)) {
  alterL[[i]]$name1 &lt;- unlist(df_names[i, ], use.names=F)
}

# replace empty strings with &lt;NA&gt;
for (i in 1:length(alterL)) {
  alterL[[i]]$name1 &lt;- ifelse(alterL[[i]]$name1==&quot;&quot;, NA, alterL[[i]]$name1)
}

# calculate netsize for each net to get the correct matching matrix
{
  net1 &lt;- cbind(t$egonet1.SQ001..y,t$egonet1.SQ002..y, t$egonet1.SQ003..y,t$egonet1.SQ004..y, t$egonet1.SQ005..y)
  net1 &lt;- ifelse(net1==&quot;&quot;, NA, net1)
  ns1 &lt;- vector()
  for (i in 1:nrow(net1)) {
    ns1[i] &lt;- length(net1[i,][which(!is.na(net1[i,]))])
  }
  net2 &lt;- cbind(t$egonet2.SQ001..y,t$egonet2.SQ002..y, t$egonet2.SQ003..y,t$egonet2.SQ004..y, t$egonet2.SQ005..y)
  net2 &lt;- ifelse(net2==&quot;&quot;, NA, net2)
  ns2 &lt;- vector()
  for (i in 1:nrow(net2)) {
    ns2[i] &lt;- length(net2[i,][which(!is.na(net2[i,]))])
  }
  net3 &lt;- cbind(t$egonet3.SQ001..y,t$egonet3.SQ002..y, t$egonet3.SQ003..y,t$egonet3.SQ004..y, t$egonet3.SQ005..y)
  net3 &lt;- ifelse(net3==&quot;&quot;, NA, net3)
  ns3 &lt;- vector()
  for (i in 1:nrow(net3)) {
    ns3[i] &lt;- length(net3[i,][which(!is.na(net3[i,]))])
  }
  net4 &lt;- cbind(t$egonet4.SQ001..y,t$egonet4.SQ002..y, t$egonet4.SQ003..y,t$egonet4.SQ004..y, t$egonet4.SQ005..y)
  net4 &lt;- ifelse(net4==&quot;&quot;, NA, net4)
  ns4 &lt;- vector()
  for (i in 1:nrow(net4)) {
    ns4[i] &lt;- length(net4[i,][which(!is.na(net4[i,]))])
  }
}

# construct the matching matrices list for egonet1-2
matchingList &lt;- list()
for (i in 1:length(alterL)) {
  matchingL &lt;- list()
  matchingL[[1]] &lt;- cbind(t$matching1N1.SQ001_SQ001..y[i],t$matching1N1.SQ002_SQ001..y[i],t$matching1N1.SQ003_SQ001..y[i],t$matching1N1.SQ004_SQ001..y[i],t$matching1N1.SQ005_SQ001..y[i])
  matchingL[[2]]&lt;- rbind(
    cbind(t$matching1N2.SQ001_SQ001..y[i], t$matching1N2.SQ002_SQ001..y[i], t$matching1N2.SQ003_SQ001..y[i], t$matching1N2.SQ004_SQ001..y[i], t$matching1N2.SQ005_SQ001..y[i]),
    cbind(t$matching1N2.SQ001_SQ002..y[i], t$matching1N2.SQ002_SQ002..y[i], t$matching1N2.SQ003_SQ002..y[i], t$matching1N2.SQ004_SQ002..y[i], t$matching1N2.SQ005_SQ002..y[i]))
  matchingL[[3]]&lt;- rbind(
    cbind(t$matching1N3.SQ001_SQ001..y[i], t$matching1N3.SQ002_SQ001..y[i], t$matching1N3.SQ003_SQ001..y[i], t$matching1N3.SQ004_SQ001..y[i], t$matching1N3.SQ005_SQ001..y[i]),
    cbind(t$matching1N3.SQ001_SQ002..y[i], t$matching1N3.SQ002_SQ002..y[i], t$matching1N3.SQ003_SQ002..y[i], t$matching1N3.SQ004_SQ002..y[i], t$matching1N3.SQ005_SQ002..y[i]),
    cbind(t$matching1N3.SQ001_SQ003..y[i], t$matching1N3.SQ002_SQ003..y[i], t$matching1N3.SQ003_SQ003..y[i], t$matching1N3.SQ004_SQ003..y[i], t$matching1N3.SQ005_SQ003..y[i]))
  matchingL[[4]]&lt;- rbind(
    cbind(t$matching1N4.SQ001_SQ001..y[i], t$matching1N4.SQ002_SQ001..y[i], t$matching1N4.SQ003_SQ001..y[i], t$matching1N4.SQ004_SQ001..y[i], t$matching1N4.SQ005_SQ001..y[i]),
    cbind(t$matching1N4.SQ001_SQ002..y[i], t$matching1N4.SQ002_SQ002..y[i], t$matching1N4.SQ003_SQ002..y[i], t$matching1N4.SQ004_SQ002..y[i], t$matching1N4.SQ005_SQ002..y[i]),
    cbind(t$matching1N4.SQ001_SQ003..y[i], t$matching1N4.SQ002_SQ003..y[i], t$matching1N4.SQ003_SQ003..y[i], t$matching1N4.SQ004_SQ003..y[i], t$matching1N4.SQ005_SQ003..y[i]),
    cbind(t$matching1N4.SQ001_SQ004..y[i], t$matching1N4.SQ002_SQ004..y[i], t$matching1N4.SQ003_SQ004..y[i], t$matching1N4.SQ004_SQ004..y[i], t$matching1N4.SQ005_SQ004..y[i]))
  matchingL[[5]]&lt;- rbind(
    cbind(t$matching1N5.SQ001_SQ001..y[i], t$matching1N5.SQ002_SQ001..y[i], t$matching1N5.SQ003_SQ001..y[i], t$matching1N5.SQ004_SQ001..y[i], t$matching1N5.SQ005_SQ001..y[i]),
    cbind(t$matching1N5.SQ001_SQ002..y[i], t$matching1N5.SQ002_SQ002..y[i], t$matching1N5.SQ003_SQ002..y[i], t$matching1N5.SQ004_SQ002..y[i], t$matching1N5.SQ005_SQ002..y[i]),
    cbind(t$matching1N5.SQ001_SQ003..y[i], t$matching1N5.SQ002_SQ003..y[i], t$matching1N5.SQ003_SQ003..y[i], t$matching1N5.SQ004_SQ003..y[i], t$matching1N5.SQ005_SQ003..y[i]),
    cbind(t$matching1N5.SQ001_SQ004..y[i], t$matching1N5.SQ002_SQ004..y[i], t$matching1N5.SQ003_SQ004..y[i], t$matching1N5.SQ004_SQ004..y[i], t$matching1N5.SQ005_SQ004..y[i]),
    cbind(t$matching1N5.SQ001_SQ005..y[i], t$matching1N5.SQ002_SQ005..y[i], t$matching1N5.SQ003_SQ005..y[i], t$matching1N5.SQ004_SQ005..y[i], t$matching1N5.SQ005_SQ005..y[i]))
  matchingList[[i]] &lt;- matchingL
} # so... matchingL[[1]][[5]] is matchingmatrix 5 (i.e., 5 alters named in egonet2) for ego 1

# the combination of the matching matrices and the netsizes for ego allows me to match the names myself.
for (i in 1:length(matchingList)) {     # for ego i
  mL &lt;- matchingList[[i]]               # get the matching list
  ns &lt;- ns2[[i]]                        # get the size of egonet2
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # retrieve the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net2[i,]
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name2[which(alterL[[i]]$alterid==matched[,2])] &lt;- net[matched[,1]]
    }
  }
}

# again, make a matching list for the second matching matrices
# (i.e., matching egonet3 alters to prev. alters);
matchingList2 &lt;- list()
for (i in 1:length(alterL)) { # for ego i
  matching2L &lt;- list()
  matching2L[[1]] &lt;- cbind(t$matching2N1.SQ001_SQ001..y[i],t$matching2N1.SQ002_SQ001..y[i],t$matching2N1.SQ003_SQ001..y[i],t$matching2N1.SQ004_SQ001..y[i],t$matching2N1.SQ005_SQ001..y[i],t$matching2N1.SQ006_SQ001..y[i],t$matching2N1.SQ007_SQ001..y[i],t$matching2N1.SQ008_SQ001..y[i],t$matching2N1.SQ009_SQ001..y[i],t$matching2N1.SQ010_SQ001..y[i])
  matching2L[[2]] &lt;- rbind(
    cbind(t$matching2N2.SQ001_SQ001..y[i],t$matching2N2.SQ002_SQ001..y[i],t$matching2N2.SQ003_SQ001..y[i],t$matching2N2.SQ004_SQ001..y[i],t$matching2N2.SQ005_SQ001..y[i],t$matching2N2.SQ006_SQ001..y[i],t$matching2N2.SQ007_SQ001..y[i],t$matching2N2.SQ008_SQ001..y[i],t$matching2N2.SQ009_SQ001..y[i],t$matching2N2.SQ010_SQ001..y[i]),
    cbind(t$matching2N2.SQ001_SQ002..y[i],t$matching2N2.SQ002_SQ002..y[i],t$matching2N2.SQ003_SQ002..y[i],t$matching2N2.SQ004_SQ002..y[i],t$matching2N2.SQ005_SQ002..y[i],t$matching2N2.SQ006_SQ002..y[i],t$matching2N2.SQ007_SQ002..y[i],t$matching2N2.SQ008_SQ002..y[i],t$matching2N2.SQ009_SQ002..y[i],t$matching2N2.SQ010_SQ002..y[i]))
  matching2L[[3]] &lt;- rbind(
    cbind(t$matching2N3.SQ001_SQ001..y[i],t$matching2N3.SQ002_SQ001..y[i],t$matching2N3.SQ003_SQ001..y[i],t$matching2N3.SQ004_SQ001..y[i],t$matching2N3.SQ005_SQ001..y[i],t$matching2N3.SQ006_SQ001..y[i],t$matching2N3.SQ007_SQ001..y[i],t$matching2N3.SQ008_SQ001..y[i],t$matching2N3.SQ009_SQ001..y[i],t$matching2N3.SQ010_SQ001..y[i]),
    cbind(t$matching2N3.SQ001_SQ002..y[i],t$matching2N3.SQ002_SQ002..y[i],t$matching2N3.SQ003_SQ002..y[i],t$matching2N3.SQ004_SQ002..y[i],t$matching2N3.SQ005_SQ002..y[i],t$matching2N3.SQ006_SQ002..y[i],t$matching2N3.SQ007_SQ002..y[i],t$matching2N3.SQ008_SQ002..y[i],t$matching2N3.SQ009_SQ002..y[i],t$matching2N3.SQ010_SQ002..y[i]),
    cbind(t$matching2N3.SQ001_SQ003..y[i],t$matching2N3.SQ002_SQ003..y[i],t$matching2N3.SQ003_SQ003..y[i],t$matching2N3.SQ004_SQ003..y[i],t$matching2N3.SQ005_SQ003..y[i],t$matching2N3.SQ006_SQ003..y[i],t$matching2N3.SQ007_SQ003..y[i],t$matching2N3.SQ008_SQ003..y[i],t$matching2N3.SQ009_SQ003..y[i],t$matching2N3.SQ010_SQ003..y[i]))
  matching2L[[4]] &lt;- rbind(
    cbind(t$matching2N4.SQ001_SQ001..y[i],t$matching2N4.SQ002_SQ001..y[i],t$matching2N4.SQ003_SQ001..y[i],t$matching2N4.SQ004_SQ001..y[i],t$matching2N4.SQ005_SQ001..y[i],t$matching2N4.SQ006_SQ001..y[i],t$matching2N4.SQ007_SQ001..y[i],t$matching2N4.SQ008_SQ001..y[i],t$matching2N4.SQ009_SQ001..y[i],t$matching2N4.SQ010_SQ001..y[i]),
    cbind(t$matching2N4.SQ001_SQ002..y[i],t$matching2N4.SQ002_SQ002..y[i],t$matching2N4.SQ003_SQ002..y[i],t$matching2N4.SQ004_SQ002..y[i],t$matching2N4.SQ005_SQ002..y[i],t$matching2N4.SQ006_SQ002..y[i],t$matching2N4.SQ007_SQ002..y[i],t$matching2N4.SQ008_SQ002..y[i],t$matching2N4.SQ009_SQ002..y[i],t$matching2N4.SQ010_SQ002..y[i]),
    cbind(t$matching2N4.SQ001_SQ003..y[i],t$matching2N4.SQ002_SQ003..y[i],t$matching2N4.SQ003_SQ003..y[i],t$matching2N4.SQ004_SQ003..y[i],t$matching2N4.SQ005_SQ003..y[i],t$matching2N4.SQ006_SQ003..y[i],t$matching2N4.SQ007_SQ003..y[i],t$matching2N4.SQ008_SQ003..y[i],t$matching2N4.SQ009_SQ003..y[i],t$matching2N4.SQ010_SQ003..y[i]),
    cbind(t$matching2N4.SQ001_SQ004..y[i],t$matching2N4.SQ002_SQ004..y[i],t$matching2N4.SQ003_SQ004..y[i],t$matching2N4.SQ004_SQ004..y[i],t$matching2N4.SQ005_SQ004..y[i],t$matching2N4.SQ006_SQ004..y[i],t$matching2N4.SQ007_SQ004..y[i],t$matching2N4.SQ008_SQ004..y[i],t$matching2N4.SQ009_SQ004..y[i],t$matching2N4.SQ010_SQ004..y[i]))
  matching2L[[5]] &lt;- rbind(
    cbind(t$matching2N5.SQ001_SQ001..y[i],t$matching2N5.SQ002_SQ001..y[i],t$matching2N5.SQ003_SQ001..y[i],t$matching2N5.SQ004_SQ001..y[i],t$matching2N5.SQ005_SQ001..y[i],t$matching2N5.SQ006_SQ001..y[i],t$matching2N5.SQ007_SQ001..y[i],t$matching2N5.SQ008_SQ001..y[i],t$matching2N5.SQ009_SQ001..y[i],t$matching2N5.SQ010_SQ001..y[i]),
    cbind(t$matching2N5.SQ001_SQ002..y[i],t$matching2N5.SQ002_SQ002..y[i],t$matching2N5.SQ003_SQ002..y[i],t$matching2N5.SQ004_SQ002..y[i],t$matching2N5.SQ005_SQ002..y[i],t$matching2N5.SQ006_SQ002..y[i],t$matching2N5.SQ007_SQ002..y[i],t$matching2N5.SQ008_SQ002..y[i],t$matching2N5.SQ009_SQ002..y[i],t$matching2N5.SQ010_SQ002..y[i]),
    cbind(t$matching2N5.SQ001_SQ003..y[i],t$matching2N5.SQ002_SQ003..y[i],t$matching2N5.SQ003_SQ003..y[i],t$matching2N5.SQ004_SQ003..y[i],t$matching2N5.SQ005_SQ003..y[i],t$matching2N5.SQ006_SQ003..y[i],t$matching2N5.SQ007_SQ003..y[i],t$matching2N5.SQ008_SQ003..y[i],t$matching2N5.SQ009_SQ003..y[i],t$matching2N5.SQ010_SQ003..y[i]),
    cbind(t$matching2N5.SQ001_SQ004..y[i],t$matching2N5.SQ002_SQ004..y[i],t$matching2N5.SQ003_SQ004..y[i],t$matching2N5.SQ004_SQ004..y[i],t$matching2N5.SQ005_SQ004..y[i],t$matching2N5.SQ006_SQ004..y[i],t$matching2N5.SQ007_SQ004..y[i],t$matching2N5.SQ008_SQ004..y[i],t$matching2N5.SQ009_SQ004..y[i],t$matching2N5.SQ010_SQ004..y[i]),
    cbind(t$matching2N5.SQ001_SQ005..y[i],t$matching2N5.SQ002_SQ005..y[i],t$matching2N5.SQ003_SQ005..y[i],t$matching2N5.SQ004_SQ005..y[i],t$matching2N5.SQ005_SQ005..y[i],t$matching2N5.SQ006_SQ005..y[i],t$matching2N5.SQ007_SQ005..y[i],t$matching2N5.SQ008_SQ005..y[i],t$matching2N5.SQ009_SQ005..y[i],t$matching2N5.SQ010_SQ005..y[i]))
  matchingList2[[i]] &lt;- matching2L
}

for (i in 1:length(matchingList2)) {    # for ego i
  mL &lt;- matchingList2[[i]]              # get the matching list 2
  ns &lt;- ns3[[i]]                        # get the size of egonet3
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # and the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net3[i,]
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name3[matched[,2]] &lt;- net[matched[,1]]
    }
  }
}

# same for matching 3 (i.e., egonet4 with egonets 1-3)
matchingList3 &lt;- list()
for (i in 1:length(alterL)) { # for ego i
  matching3L &lt;- list()
  matching3L[[1]] &lt;- cbind(t$matching3N1.SQ001_SQ001..y[i],t$matching3N1.SQ002_SQ001..y[i],t$matching3N1.SQ003_SQ001..y[i],t$matching3N1.SQ004_SQ001..y[i],t$matching3N1.SQ005_SQ001..y[i],t$matching3N1.SQ006_SQ001..y[i],t$matching3N1.SQ007_SQ001..y[i],t$matching3N1.SQ008_SQ001..y[i],t$matching3N1.SQ009_SQ001..y[i],t$matching3N1.SQ010_SQ001..y[i], t$matching3N1.SQ011_SQ001..y[i], t$matching3N1.SQ012_SQ001..y[i], t$matching3N1.SQ013_SQ001..y[i], t$matching3N1.SQ014_SQ001..y[i], t$matching3N1.SQ015_SQ001..y[i])
  matching3L[[2]] &lt;- rbind(
    cbind(t$matching3N2.SQ001_SQ001..y[i],t$matching3N2.SQ002_SQ001..y[i],t$matching3N2.SQ003_SQ001..y[i],t$matching3N2.SQ004_SQ001..y[i],t$matching3N2.SQ005_SQ001..y[i],t$matching3N2.SQ006_SQ001..y[i],t$matching3N2.SQ007_SQ001..y[i],t$matching3N2.SQ008_SQ001..y[i],t$matching3N2.SQ009_SQ001..y[i],t$matching3N2.SQ010_SQ001..y[i], t$matching3N2.SQ011_SQ001..y[i], t$matching3N2.SQ012_SQ001..y[i], t$matching3N2.SQ013_SQ001..y[i], t$matching3N2.SQ014_SQ001..y[i], t$matching3N2.SQ015_SQ001..y[i]),
    cbind(t$matching3N2.SQ001_SQ002..y[i],t$matching3N2.SQ002_SQ002..y[i],t$matching3N2.SQ003_SQ002..y[i],t$matching3N2.SQ004_SQ002..y[i],t$matching3N2.SQ005_SQ002..y[i],t$matching3N2.SQ006_SQ002..y[i],t$matching3N2.SQ007_SQ002..y[i],t$matching3N2.SQ008_SQ002..y[i],t$matching3N2.SQ009_SQ002..y[i],t$matching3N2.SQ010_SQ002..y[i], t$matching3N2.SQ011_SQ002..y[i], t$matching3N2.SQ012_SQ002..y[i], t$matching3N2.SQ013_SQ002..y[i], t$matching3N2.SQ014_SQ002..y[i], t$matching3N2.SQ015_SQ002..y[i]))
  matching3L[[3]] &lt;- rbind(
    cbind(t$matching3N3.SQ001_SQ001..y[i],t$matching3N3.SQ002_SQ001..y[i],t$matching3N3.SQ003_SQ001..y[i],t$matching3N3.SQ004_SQ001..y[i],t$matching3N3.SQ005_SQ001..y[i],t$matching3N3.SQ006_SQ001..y[i],t$matching3N3.SQ007_SQ001..y[i],t$matching3N3.SQ008_SQ001..y[i],t$matching3N3.SQ009_SQ001..y[i],t$matching3N3.SQ010_SQ001..y[i], t$matching3N3.SQ011_SQ001..y[i], t$matching3N3.SQ012_SQ001..y[i], t$matching3N3.SQ013_SQ001..y[i], t$matching3N3.SQ014_SQ001..y[i], t$matching3N3.SQ015_SQ001..y[i]),
    cbind(t$matching3N3.SQ001_SQ002..y[i],t$matching3N3.SQ002_SQ002..y[i],t$matching3N3.SQ003_SQ002..y[i],t$matching3N3.SQ004_SQ002..y[i],t$matching3N3.SQ005_SQ002..y[i],t$matching3N3.SQ006_SQ002..y[i],t$matching3N3.SQ007_SQ002..y[i],t$matching3N3.SQ008_SQ002..y[i],t$matching3N3.SQ009_SQ002..y[i],t$matching3N3.SQ010_SQ002..y[i], t$matching3N3.SQ011_SQ002..y[i], t$matching3N3.SQ012_SQ002..y[i], t$matching3N3.SQ013_SQ002..y[i], t$matching3N3.SQ014_SQ002..y[i], t$matching3N3.SQ015_SQ002..y[i]),
    cbind(t$matching3N3.SQ001_SQ003..y[i],t$matching3N3.SQ002_SQ003..y[i],t$matching3N3.SQ003_SQ003..y[i],t$matching3N3.SQ004_SQ003..y[i],t$matching3N3.SQ005_SQ003..y[i],t$matching3N3.SQ006_SQ003..y[i],t$matching3N3.SQ007_SQ003..y[i],t$matching3N3.SQ008_SQ003..y[i],t$matching3N3.SQ009_SQ003..y[i],t$matching3N3.SQ010_SQ003..y[i], t$matching3N3.SQ011_SQ003..y[i], t$matching3N3.SQ012_SQ003..y[i], t$matching3N3.SQ013_SQ003..y[i], t$matching3N3.SQ014_SQ003..y[i], t$matching3N3.SQ015_SQ003..y[i]))
  matching3L[[4]] &lt;- rbind(
    cbind(t$matching3N4.SQ001_SQ001..y[i],t$matching3N4.SQ002_SQ001..y[i],t$matching3N4.SQ003_SQ001..y[i],t$matching3N4.SQ004_SQ001..y[i],t$matching3N4.SQ005_SQ001..y[i],t$matching3N4.SQ006_SQ001..y[i],t$matching3N4.SQ007_SQ001..y[i],t$matching3N4.SQ008_SQ001..y[i],t$matching3N4.SQ009_SQ001..y[i],t$matching3N4.SQ010_SQ001..y[i], t$matching3N4.SQ011_SQ001..y[i], t$matching3N4.SQ012_SQ001..y[i], t$matching3N4.SQ013_SQ001..y[i], t$matching3N4.SQ014_SQ001..y[i], t$matching3N4.SQ015_SQ001..y[i]),
    cbind(t$matching3N4.SQ001_SQ002..y[i],t$matching3N4.SQ002_SQ002..y[i],t$matching3N4.SQ003_SQ002..y[i],t$matching3N4.SQ004_SQ002..y[i],t$matching3N4.SQ005_SQ002..y[i],t$matching3N4.SQ006_SQ002..y[i],t$matching3N4.SQ007_SQ002..y[i],t$matching3N4.SQ008_SQ002..y[i],t$matching3N4.SQ009_SQ002..y[i],t$matching3N4.SQ010_SQ002..y[i], t$matching3N4.SQ011_SQ002..y[i], t$matching3N4.SQ012_SQ002..y[i], t$matching3N4.SQ013_SQ002..y[i], t$matching3N4.SQ014_SQ002..y[i], t$matching3N4.SQ015_SQ002..y[i]),
    cbind(t$matching3N4.SQ001_SQ003..y[i],t$matching3N4.SQ002_SQ003..y[i],t$matching3N4.SQ003_SQ003..y[i],t$matching3N4.SQ004_SQ003..y[i],t$matching3N4.SQ005_SQ003..y[i],t$matching3N4.SQ006_SQ003..y[i],t$matching3N4.SQ007_SQ003..y[i],t$matching3N4.SQ008_SQ003..y[i],t$matching3N4.SQ009_SQ003..y[i],t$matching3N4.SQ010_SQ003..y[i], t$matching3N4.SQ011_SQ003..y[i], t$matching3N4.SQ012_SQ003..y[i], t$matching3N4.SQ013_SQ003..y[i], t$matching3N4.SQ014_SQ003..y[i], t$matching3N4.SQ015_SQ003..y[i]),
    cbind(t$matching3N4.SQ001_SQ003..y[i],t$matching3N4.SQ002_SQ003..y[i],t$matching3N4.SQ003_SQ003..y[i],t$matching3N4.SQ004_SQ003..y[i],t$matching3N4.SQ005_SQ003..y[i],t$matching3N4.SQ006_SQ003..y[i],t$matching3N4.SQ007_SQ003..y[i],t$matching3N4.SQ008_SQ003..y[i],t$matching3N4.SQ009_SQ003..y[i],t$matching3N4.SQ010_SQ003..y[i], t$matching3N4.SQ011_SQ003..y[i], t$matching3N4.SQ012_SQ003..y[i], t$matching3N4.SQ013_SQ003..y[i], t$matching3N4.SQ014_SQ003..y[i], t$matching3N4.SQ015_SQ003..y[i]),
    cbind(t$matching3N4.SQ001_SQ004..y[i],t$matching3N4.SQ002_SQ004..y[i],t$matching3N4.SQ003_SQ004..y[i],t$matching3N4.SQ004_SQ004..y[i],t$matching3N4.SQ005_SQ004..y[i],t$matching3N4.SQ006_SQ004..y[i],t$matching3N4.SQ007_SQ004..y[i],t$matching3N4.SQ008_SQ004..y[i],t$matching3N4.SQ009_SQ004..y[i],t$matching3N4.SQ010_SQ004..y[i], t$matching3N4.SQ011_SQ004..y[i], t$matching3N4.SQ012_SQ004..y[i], t$matching3N4.SQ013_SQ004..y[i], t$matching3N4.SQ014_SQ004..y[i], t$matching3N4.SQ015_SQ004..y[i]))
  matching3L[[5]] &lt;- rbind(
    cbind(t$matching3N5.SQ001_SQ001..y[i],t$matching3N5.SQ002_SQ001..y[i],t$matching3N5.SQ003_SQ001..y[i],t$matching3N5.SQ004_SQ001..y[i],t$matching3N5.SQ005_SQ001..y[i],t$matching3N5.SQ006_SQ001..y[i],t$matching3N5.SQ007_SQ001..y[i],t$matching3N5.SQ008_SQ001..y[i],t$matching3N5.SQ009_SQ001..y[i],t$matching3N5.SQ010_SQ001..y[i], t$matching3N5.SQ011_SQ001..y[i], t$matching3N5.SQ012_SQ001..y[i], t$matching3N5.SQ013_SQ001..y[i], t$matching3N5.SQ014_SQ001..y[i], t$matching3N5.SQ015_SQ001..y[i]),
    cbind(t$matching3N5.SQ001_SQ002..y[i],t$matching3N5.SQ002_SQ002..y[i],t$matching3N5.SQ003_SQ002..y[i],t$matching3N5.SQ004_SQ002..y[i],t$matching3N5.SQ005_SQ002..y[i],t$matching3N5.SQ006_SQ002..y[i],t$matching3N5.SQ007_SQ002..y[i],t$matching3N5.SQ008_SQ002..y[i],t$matching3N5.SQ009_SQ002..y[i],t$matching3N5.SQ010_SQ002..y[i], t$matching3N5.SQ011_SQ002..y[i], t$matching3N5.SQ012_SQ002..y[i], t$matching3N5.SQ013_SQ002..y[i], t$matching3N5.SQ014_SQ002..y[i], t$matching3N5.SQ015_SQ002..y[i]),
    cbind(t$matching3N5.SQ001_SQ003..y[i],t$matching3N5.SQ002_SQ003..y[i],t$matching3N5.SQ003_SQ003..y[i],t$matching3N5.SQ004_SQ003..y[i],t$matching3N5.SQ005_SQ003..y[i],t$matching3N5.SQ006_SQ003..y[i],t$matching3N5.SQ007_SQ003..y[i],t$matching3N5.SQ008_SQ003..y[i],t$matching3N5.SQ009_SQ003..y[i],t$matching3N5.SQ010_SQ003..y[i], t$matching3N5.SQ011_SQ003..y[i], t$matching3N5.SQ012_SQ003..y[i], t$matching3N5.SQ013_SQ003..y[i], t$matching3N5.SQ014_SQ003..y[i], t$matching3N5.SQ015_SQ003..y[i]),
    cbind(t$matching3N5.SQ001_SQ003..y[i],t$matching3N5.SQ002_SQ003..y[i],t$matching3N5.SQ003_SQ003..y[i],t$matching3N5.SQ004_SQ003..y[i],t$matching3N5.SQ005_SQ003..y[i],t$matching3N5.SQ006_SQ003..y[i],t$matching3N5.SQ007_SQ003..y[i],t$matching3N5.SQ008_SQ003..y[i],t$matching3N5.SQ009_SQ003..y[i],t$matching3N5.SQ010_SQ003..y[i], t$matching3N5.SQ011_SQ003..y[i], t$matching3N5.SQ012_SQ003..y[i], t$matching3N5.SQ013_SQ003..y[i], t$matching3N5.SQ014_SQ003..y[i], t$matching3N5.SQ015_SQ003..y[i]),
    cbind(t$matching3N5.SQ001_SQ005..y[i],t$matching3N5.SQ002_SQ005..y[i],t$matching3N5.SQ003_SQ005..y[i],t$matching3N5.SQ004_SQ005..y[i],t$matching3N5.SQ005_SQ005..y[i],t$matching3N5.SQ006_SQ005..y[i],t$matching3N5.SQ007_SQ005..y[i],t$matching3N5.SQ008_SQ005..y[i],t$matching3N5.SQ009_SQ005..y[i],t$matching3N5.SQ010_SQ005..y[i], t$matching3N5.SQ011_SQ005..y[i], t$matching3N5.SQ012_SQ005..y[i], t$matching3N5.SQ013_SQ005..y[i], t$matching3N5.SQ014_SQ005..y[i], t$matching3N5.SQ015_SQ005..y[i]))
  matchingList3[[i]] &lt;- matching3L
}

for (i in 1:length(matchingList3)) {    # for ego i
  mL &lt;- matchingList3[[i]]              # get the matching list 2
  ns &lt;- ns4[[i]]                        # get the size of egonet4
  if(ns&gt;0) {                            # if ns=0, no matching was done!
    mm &lt;- as.matrix(mL[[ns]])           # and the corresponding matrix
    matched &lt;- which(mm==1, arr.ind=T)  # retrieve array indices
    net &lt;- net4[i,]
    if(length(matched)&gt;0) {             # if matching was performed!
      alterL[[i]]$name4[matched[,2]] &lt;- net[matched[,1]]
    }
  }
}

# make long df with alters in ego,
# and indicators for 4 egonets;
df2 &lt;- data.frame(
  ego=rep(1:length(alterL),each=20),
  alter=rep(1:20),
  cdn=NA,
  study=NA,
  bff=NA,
  csn=NA
)

for (i in unique(df2$ego)) {  
  for (j in 1:20) { # for alters nested in ego

    # find out if names denoting alter j appear in the 4 egonets
    alter &lt;- unlist(alterL[[i]][j,-1], use.names = F) # get names alter j
    alter &lt;- alter[!is.na(alter)] # exclude NAs
    cdn &lt;- alter %in% net1[i,]
    study &lt;- alter %in% net2[i,]
    bff &lt;- alter %in% net3[i,]
    csn &lt;- alter %in% net4[i,]
    # and if so, give alter j score 1 on indicators; 0 otherwise
    df2$cdn[which(df2$ego==i &amp; df2$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% cdn, 1, 0)
    df2$study[which(df2$ego==i &amp; df2$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% study, 1, 0)
    df2$bff[which(df2$ego==i &amp; df2$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% bff, 1, 0)
    df2$csn[which(df2$ego==i &amp; df2$alter==j)] &lt;- ifelse(&quot;TRUE&quot; %in% csn, 1, 0)
  }
}


# now that i have, for each alter of ego (including duplicates) at t2,
# the nets to which they belong..
# i continue with the the w1-w2 matching matrices

# (i also use these matrices to construct a network size measure for t2)
ns_t2 &lt;- list() # make a list to store ns_t2 in

# we already subsetted the matching matrices (in d)

for (i in unique(df$ego)) {  # for ego i
  matchingL &lt;- list()  # make a list of matching matrices
  {
    matchingL[[1]] &lt;- d[i,2:21]
    matchingL[[2]] &lt;- d[i,22:41]
    matchingL[[3]] &lt;- d[i,42:61]
    matchingL[[4]] &lt;- d[i,62:81]
    matchingL[[5]] &lt;- d[i,82:101]
    matchingL[[6]] &lt;- d[i,102:121]
    matchingL[[7]] &lt;- d[i,122:141]
    matchingL[[8]] &lt;- d[i,142:161]
    matchingL[[9]] &lt;- d[i,162:181]
    matchingL[[10]] &lt;- d[i,182:201]
    matchingL[[11]] &lt;- d[i,202:221]
    matchingL[[12]] &lt;- d[i,222:241]
    matchingL[[13]] &lt;- d[i,242:261]
    matchingL[[14]] &lt;- d[i,262:281]
    matchingL[[15]] &lt;- d[i,282:301]
  }
  # get netsize of ego i at t1
  ns &lt;- max(df$alter[which(df$ego==i)])
  # get the corresponding matrix
  mm &lt;- matchingL[[ns]]
  
  # based on this matrix, i can assess the network size at t2;
  # count the number of alters that were either matched to t1-alters;
  # or referred to a new person [so, no empty cells and NAs (i.e., non-existing ties; and duplicates)]

  nst2 &lt;- unlist(mm, use.names=F) 
  nst2.nm &lt;- nst2[!is.na(nst2)] # exclude missings 
  nst2.ne &lt;- nst2.nm[nst2.nm!=&quot;&quot;] # exclude empty strings 
  ns_t2[[i]] &lt;- length(nst2.ne)
  
  # extract alter ids
  ans &lt;- stringr::str_extract_all(mm,&quot;\\(?[0-9,.]+\\)?&quot;) 
  # here, the object refers to the w1-alter j;
  # and the element indicator in the list refers to the w2-alter 
  
  for (j in unique(df$alter[which(df$ego==i)])) { # for alter j,

    # to which row/w2-alter was alter j matched?
    match &lt;- which(ans==j)
    
    # and in which networks did this w2-alter belong?
    nets &lt;- df2[which(df2$ego==i &amp; df2$alter==match),]
  
    if(length(match)&gt;0) { # if j was matched to w2-alters...
      # assign to alter j the networks in which j reappeared
      df$cdn2[which(df$ego==i &amp; df$alter==j)] &lt;- nets$cdn[1]
      df$study2[which(df$ego==i &amp; df$alter==j)] &lt;- nets$study[1]
      df$bff2[which(df$ego==i &amp; df$alter==j)] &lt;- nets$bff[1]
      df$csn2[which(df$ego==i &amp; df$alter==j)] &lt;- nets$csn[1]
    }
  }
}
# currently; a lot of NAs in the attributes indicating whether alter j was member
# of the respective networks.
# those are alters that were not renamed, and thus have no &#39;chance&#39; to re-appear
# so, 0s are alters that were once part of a specific network, but re-appeared not
# in that particular network.
# naturally, for analyses, NAs can be set to 0.

# set ns_t2
df$netsize2 &lt;- NA
for (i in unique(df$ego)) {
  df$netsize2[which(df$ego==i)] &lt;- ns_t2[[i]]
}

##################################################################################

# add other variables.....
# education
# alter educ was asked in w2.
# merge the data.
d &lt;- merge(data, data2, by=&quot;email&quot;)
# sort
d &lt;- data.frame(d[order(d$id.x, decreasing = F), ])

# i asked the education level of all alters, of w1 and w2.
# i only named w2 alters that were unmatched and new compared to w1.
# all (unique) w1-alters were listed.
# d$q0r117.SQ021. - d$q0r117.SQ035. 

for (i in unique(df$ego)) { # for ego i  
  # subset alter education
  educj &lt;- cbind(d$q0r117.SQ021.[i],d$q0r117.SQ022.[i],d$q0r117.SQ023.[i],d$q0r117.SQ024.[i],d$q0r117.SQ025.[i],d$q0r117.SQ026.[i],d$q0r117.SQ027.[i],d$q0r117.SQ028.[i],
                 d$q0r117.SQ029.[i],d$q0r117.SQ030.[i],d$q0r117.SQ031.[i],d$q0r117.SQ032.[i],d$q0r117.SQ033.[i],d$q0r117.SQ034.[i],d$q0r117.SQ035.[i])
  for (j in unique(df$alter[which(df$ego==i)])) { # for alter j
    # assign education level
    df$alter_educ[which(df$ego==i &amp; df$alter==j)] &lt;- educj[j]
  }
}

# @RF; for now use 5 categories; later on, perhaps operationalize education in years;
prim &lt;- c(&quot;lagere school&quot;, &quot;vmbo, mavo&quot;)
lowsec &lt;- c(&quot;mbo&quot;)
highsec &lt;- c( &quot;havo&quot;, &quot;vwo / gymnasium&quot;)
lowtert &lt;- &quot;hbo&quot;
hightert &lt;- &quot;universiteit&quot;

for (i in unique(df$ego)) {
  for (j in unique(df$alter[which(df$ego==i)])) {
    
    df$alter_educ[which(df$ego==i &amp; df$alter==j)] &lt;-
      ifelse(    
        df$alter_educ[which(df$ego==i &amp; df$alter==j)] %in% prim, 1,
        ifelse(df$alter_educ[which(df$ego==i &amp; df$alter==j)] %in% lowsec, 2,
               ifelse(df$alter_educ[which(df$ego==i &amp; df$alter==j)] %in% highsec, 3,
                      ifelse( df$alter_educ[which(df$ego==i &amp; df$alter==j)] %in% lowtert, 4, 
                              ifelse(  df$alter_educ[which(df$ego==i &amp; df$alter==j)] %in% hightert, 5,
                                       NA)))))
  }
}
df$alter_educ &lt;- as.numeric(df$alter_educ)
# ego educ
df$ego_educ &lt;- ifelse(df$ego_educ==&quot;hbo&quot;, 4, 5)

# @RF. educ in years similarity could be defined as absolute difference
# since i am now dealing with categories, i use a &quot;same&quot; measure to measure educational similarity.
df$sim_educ &lt;- ifelse(df$ego_educ==df$alter_educ, 1, 0) # do not know (missing), here treated as dissimilar

# and add tie strength, duration, physical proximity
df$duration &lt;- NA
df$proximity &lt;- NA
df$frequency &lt;- NA
df$closeness &lt;- NA

for (i in unique(df$ego)) {
  dur &lt;- cbind(data$duur.SQ001.[i], data$duur.SQ002.[i], data$duur.SQ003.[i], data$duur.SQ004.[i], data$duur.SQ005.[i],
               data$duur.SQ006.[i], data$duur.SQ007.[i], data$duur.SQ008.[i], data$duur.SQ009.[i], data$duur.SQ010.[i],
               data$duur.SQ011.[i], data$duur.SQ012.[i], data$duur.SQ013.[i], data$duur.SQ014.[i], data$duur.SQ015.[i],
               data$duur.SQ016.[i], data$duur.SQ017.[i], data$duur.SQ018.[i], data$duur.SQ019.[i], data$duur.SQ020.[i])
  dur &lt;- dur[!dur==&quot;&quot;]
  
  prox &lt;- cbind(data$prox.SQ001.[i], data$prox.SQ002.[i], data$prox.SQ003.[i], data$prox.SQ004.[i], data$prox.SQ005.[i],
                data$prox.SQ006.[i], data$prox.SQ007.[i], data$prox.SQ008.[i], data$prox.SQ009.[i], data$prox.SQ010.[i],
                data$prox.SQ011.[i], data$prox.SQ012.[i], data$prox.SQ013.[i], data$prox.SQ014.[i], data$prox.SQ015.[i],
                data$prox.SQ016.[i], data$prox.SQ017.[i], data$prox.SQ018.[i], data$prox.SQ019.[i], data$prox.SQ020.[i])
  prox &lt;- prox[!prox==&quot;&quot;]
  
  freq &lt;- cbind(data$freq.SQ001.[i], data$freq.SQ002.[i], data$freq.SQ003.[i], data$freq.SQ004.[i], data$freq.SQ005.[i],
                data$freq.SQ006.[i], data$freq.SQ007.[i], data$freq.SQ008.[i], data$freq.SQ009.[i], data$freq.SQ010.[i],
                data$freq.SQ011.[i], data$freq.SQ012.[i], data$freq.SQ013.[i], data$freq.SQ014.[i], data$freq.SQ015.[i],
                data$freq.SQ016.[i], data$freq.SQ017.[i], data$freq.SQ018.[i], data$freq.SQ019.[i], data$freq.SQ020.[i])
  freq &lt;- freq[!freq==&quot;&quot;]
  
  close &lt;- cbind(data$close.SQ001.[i], data$close.SQ002.[i], data$close.SQ003.[i], data$close.SQ004.[i], data$close.SQ005.[i],
                 data$close.SQ006.[i], data$close.SQ007.[i], data$close.SQ008.[i], data$close.SQ009.[i], data$close.SQ010.[i],
                 data$close.SQ011.[i], data$close.SQ012.[i], data$close.SQ013.[i], data$close.SQ014.[i], data$close.SQ015.[i],
                 data$close.SQ016.[i], data$close.SQ017.[i], data$close.SQ018.[i], data$close.SQ019.[i], data$close.SQ020.[i])
  close &lt;- close[!close==&quot;&quot;]
  
  
  for (j in unique(df$alter[which(df$ego==i)])) {
    df$duration[which(df$ego==i &amp; df$alter==j)] &lt;- dur[j]
    df$proximity[which(df$ego==i &amp; df$alter==j)] &lt;- prox[j]
    df$frequency[which(df$ego==i &amp; df$alter==j)] &lt;- freq[j]
    df$closeness[which(df$ego==i &amp; df$alter==j)] &lt;- close[j]
  }
}

# recode
# duration; take midpoint on scale.
df$duration &lt;- ifelse(df$duration==&quot;Minder dan 1 jaar&quot;, 0, 
                      ifelse(df$duration==&quot;1 tot 3 jaar&quot;, 2,
                             ifelse(df$duration==&quot;4 tot 8 jaar&quot;, 6,
                                    ifelse(df$duration==&quot;9 tot 15 jaar&quot;, 12,
                                           ifelse(df$duration==&quot;Meer dan 15 jaar&quot;, 15, NA)))))
# proximity: same municipality or closer.............
df$proximity &lt;- ifelse(df$proximity==&quot;In de-zelfde buurt&quot; |
                         df$proximity==&quot;In de-zelfde straat&quot; |
                         df$proximity==&quot;In dezelfde ge-meente&quot; |
                         df$proximity==&quot;In het-zelfde huis&quot;, 1, 0)

# frequency: at least once a week?
# for now, we make an ordinal variable; as this is needed for the dynamic dyadic
# change variable (see below)
df$frequency &lt;- ifelse(df$frequency==&quot;(Bijna) elke dag&quot;,7,
                       ifelse(df$frequency==&quot;1-2 keer per week&quot;,6,
                              ifelse(df$frequency==&quot;Aantal keer per maand&quot;,5, 
                                     ifelse(df$frequency==&quot;Ong. 1 keer per maand&quot;,4, 
                                            ifelse(df$frequency==&quot;Aantal keer per jaar&quot;,3,
                                                   ifelse(df$frequency==&quot;Ong. 1 keer per jaar&quot;,2,
                                                          ifelse(df$frequency==&quot;Nooit&quot;,1, NA   )))))))
# closeness: an ordinal scale 1-4
df$closeness &lt;- ifelse(df$closeness==&quot;Niet hecht&quot;, 1, 
                       ifelse(df$closeness==&quot;Enigszins hecht&quot;, 2,
                              ifelse(df$closeness==&quot;Hecht&quot;, 3,
                                     ifelse(df$closeness==&quot;Heel erg hecht&quot;, 4, NA
                                     ))))

# an inherent flaw of the name-generator approach is that it may overestimate
# the true rate of alters being dropped.
# i use a second, dynamic tie-change indicator;
# based on a change in ego&#39;s emotional connection and contact frequency with alter
# i have these name interpreter info on alters at w2, 
# also on those who were NOT re-named (that is, dropped alters)
# name interpreter questions 21-35 are about (unique) w1-alters
df$maintained_freq &lt;- NA
df$maintained_close &lt;- NA

# @RF: think about how to define this change;
# for now, i use the simplest definition, that is a reduction in frequency/
# closeness (yes or no); this also means that the same analyses (logistic) can
# be used.

# subset w2 name interpreters on contact freq. and closeness
# include email, for merging
w2 &lt;- data2[,c(992:1006, 1027:1041, 1427)]

# subset id and email w1
d &lt;- data[,c(1,ncol(data))]

# merge the data-set with the name interpreter data
d &lt;- merge(w2, d, by=&quot;email&quot;)

# sort by the id variable, so that the ordening of responses is the same as our
# long dataframe
d &lt;- data.frame(d[order(d$id, decreasing = F), ])
# and reorder rownames
rownames(d) &lt;- 1:length(rownames(d))
# exclude id and email (rownumber corresponds to id)
(d&lt;-d[,-c(1,ncol(d))])

# frequency
# subset
freq &lt;- d[,1:15]
# recode into ordinal values; so that i can assess change
freq &lt;- ifelse(freq==&quot;(Bijna) elke dag&quot;,7,
                       ifelse(freq==&quot;1-2 keer per week&quot;,6,
                              ifelse(freq==&quot;Aantal keer per maand&quot;,5, 
                                     ifelse(freq==&quot;Ong. 1 keer per maand&quot;,4, 
                                            ifelse(freq==&quot;Aantal keer per jaar&quot;,3,
                                                   ifelse(freq==&quot;Ong. 1 keer per jaar&quot;,2,
                                                          ifelse(freq==&quot;Nooit&quot;,1, NA   )))))))
# closeness
# subset
close &lt;- d[,16:ncol(d)]
# recode
close &lt;- ifelse(close==&quot;Niet hecht&quot;, 1, 
                       ifelse(close==&quot;Enigszins hecht&quot;, 2,
                              ifelse(close==&quot;Hecht&quot;, 3,
                                     ifelse(close==&quot;Heel erg hecht&quot;, 4, NA
                                     ))))

for ( i in unique(df$ego))  { # for ego
  for (j in unique(df$alter[which(df$ego==i)])) { # for alter
 
    # get contact frequency at t1 and t2
    freq_t1 &lt;- df$frequency[which(df$ego==i &amp; df$alter==j)]
    freq_t2 &lt;- as.numeric(freq[i, ][!is.na(freq[i,])])[j]
    
    # same for closeness
    close_t1 &lt;- df$closeness[which(df$ego==i &amp; df$alter==j)]
    close_t2 &lt;- as.numeric(close[i, ][!is.na(close[i,])])[j]
    
    # if t2 values are equal/greater than t1 values, 
    # give value 1 (i.e., maintained); 0 oterwise.
    df$maintained_freq[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(freq_t2&gt;=freq_t1, 1,0 )
    df$maintained_close[which(df$ego==i &amp; df$alter==j)] &lt;- ifelse(close_t2&gt;=close_t1, 1,0 )
    
  }
}
# @RF: SOME MISSINGS REMAIN ON THE TIE-CHANGE VARIABLES!!!!!!!! WHY???? SHOULD NOT HAPPEN!

# recode contact frequency: 1 if at least once a week; 0 otherwise
df$frequency &lt;- ifelse(df$frequency&gt;5, 1,0)

# remove last 2 egos (fake responses).
df &lt;- df[-which(df$ego==91 | df$ego==92, arr.ind=T), ]

fix(df)

# save the dataset...
#save(df, file = &quot;tie_maintenance.RData&quot;)</code></pre>
<p><br></p>
</div>
<div id="tie_creation.rdata" class="section level1">
<h1>tie_creation.RData</h1>
<p><br></p>
<hr />
<div id="references" class="section level2">
<h2>References</h2>
</div>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkRhdGEgcHJlcGFyYXRpb24iDQojYmlibGlvZ3JhcGh5OiByZWZlcmVuY2VzLmJpYg0KZGF0ZTogIkxhc3QgY29tcGlsZWQgb24gYHIgZm9ybWF0KFN5cy50aW1lKCksICclQiwgJVknKWAiDQpvdXRwdXQ6IA0KICBodG1sX2RvY3VtZW50Og0KICAgIGNzczogdHdlYWtzLmNzcw0KICAgIHRvYzogIHRydWUNCiAgICB0b2NfZmxvYXQ6IHRydWUNCiAgICBudW1iZXJfc2VjdGlvbnM6IGZhbHNlDQogICAgdG9jX2RlcHRoOiAxDQogICAgY29kZV9mb2xkaW5nOiBzaG93DQogICAgY29kZV9kb3dubG9hZDogeWVzDQotLS0NCg0KYGBge3IsIGdsb2JhbHNldHRpbmdzLCBlY2hvPUZBTFNFLCB3YXJuaW5nPUZBTFNFLCByZXN1bHRzPSdoaWRlJ30NCmxpYnJhcnkoa25pdHIpDQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUpDQpvcHRzX2NodW5rJHNldCh0aWR5Lm9wdHM9bGlzdCh3aWR0aC5jdXRvZmY9MTAwKSx0aWR5PVRSVUUsIHdhcm5pbmcgPSBGQUxTRSwgbWVzc2FnZSA9IEZBTFNFLGNvbW1lbnQgPSAiIz4iLCBjYWNoZT1UUlVFLCBjbGFzcy5zb3VyY2U9YygidGVzdCIpLCBjbGFzcy5vdXRwdXQ9YygidGVzdDMiKSkNCm9wdGlvbnMod2lkdGggPSAxMDApDQpyZ2w6OnNldHVwS25pdHIoKQ0KDQoNCmNvbG9yaXplIDwtIGZ1bmN0aW9uKHgsIGNvbG9yKSB7c3ByaW50ZigiPHNwYW4gc3R5bGU9J2NvbG9yOiAlczsnPiVzPC9zcGFuPiIsIGNvbG9yLCB4KSB9DQpgYGANCg0KDQpgYGB7ciBrbGlwcHksIGVjaG89RkFMU0UsIGluY2x1ZGU9VFJVRX0NCmtsaXBweTo6a2xpcHB5KHBvc2l0aW9uID0gYygndG9wJywgJ3JpZ2h0JykpDQoja2xpcHB5OjprbGlwcHkoY29sb3IgPSAnZGFya3JlZCcpDQoja2xpcHB5OjprbGlwcHkodG9vbHRpcF9tZXNzYWdlID0gJ0NsaWNrIHRvIGNvcHknLCB0b29sdGlwX3N1Y2Nlc3MgPSAnRG9uZScpDQpgYGANCg0KDQotLS0gIA0KDQoNCg0KIyB0aWVfbWFpbnRlbmFuY2UuUkRhdGENCg0KSW4gdGhlIGZvbGxvd2luZyBzY3JpcHQsIEkgdXNlIHdhdmVzIDEgYW5kIDIgb2YgdGhlIHN1cnZleSBwcm9qZWN0ICpTcG9ydHMgJiBOZXR3b3JrcyogW0ZyYW5rZW4gZXQgYWwuLCAtQGRhdGEyMDIyXS4gDQoNCkluIHdhdmUgMSwgd2UgZ2F0aGVyZWQgaW5mb3JtYXRpb24gb24gdGhlIHNvY2lhbCBjb250ZXh0IG9mIHN0dWRlbnRzIHByaW9yIHRvIHRoZWlyIHRyYW5zaXRpb24gb3QgdGVydGlhcnkgZWR1Y2F0aW9uLCBhcyB3ZWxsIGFzIHRoZWlyIHBlcnNvbmFsIG5ldHdvcmtzIGF0IHRoYXQgdGltZS4gV2UgdXNlZCA0IG5hbWUgZ2VuZXJhdG9ycyAoKmNvcmUgZGlzY3Vzc2lvbiBuZXR3b3JrKiwgYW5kIG5ldHdvcmtzIGNvbnNpc3Rpbmcgb2YgY29yZSAqc3R1ZHkgcGFydG5lcnMqLCAqYmVzdCBmcmllbmRzKiwgYW5kICpzcG9ydHMgcGFydG5lcnMqKSwgYW5kIHdlIGFzc2Vzc2VkIHRoZSBvdmVybGFwIGJldHdlZW4gdGhlc2UgbmV0d29ya3MuIEluIHdhdmUgMiwgaW4gdGhlIG1pZGRsZSBvZiB0aGUgYWNhZGVtaWMgeWVhciwgd2UgdXNlZCBzaW1pbGFyIG5hbWUgZ2VuZXJhdG9yIHF1ZXN0aW9ucyB0byBtYXAgdGhlc2UgZWdvLW5ldHMuIA0KDQpCYXNlZCBvbiB0aGVzZSBkYXRhLCBJIGNvbnN0cnVjdCBhIGxvbmcgZGF0YS1mcmFtZSAod2l0aCBhbHRlcnMgbmVzdGVkIGluIGVnb3MpIHRvIGludmVzdGlnYXRlIHdoaWNoIGFsdGVycyBhcmUgbWFpbnRhaW5lZCBpbiB0aGUgcGVyc29uYWwgbmV0d29ya3Mgb2YgZWdvLiBUbyBlYWNoIGVnbywgcmVsZXZhbnQgaW5kaXZpZHVhbC1sZXZlbCwgY29udGV4dHVhbC1sZXZlbCwgYW5kIG5ldHdvcmstbGV2ZWwgcHJlZGljdG9ycyBhcmUgYXNzaWduZWQ7IHRvIGVhY2ggYWx0ZXIsIHJlbGV2YW50IGFsdGVyIGFuZCBkeWFkaWMgZmVhdHVyZXMgYXJlIGFzc2lnbmVkLiANCg0KVGhpcyBzY3JpcHQgdXNlcyBsaXN0cyBhbmQgbG9vcHMgYSBsb3QhIE1heWJlIG5vdCB0aGUgbW9zdCBlZmZpY2llbnQsIGJ1dCBpdCBnZXRzIHRoZSBqb2IgZG9uZS4NCg0KYGBge3IgZXZhbD1GQUxTRSwgY2xhc3Mub3V0cHV0PSJzY3JvbC0xMDAifQ0KI3JtKGxpc3Q9bHMoKSkNCiMgbG9hZCBpbiB0aGUgZGF0YSBvZiB3YXZlIDENCmRhdGEgPC0gcmVhZC5jc3YoInJlc3VsdHMtc3VydmV5OTM4MjQzLmNzdiIpIA0KIyBhbHNvIGRhdGEgb2Ygd2F2ZSAyDQojIGFmdGVyIGFsbCwgSSB3YW50IHRvIHN0dWR5IHRpZSBtYWludGVuYW5jZQ0KZGF0YTIgPC0gcmVhZC5jc3YoInJlc3VsdHMtc3VydmV5ODY4Mjc1LmNzdiIpDQoNCiMgc3Vic2V0IHJlc3BvbmRlbnRzIHRoYXQgZmlsbGVkIG91dCBib3RoIHN1cnZleXM7DQojIGJ5IG1hdGNoaW5nIGJhc2VkIG9uIGVtYWlsYWRyZXNzDQpkYXRhIDwtIGRhdGFbd2hpY2goZGF0YSRlbWFpbCAlaW4lIHVuaXF1ZShkYXRhMiRlbWFpbCkpLF0NCiNucm93KGRhdGEpICNuPTk1DQoNCiMgaSBtYWtlIGEgZGF0YWZyYW1lIG9mIGFsdGVycywgd2l0aCBwb3RlbnRpYWwgZHVwbGljYXRlcy4uLg0KZGZfbmFtZXMgPC0gZGF0YS5mcmFtZSgNCiAgcDEgPSBkYXRhJGVnb25ldDEuU1EwMDEuLA0KICBwMiA9IGRhdGEkZWdvbmV0MS5TUTAwMi4sDQogIHAzID0gZGF0YSRlZ29uZXQxLlNRMDAzLiwNCiAgcDQgPSBkYXRhJGVnb25ldDEuU1EwMDQuLA0KICBwNSA9IGRhdGEkZWdvbmV0MS5TUTAwNS4sDQogIHA2ID0gZGF0YSRlZ29uZXQyLlNRMDAxLiwNCiAgcDcgPSBkYXRhJGVnb25ldDIuU1EwMDIuLA0KICBwOCA9IGRhdGEkZWdvbmV0Mi5TUTAwMy4sDQogIHA5ID0gZGF0YSRlZ29uZXQyLlNRMDA0LiwNCiAgcDEwPSBkYXRhJGVnb25ldDIuU1EwMDUuLA0KICBwMTE9IGRhdGEkZWdvbmV0My5TUTAwMS4sDQogIHAxMj0gZGF0YSRlZ29uZXQzLlNRMDAyLiwNCiAgcDEzPSBkYXRhJGVnb25ldDMuU1EwMDMuLA0KICBwMTQ9IGRhdGEkZWdvbmV0My5TUTAwNC4sDQogIHAxNT0gZGF0YSRlZ29uZXQzLlNRMDA1LiwNCiAgcDE2PSBkYXRhJGVnb25ldDQuU1EwMDEuLA0KICBwMTc9IGRhdGEkZWdvbmV0NC5TUTAwMi4sDQogIHAxOD0gZGF0YSRlZ29uZXQ0LlNRMDAzLiwNCiAgcDE5PSBkYXRhJGVnb25ldDQuU1EwMDQuLA0KICBwMjA9IGRhdGEkZWdvbmV0NC5TUTAwNS4pDQoNCiMgaSBleGNsdWRlIHRoZSBpc29sYXRlcyANCmlzb2xhdGVzIDwtIHdoaWNoKHJvd1N1bXMoZGZfbmFtZXM9PSIiKT09MjApICNpLmUuLCAyMCBlbXB0eSBuYW1lIGZpZWxkcw0KZGZfbmFtZXMgPC0gZGZfbmFtZXNbLWlzb2xhdGVzLCBdDQojbnJvdyhkZl9uYW1lcykgI249OTINCg0KIyBpIGFsc28gZmlsdGVyIHRoZXNlIG91dCBmcm9tIG91ciByYXcgZGF0YS4uLg0KZGF0YSA8LSBkYXRhWy1pc29sYXRlcyxdDQoNCiMgaSBtYWtlIGEgbGlzdCBvZiBkYXRhLWZyYW1lcyAocGVyIGVnbykgd2l0aCByb3dzIHJlZmxlY3RpbmcgYWx0ZXJzOw0KIyBhIGNvbHVtbiBpbmRpY2F0aW5nIHRoZSBhbHRlciBudW1iZXIsIDE6MjANCiMgYW5kIDQgY29sdW1ucyBpbmRpY2F0aW5nIHRoZSBuYW1lKHMpIG9mIHRoZSBwYXJ0aWN1bGFyIGFsdGVyDQojIGFmdGVyIGFsbCwgYW4gYWx0ZXIgY291bGQsIGh5cG90aGV0aWNhbGx5LCBiZSBsaXN0ZWQgNCB0aW1lcywgd2l0aCBkaWZmZXJlbnQNCiMgbmFtZXMNCiMgaSBhbHNvIGFkZCB2YXJpYWJsZXMgZm9yIGVnby1sZXZlbCBjaGFyYWN0ZXJpc3RpY3MgKCJjb25zdGFudCIgb3ZlciBhbHRlcik7DQojIGFuZCBhbHRlci0gYW5kIGR5YWRpYyBmZWF0dXJlcw0KYWx0ZXJMIDwtIGxpc3QoKQ0KIyBsb29wIG92ZXIgYWxsIGVnb3MNCmZvciAoIGkgaW4gMTpucm93KGRmX25hbWVzKSkgew0KICBhbHRlckxbW2ldXSA8LSBkYXRhLmZyYW1lKA0KICAgIGVnb19nZW5kZXIgPSBOQSwNCiAgICBlZ29fZWR1YyA9IE5BLA0KICAgIGVnb19hZ2UgPSBOQSwNCiAgICBlZ29fcG9sID0gTkEsIA0KICAgIGFsdGVyaWQgPSAxOjIwLA0KICAgIG5hbWUxID0gTkEsDQogICAgbmFtZTIgPSBOQSwNCiAgICBuYW1lMyA9IE5BLA0KICAgIG5hbWU0ID0gTkEsDQogICAgIyBhbHRlciBsZXZlbA0KICAgIGFsdGVyX2dlbmRlciA9IE5BLA0KICAgIGFsdGVyX2VkdWMgPSBOQSwNCiAgICBhbHRlcl9hZ2UgPSBOQSwNCiAgICBhbHRlcl9wb2wgPSBOQSwNCiAgICAjIC4uLg0KICAgICMgZHlhZGljIGxldmVsDQogICAgc2FtZV9nZW5kZXIgPSBOQSwNCiAgICBzaW1fZWR1YyA9IE5BLA0KICAgIGRpZl9hZ2UgPSBOQSwNCiAgICBkaWZfcG9sID0gTkEsICNzaW1pbGFyaXR5IGluIHBvbGl0aWNhbCBwbGFjZW1lbnQgKGxlZnQtcmlnaHQpIG9mIGVnbyBhbmQgYWx0ZXINCiAgICBjbG9zZSA9IE5BLCAgICNlbW90aW9uYWwgY2xvc2VuZXNzDQogICAgY29uX2ZyZXEgPSBOQSwjY29udGFjdCBmcmVxdWVuY3kNCiAgICB0aWVfZHVyID0gTkEsICN0aWUgZHVyYXRpb24NCiAgICBwcm94ID0gTkEgICAgICNwaHlzaWNhbCBwcm94aW1pdHkNCiAgICAjIC4uLg0KICAgICMgQFJGLi4uIHRvIGFkZDogb3RoZXIgZWdvLXZhcmlhYmxlcywgc3RyLiBlbWJlZGRlZG5lc3MsIA0KICAgICMgbmV0d29yay12YXJpYWJsZXMgKGUuZy4sIHNpemUsZGVuc2l0eSk7DQogICAgIyBjb250ZXh0OyBpZGVhbGx5LCBkeW5hbWljIG1lYXN1cmVzLCBpLmUuLCBtZWFzdXJlcyBvZiBjaGFuZ2UgaW4gdmFyaWFibGVzDQogICAgIyBwZXJ0YWluaW5nIHRvIGRlbW9ncmFwaGljIGZlYXR1cmVzIChlLmcuLCBsaWZlIGV2ZW50czogY2hhbmdlIG9mIHJlc2lkZW5jeSBldGMuKQ0KICApDQp9DQoNCiMgZmlsbCB0aGUgbmFtZXMgYmFzZWQgb24gdGhlIG5hbWVzIGRhdGEtZnJhbWUNCmZvciAoIGkgaW4gMTpsZW5ndGgoYWx0ZXJMKSkgew0KICBhbHRlckxbW2ldXSRuYW1lMSA8LSB1bmxpc3QoZGZfbmFtZXNbaSwgXSwgdXNlLm5hbWVzPUYpDQp9DQoNCiMgcmVwbGFjZSBlbXB0eSBzdHJpbmdzIHdpdGggPE5BPg0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpIHsNCiAgYWx0ZXJMW1tpXV0kbmFtZTEgPC0gaWZlbHNlKGFsdGVyTFtbaV1dJG5hbWUxPT0iIiwgTkEsIGFsdGVyTFtbaV1dJG5hbWUxKQ0KfQ0KDQojIGEgbWF0Y2hpbmcgbWF0cml4IGFsbG93ZWQgZWdvIHRvIG1hdGNoIG5hbWVzIHRoYXQgcmVmZXJyZWQgdG8gdGhlIHNhbWUgcGVyc29uLg0KIyB1bmZvcnR1bmF0ZWx5LCBpbiBsaW1lc3VydmV5LCBpIGNvdWxkIG5vdCBsZXQgdGhlIG51bWJlciBvZiBjb2x1bW5zIGNvbmRpdGlvbg0KIyBvbiB0aGUgbnVtYmVyIG9mIGFsdGVycyBuYW1lZCBpbiB0aGUgbGF0ZXN0IG5ldCwgc28gaSBtYWRlIDUgc2VwYXJhdGUgbWF0cmljZXMsDQojIGNvbmRpdGlvbmFsIG9uIG5ldHNpemUuDQojIGkgY2FsY3VsYXRlIG5ldHNpemUgZm9yIGVhY2ggbmV0DQp7DQogIG5ldDEgPC0gY2JpbmQoZGF0YSRlZ29uZXQxLlNRMDAxLixkYXRhJGVnb25ldDEuU1EwMDIuLCBkYXRhJGVnb25ldDEuU1EwMDMuLGRhdGEkZWdvbmV0MS5TUTAwNC4sIGRhdGEkZWdvbmV0MS5TUTAwNS4pDQogIG5ldDEgPC0gaWZlbHNlKG5ldDE9PSIiLCBOQSwgbmV0MSkNCiAgbnMxIDwtIHZlY3RvcigpDQogIGZvciAoaSBpbiAxOm5yb3cobmV0MSkpIHsNCiAgICBuczFbaV0gPC0gbGVuZ3RoKG5ldDFbaSxdW3doaWNoKCFpcy5uYShuZXQxW2ksXSkpXSkNCiAgfQ0KICBuZXQyIDwtIGNiaW5kKGRhdGEkZWdvbmV0Mi5TUTAwMS4sZGF0YSRlZ29uZXQyLlNRMDAyLiwgZGF0YSRlZ29uZXQyLlNRMDAzLixkYXRhJGVnb25ldDIuU1EwMDQuLCBkYXRhJGVnb25ldDIuU1EwMDUuKQ0KICBuZXQyIDwtIGlmZWxzZShuZXQyPT0iIiwgTkEsIG5ldDIpDQogIG5zMiA8LSB2ZWN0b3IoKQ0KICBmb3IgKGkgaW4gMTpucm93KG5ldDIpKSB7DQogICAgbnMyW2ldIDwtIGxlbmd0aChuZXQyW2ksXVt3aGljaCghaXMubmEobmV0MltpLF0pKV0pDQogIH0NCiAgbmV0MyA8LSBjYmluZChkYXRhJGVnb25ldDMuU1EwMDEuLGRhdGEkZWdvbmV0My5TUTAwMi4sIGRhdGEkZWdvbmV0My5TUTAwMy4sZGF0YSRlZ29uZXQzLlNRMDA0LiwgZGF0YSRlZ29uZXQzLlNRMDA1LikNCiAgbmV0MyA8LSBpZmVsc2UobmV0Mz09IiIsIE5BLCBuZXQzKQ0KICBuczMgPC0gdmVjdG9yKCkNCiAgZm9yIChpIGluIDE6bnJvdyhuZXQzKSkgew0KICAgIG5zM1tpXSA8LSBsZW5ndGgobmV0M1tpLF1bd2hpY2goIWlzLm5hKG5ldDNbaSxdKSldKQ0KICB9DQogIG5ldDQgPC0gY2JpbmQoZGF0YSRlZ29uZXQ0LlNRMDAxLixkYXRhJGVnb25ldDQuU1EwMDIuLCBkYXRhJGVnb25ldDQuU1EwMDMuLGRhdGEkZWdvbmV0NC5TUTAwNC4sIGRhdGEkZWdvbmV0NC5TUTAwNS4pDQogIG5ldDQgPC0gaWZlbHNlKG5ldDQ9PSIiLCBOQSwgbmV0NCkNCiAgbnM0IDwtIHZlY3RvcigpDQogIGZvciAoaSBpbiAxOm5yb3cobmV0NCkpIHsNCiAgICBuczRbaV0gPC0gbGVuZ3RoKG5ldDRbaSxdW3doaWNoKCFpcy5uYShuZXQ0W2ksXSkpXSkNCiAgfQ0KfQ0KDQojIGkgY29uc3RydWN0IHRoZSBtYXRjaGluZyBtYXRyaWNlcywgMSAtIDUgKGNvbmRpdGlvbmFsIG9uIHRoZSBucyBvZiB0aGUgbGF0ZXN0IG5ldCkNCiMgcHV0IHRoZXNlIGluIGEgbGlzdA0KIyBhbmQgbGlzdCB0aGVzZSBhZ2FpbiwgZm9yIGVhY2ggcmVzcG9uZGVudA0KIyBzbyBhIGxpc3Qgb2YgbGlzdHMuLi4NCm1hdGNoaW5nTGlzdCA8LSBsaXN0KCkNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7ICMgZm9yIGVnbyBpDQogIG1hdGNoaW5nTCA8LSBsaXN0KCkNCiAgIyBtYWtlIDUgc2VwZXJhdGUgbWF0Y2hpbmcgbWF0cmljZXMuIG5hdHVyYWxseSwgb25seSAxIGlzIHJlbGV2YW50Li4uIGJ1dCBpIHdpbGwgc2VsZWN0IHRoYXQgbGF0ZXIuDQogIG1hdGNoaW5nTFtbMV1dIDwtIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjEuU1EwMDFfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcxTjEuU1EwMDJfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcxTjEuU1EwMDNfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcxTjEuU1EwMDRfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcxTjEuU1EwMDVfU1EwMDEuW2ldKQ0KICBtYXRjaGluZ0xbWzJdXTwtIHJiaW5kKA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjIuU1EwMDFfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU4yLlNRMDAyX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFOMi5TUTAwM19TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmcxTjIuU1EwMDRfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU4yLlNRMDA1X1NRMDAxLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzFOMi5TUTAwMV9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjIuU1EwMDJfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU4yLlNRMDAzX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzFOMi5TUTAwNF9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjIuU1EwMDVfU1EwMDIuW2ldKSkNCiAgbWF0Y2hpbmdMW1szXV08LSByYmluZCgNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMU4zLlNRMDAxX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFOMy5TUTAwMl9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmcxTjMuU1EwMDNfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU4zLlNRMDA0X1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFOMy5TUTAwNV9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjMuU1EwMDFfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU4zLlNRMDAyX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzFOMy5TUTAwM19TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjMuU1EwMDRfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU4zLlNRMDA1X1NRMDAyLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzFOMy5TUTAwMV9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmcxTjMuU1EwMDJfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nMU4zLlNRMDAzX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzFOMy5TUTAwNF9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmcxTjMuU1EwMDVfU1EwMDMuW2ldKSkNCiAgbWF0Y2hpbmdMW1s0XV08LSByYmluZCgNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMU40LlNRMDAxX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwMl9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDNfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU40LlNRMDA0X1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwNV9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDFfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU40LlNRMDAyX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwM19TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDRfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU40LlNRMDA1X1NRMDAyLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzFONC5TUTAwMV9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDJfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nMU40LlNRMDAzX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwNF9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDVfU1EwMDMuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMU40LlNRMDAxX1NRMDA0LltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwMl9TUTAwNC5baV0sIGRhdGEkbWF0Y2hpbmcxTjQuU1EwMDNfU1EwMDQuW2ldLCBkYXRhJG1hdGNoaW5nMU40LlNRMDA0X1NRMDA0LltpXSwgZGF0YSRtYXRjaGluZzFONC5TUTAwNV9TUTAwNC5baV0pKQ0KICBtYXRjaGluZ0xbWzVdXTwtIHJiaW5kKA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDFfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDAyX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwM19TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDRfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDA1X1NRMDAxLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzFONS5TUTAwMV9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDJfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDAzX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwNF9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDVfU1EwMDIuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMU41LlNRMDAxX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwMl9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDNfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDA0X1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwNV9TUTAwMy5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDFfU1EwMDQuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDAyX1NRMDA0LltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwM19TUTAwNC5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDRfU1EwMDQuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDA1X1NRMDA0LltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzFONS5TUTAwMV9TUTAwNS5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDJfU1EwMDUuW2ldLCBkYXRhJG1hdGNoaW5nMU41LlNRMDAzX1NRMDA1LltpXSwgZGF0YSRtYXRjaGluZzFONS5TUTAwNF9TUTAwNS5baV0sIGRhdGEkbWF0Y2hpbmcxTjUuU1EwMDVfU1EwMDUuW2ldKSkNCiAgbWF0Y2hpbmdMaXN0W1tpXV0gPC0gbWF0Y2hpbmdMDQp9ICMgc28uLi4gbWF0Y2hpbmdMW1sxXV1bWzVdXSBpcyBtYXRjaGluZ21hdHJpeCA1IChpLmUuLCA1IGFsdGVycyBuYW1lZCBpbiBlZ29uZXQyKSBmb3IgZWdvIDENCg0KIyB0aGUgY29tYmluYXRpb24gb2YgdGhlIG1hdGNoaW5nIG1hdHJpY2VzIGFuZCB0aGUgbmV0c2l6ZXMgZm9yIGVnbyBhbGxvd3MgbWUgdG8gbWF0Y2ggdGhlIG5hbWVzIG15c2VsZi4NCmZvciAoaSBpbiAxOmxlbmd0aChtYXRjaGluZ0xpc3QpKSB7ICAgICAjIGZvciBlZ28gaQ0KICBtTCA8LSBtYXRjaGluZ0xpc3RbW2ldXSAgICAgICAgICAgICAgICMgZ2V0IHRoZSBtYXRjaGluZyBsaXN0DQogIG5zIDwtIG5zMltbaV1dICAgICAgICAgICAgICAgICAgICAgICAgIyBnZXQgdGhlIHNpemUgb2YgZWdvbmV0Mg0KICBpZihucz4wKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgbnM9MCwgbm8gbWF0Y2hpbmcgd2FzIGRvbmUhDQogICAgbW0gPC0gYXMubWF0cml4KG1MW1tuc11dKSAgICAgICAgICAgIyByZXRyaWV2ZSB0aGUgY29ycmVzcG9uZGluZyBtYXRyaXgNCiAgICBtYXRjaGVkIDwtIHdoaWNoKG1tPT0xLCBhcnIuaW5kPVQpICAjIHJldHJpZXZlIGFycmF5IGluZGljZXMNCiAgICBuZXQgPC0gbmV0MltpLF0NCiAgICBpZihsZW5ndGgobWF0Y2hlZCk+MCkgeyAgICAgICAgICAgICAjIGlmIG1hdGNoaW5nIHdhcyBwZXJmb3JtZWQhDQogICAgICBhbHRlckxbW2ldXSRuYW1lMlt3aGljaChhbHRlckxbW2ldXSRhbHRlcmlkPT1tYXRjaGVkWywyXSldIDwtIG5ldFttYXRjaGVkWywxXV0NCiAgICB9DQogIH0NCn0NCg0KIyBhZ2FpbiwgbWFrZSBhIG1hdGNoaW5nIGxpc3QgZm9yIHRoZSBzZWNvbmQgbWF0Y2hpbmcgbWF0cmljZXMNCiMgKGkuZS4sIG1hdGNoaW5nIGVnb25ldDMgYWx0ZXJzIHRvIHByZXYuIGFsdGVycyk7DQptYXRjaGluZ0xpc3QyIDwtIGxpc3QoKQ0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpIHsgIyBmb3IgZWdvIGkNCiAgbWF0Y2hpbmcyTCA8LSBsaXN0KCkNCiAgbWF0Y2hpbmcyTFtbMV1dIDwtIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDFfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDJfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDNfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDRfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDVfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDZfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDdfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDhfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMDlfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjEuU1EwMTBfU1EwMDEuW2ldKQ0KICBtYXRjaGluZzJMW1syXV0gPC0gcmJpbmQoDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJOMi5TUTAwMV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwMl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwM19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwNF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwNV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwNl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwN19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwOF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAwOV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJOMi5TUTAxMF9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDFfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDJfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDNfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDRfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDVfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDZfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDdfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDhfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMDlfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjIuU1EwMTBfU1EwMDIuW2ldKSkNCiAgbWF0Y2hpbmcyTFtbM11dIDwtIHJiaW5kKA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDFfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDJfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDNfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDRfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDVfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDZfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDdfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDhfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMDlfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmcyTjMuU1EwMTBfU1EwMDEuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMk4zLlNRMDAxX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDAyX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDAzX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA0X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA1X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA2X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA3X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA4X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDA5X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nMk4zLlNRMDEwX1NRMDAyLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJOMy5TUTAwMV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwMl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwM19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwNF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwNV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwNl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwN19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwOF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAwOV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzJOMy5TUTAxMF9TUTAwMy5baV0pKQ0KICBtYXRjaGluZzJMW1s0XV0gPC0gcmJpbmQoDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJONC5TUTAwMV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwMl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwM19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwN19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwOF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwOV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAxMF9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDFfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDJfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDNfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDRfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDVfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDZfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDdfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDhfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMDlfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjQuU1EwMTBfU1EwMDIuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMk40LlNRMDAxX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDAyX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDAzX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA0X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA1X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA2X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA3X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA4X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDA5X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk40LlNRMDEwX1NRMDAzLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJONC5TUTAwMV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwMl9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwM19TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNF9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwNl9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwN19TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwOF9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAwOV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONC5TUTAxMF9TUTAwNC5baV0pKQ0KICBtYXRjaGluZzJMW1s1XV0gPC0gcmJpbmQoDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJONS5TUTAwMV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwMl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwM19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwN19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwOF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwOV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAxMF9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDFfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDNfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDRfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDZfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDdfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDlfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMTBfU1EwMDIuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nMk41LlNRMDAxX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDAyX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDAzX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA0X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA1X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA2X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA3X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA4X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDA5X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nMk41LlNRMDEwX1NRMDAzLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzJONS5TUTAwMV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwMl9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwM19TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNF9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwNl9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwN19TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwOF9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAwOV9TUTAwNC5baV0sZGF0YSRtYXRjaGluZzJONS5TUTAxMF9TUTAwNC5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDFfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDNfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDRfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDZfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDdfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMDlfU1EwMDUuW2ldLGRhdGEkbWF0Y2hpbmcyTjUuU1EwMTBfU1EwMDUuW2ldKSkNCiAgbWF0Y2hpbmdMaXN0MltbaV1dIDwtIG1hdGNoaW5nMkwNCn0NCg0KZm9yIChpIGluIDE6bGVuZ3RoKG1hdGNoaW5nTGlzdDIpKSB7ICAgICMgZm9yIGVnbyBpDQogIG1MIDwtIG1hdGNoaW5nTGlzdDJbW2ldXSAgICAgICAgICAgICAgIyBnZXQgdGhlIG1hdGNoaW5nIGxpc3QgMg0KICBucyA8LSBuczNbW2ldXSAgICAgICAgICAgICAgICAgICAgICAgICMgZ2V0IHRoZSBzaXplIG9mIGVnb25ldDMNCiAgaWYobnM+MCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIG5zPTAsIG5vIG1hdGNoaW5nIHdhcyBkb25lIQ0KICAgIG1tIDwtIGFzLm1hdHJpeChtTFtbbnNdXSkgICAgICAgICAgICMgYW5kIHRoZSBjb3JyZXNwb25kaW5nIG1hdHJpeA0KICAgIG1hdGNoZWQgPC0gd2hpY2gobW09PTEsIGFyci5pbmQ9VCkgICMgcmV0cmlldmUgYXJyYXkgaW5kaWNlcw0KICAgIG5ldCA8LSBuZXQzW2ksXQ0KICAgIA0KICAgIGlmKGxlbmd0aChtYXRjaGVkKT4wKSB7ICAgICAgICAgICAgICMgaWYgbWF0Y2hpbmcgd2FzIHBlcmZvcm1lZCENCiAgICAgIGFsdGVyTFtbaV1dJG5hbWUzW21hdGNoZWRbLDJdXSA8LSBuZXRbbWF0Y2hlZFssMV1dDQogICAgfQ0KICB9DQp9DQoNCiMgc2FtZSBmb3IgbWF0Y2hpbmcgMyAoaS5lLiwgZWdvbmV0NCB3aXRoIGVnb25ldHMgMS0zKQ0KbWF0Y2hpbmdMaXN0MyA8LSBsaXN0KCkNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7ICMgZm9yIGVnbyBpDQogIG1hdGNoaW5nM0wgPC0gbGlzdCgpDQogIG1hdGNoaW5nM0xbWzFdXSA8LSBjYmluZChkYXRhJG1hdGNoaW5nM04xLlNRMDAxX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDAyX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDAzX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA0X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA1X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA2X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA3X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA4X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDA5X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04xLlNRMDEwX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNOMS5TUTAxMV9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjEuU1EwMTJfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM04xLlNRMDEzX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNOMS5TUTAxNF9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjEuU1EwMTVfU1EwMDEuW2ldKQ0KICBtYXRjaGluZzNMW1syXV0gPC0gcmJpbmQoDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNOMi5TUTAwMV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwMl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwM19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwN19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwOF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwOV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAxMF9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjIuU1EwMTFfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM04yLlNRMDEyX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNOMi5TUTAxM19TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjIuU1EwMTRfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM04yLlNRMDE1X1NRMDAxLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNOMi5TUTAwMV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwMl9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwM19TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNF9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwNl9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwN19TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwOF9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAwOV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNOMi5TUTAxMF9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjIuU1EwMTFfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM04yLlNRMDEyX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNOMi5TUTAxM19TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjIuU1EwMTRfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM04yLlNRMDE1X1NRMDAyLltpXSkpDQogIG1hdGNoaW5nM0xbWzNdXSA8LSByYmluZCgNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nM04zLlNRMDAxX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAyX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAzX1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA0X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA1X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA2X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA3X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA4X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA5X1NRMDAxLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDEwX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxMV9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTJfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM04zLlNRMDEzX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxNF9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTVfU1EwMDEuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nM04zLlNRMDAxX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAyX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAzX1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA0X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA1X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA2X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA3X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA4X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA5X1NRMDAyLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDEwX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxMV9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTJfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM04zLlNRMDEzX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxNF9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTVfU1EwMDIuW2ldKSwNCiAgICBjYmluZChkYXRhJG1hdGNoaW5nM04zLlNRMDAxX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAyX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDAzX1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA0X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA1X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA2X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA3X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA4X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDA5X1NRMDAzLltpXSxkYXRhJG1hdGNoaW5nM04zLlNRMDEwX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxMV9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTJfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM04zLlNRMDEzX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNOMy5TUTAxNF9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjMuU1EwMTVfU1EwMDMuW2ldKSkNCiAgbWF0Y2hpbmczTFtbNF1dIDwtIHJiaW5kKA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDJfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDNfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDVfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDZfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDhfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDlfU1EwMDEuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDExX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxMl9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDE0X1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxNV9TUTAwMS5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDJfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDNfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDVfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDZfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDhfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDlfU1EwMDIuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDExX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxMl9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDE0X1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxNV9TUTAwMi5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDJfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDNfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDVfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDZfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDhfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDlfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDExX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxMl9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDE0X1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxNV9TUTAwMy5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDJfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDNfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDVfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDZfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDhfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDlfU1EwMDMuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDExX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxMl9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDE0X1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxNV9TUTAwMy5baV0pLA0KICAgIGNiaW5kKGRhdGEkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDJfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDNfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDVfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDZfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDhfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMDlfU1EwMDQuW2ldLGRhdGEkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDQuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDExX1NRMDA0LltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxMl9TUTAwNC5baV0sIGRhdGEkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDQuW2ldLCBkYXRhJG1hdGNoaW5nM040LlNRMDE0X1NRMDA0LltpXSwgZGF0YSRtYXRjaGluZzNONC5TUTAxNV9TUTAwNC5baV0pKQ0KICBtYXRjaGluZzNMW1s1XV0gPC0gcmJpbmQoDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNONS5TUTAwMV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwMl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwM19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNl9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwN19TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOF9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOV9TUTAwMS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAxMF9TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTFfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDEyX1NRMDAxLltpXSwgZGF0YSRtYXRjaGluZzNONS5TUTAxM19TUTAwMS5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTRfU1EwMDEuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDE1X1NRMDAxLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNONS5TUTAwMV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwMl9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwM19TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNF9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNl9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwN19TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOF9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOV9TUTAwMi5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAxMF9TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTFfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDEyX1NRMDAyLltpXSwgZGF0YSRtYXRjaGluZzNONS5TUTAxM19TUTAwMi5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTRfU1EwMDIuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDE1X1NRMDAyLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNONS5TUTAwMV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwMl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwM19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwN19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAxMF9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTFfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDEyX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONS5TUTAxM19TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTRfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDE1X1NRMDAzLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNONS5TUTAwMV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwMl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwM19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNl9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwN19TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOF9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOV9TUTAwMy5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAxMF9TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTFfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDEyX1NRMDAzLltpXSwgZGF0YSRtYXRjaGluZzNONS5TUTAxM19TUTAwMy5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTRfU1EwMDMuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDE1X1NRMDAzLltpXSksDQogICAgY2JpbmQoZGF0YSRtYXRjaGluZzNONS5TUTAwMV9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwMl9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwM19TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNF9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNV9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwNl9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwN19TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOF9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAwOV9TUTAwNS5baV0sZGF0YSRtYXRjaGluZzNONS5TUTAxMF9TUTAwNS5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTFfU1EwMDUuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDEyX1NRMDA1LltpXSwgZGF0YSRtYXRjaGluZzNONS5TUTAxM19TUTAwNS5baV0sIGRhdGEkbWF0Y2hpbmczTjUuU1EwMTRfU1EwMDUuW2ldLCBkYXRhJG1hdGNoaW5nM041LlNRMDE1X1NRMDA1LltpXSkpDQogIG1hdGNoaW5nTGlzdDNbW2ldXSA8LSBtYXRjaGluZzNMDQp9DQoNCmZvciAoaSBpbiAxOmxlbmd0aChtYXRjaGluZ0xpc3QzKSkgeyAgICAjIGZvciBlZ28gaQ0KICBtTCA8LSBtYXRjaGluZ0xpc3QzW1tpXV0gICAgICAgICAgICAgICMgZ2V0IHRoZSBtYXRjaGluZyBsaXN0IDINCiAgbnMgPC0gbnM0W1tpXV0gICAgICAgICAgICAgICAgICAgICAgICAjIGdldCB0aGUgc2l6ZSBvZiBlZ29uZXQ0DQogIGlmKG5zPjApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiBucz0wLCBubyBtYXRjaGluZyB3YXMgZG9uZSENCiAgICBtbSA8LSBhcy5tYXRyaXgobUxbW25zXV0pICAgICAgICAgICAjIGFuZCB0aGUgY29ycmVzcG9uZGluZyBtYXRyaXgNCiAgICBtYXRjaGVkIDwtIHdoaWNoKG1tPT0xLCBhcnIuaW5kPVQpICAjIHJldHJpZXZlIGFycmF5IGluZGljZXMNCiAgICBuZXQgPC0gbmV0NFtpLF0NCiAgICBpZihsZW5ndGgobWF0Y2hlZCk+MCkgeyAgICAgICAgICAgICAjIGlmIG1hdGNoaW5nIHdhcyBwZXJmb3JtZWQhDQogICAgICBhbHRlckxbW2ldXSRuYW1lNFttYXRjaGVkWywyXV0gPC0gbmV0W21hdGNoZWRbLDFdXQ0KICAgIH0NCiAgfQ0KfQ0KDQojIGkgdXNlIHRoZSBuYW1lIGludGVycHJldGVyIGRhdGEgdG8gYWRkIGFsdGVyIGNoYXJhY3RlcmlzdGljcw0KIyBpIG1ha2UgYSBkYXRhLWZyYW1lIG9mIGFsdGVycycgZ2VuZGVyDQojIGluIHRoZSBzdXJ2ZXksIGluIG5hbWUtaW50ZXJwcmV0ZXIgcXVlc3Rpb25zLCBvbmx5IHVuaXF1ZSAoaS5lLiwgbm9uLW1hdGNoZWQpDQojIGFsdGVycyB3ZXJlIGxpc3RlZC4uLg0KIyB0aHVzLCBhbHRlciBpZHMgd2l0aG91dCBhIGdlbmRlciBhc3NpZ25lZCB0byB0aGVtIGFyZSBub24tdW5pcXVlcywgYW5kIGNhbg0KIyBsYXRlciBiZSBmaWx0ZXJlZCBvdXQuDQoNCmRmX2dlbmRlciA8LSBkYXRhLmZyYW1lKA0KICBwMSA9IGRhdGEkZ2VuZGVyLlNRMDAxLiwNCiAgcDIgPSBkYXRhJGdlbmRlci5TUTAwMi4sDQogIHAzID0gZGF0YSRnZW5kZXIuU1EwMDMuLA0KICBwNCA9IGRhdGEkZ2VuZGVyLlNRMDA0LiwNCiAgcDUgPSBkYXRhJGdlbmRlci5TUTAwNS4sDQogIHA2ID0gZGF0YSRnZW5kZXIuU1EwMDYuLA0KICBwNyA9IGRhdGEkZ2VuZGVyLlNRMDA3LiwNCiAgcDggPSBkYXRhJGdlbmRlci5TUTAwOC4sDQogIHA5ID0gZGF0YSRnZW5kZXIuU1EwMDkuLA0KICBwMTA9IGRhdGEkZ2VuZGVyLlNRMDEwLiwNCiAgcDExPSBkYXRhJGdlbmRlci5TUTAxMS4sDQogIHAxMj0gZGF0YSRnZW5kZXIuU1EwMTIuLA0KICBwMTM9IGRhdGEkZ2VuZGVyLlNRMDEzLiwNCiAgcDE0PSBkYXRhJGdlbmRlci5TUTAxNC4sDQogIHAxNT0gZGF0YSRnZW5kZXIuU1EwMTUuLA0KICBwMTY9IGRhdGEkZ2VuZGVyLlNRMDE2LiwNCiAgcDE3PSBkYXRhJGdlbmRlci5TUTAxNy4sDQogIHAxOD0gZGF0YSRnZW5kZXIuU1EwMTguLA0KICBwMTk9IGRhdGEkZ2VuZGVyLlNRMDE5LiwNCiAgcDIwPSBkYXRhJGdlbmRlci5TUTAyMC4pDQoNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7DQogIGFsdGVyTFtbaV1dJGFsdGVyX2dlbmRlciA8LSANCiAgICBpZmVsc2UodW5saXN0KGRmX2dlbmRlcltpLF0sIHVzZS5uYW1lcz1GKT09Ik1hbiIsIDAsICAjIG1hbGUgPSByZWYuDQogICAgICAgICAgIGlmZWxzZSh1bmxpc3QoZGZfZ2VuZGVyW2ksXSwgdXNlLm5hbWVzPUYpPT0iVnJvdXciLCAxLA0KICAgICAgICAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9nZW5kZXJbaSxdLCB1c2UubmFtZXM9Rik9PSJBbmRlcnMiLCAyLCAiIikpKQ0KfQ0KDQojIHNhbWUgZm9yIGFnZS4uLg0KZGZfYWdlIDwtIGRhdGEuZnJhbWUoDQogIHAxID0gZGF0YSRhZ2UuU1EwMDEuLA0KICBwMiA9IGRhdGEkYWdlLlNRMDAyLiwNCiAgcDMgPSBkYXRhJGFnZS5TUTAwMy4sDQogIHA0ID0gZGF0YSRhZ2UuU1EwMDQuLA0KICBwNSA9IGRhdGEkYWdlLlNRMDA1LiwNCiAgcDYgPSBkYXRhJGFnZS5TUTAwNi4sDQogIHA3ID0gZGF0YSRhZ2UuU1EwMDcuLA0KICBwOCA9IGRhdGEkYWdlLlNRMDA4LiwNCiAgcDkgPSBkYXRhJGFnZS5TUTAwOS4sDQogIHAxMD0gZGF0YSRhZ2UuU1EwMTAuLA0KICBwMTE9IGRhdGEkYWdlLlNRMDExLiwNCiAgcDEyPSBkYXRhJGFnZS5TUTAxMi4sDQogIHAxMz0gZGF0YSRhZ2UuU1EwMTMuLA0KICBwMTQ9IGRhdGEkYWdlLlNRMDE0LiwNCiAgcDE1PSBkYXRhJGFnZS5TUTAxNS4sDQogIHAxNj0gZGF0YSRhZ2UuU1EwMTYuLA0KICBwMTc9IGRhdGEkYWdlLlNRMDE3LiwNCiAgcDE4PSBkYXRhJGFnZS5TUTAxOC4sDQogIHAxOT0gZGF0YSRhZ2UuU1EwMTkuLA0KICBwMjA9IGRhdGEkYWdlLlNRMDIwLikNCg0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpIHsNCiAgYWx0ZXJMW1tpXV0kYWx0ZXJfYWdlIDwtIA0KICAgIGlmZWxzZSh1bmxpc3QoZGZfYWdlW2ksXSwgdXNlLm5hbWVzPUYpPT0iSm9uZ2VyIGRhbiAxOCBqYWFyIiwgMTYsICM/Pz8NCiAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9Rik9PSIxOCB0b3QgMjEgamFhciIsIDIwLA0KICAgICAgICAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9Rik9PSIyMiB0b3QgMjUgamFhciIsIDIzLA0KICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZSh1bmxpc3QoZGZfYWdlW2ksXSwgdXNlLm5hbWVzPUYpPT0iMjYgdG90IDMwIGphYXIiLCAyOCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9Rik9PSIzMSB0b3QgNDAgamFhciIsIDM1LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9Rik9PSJPdWRlciBkYW4gNDAgamFhciIsIDQ1LCAjPz8/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9Rik9PSJXZWV0IGlrIG5pZXQiLCBOQSwgIyBpIGRvbid0IGtub3cgPSBtaXNzaW5nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubGlzdChkZl9hZ2VbaSxdLCB1c2UubmFtZXM9RikpKSkpKSkpfQ0KDQojIGVkdWNhdGlvbi4uLiB3YXMgYXNrZWQgaW4gdzIuIGZvciBhbGwgYWx0ZXJzICh0aHVzIGluIHcyLCBhbmQgdW5pcXVlIG5hbWVzIG9mIHcxKQ0KIyBidXQgdzEgbmFtZXMgd2VyZSBvbmx5IGxpc3RlZCBpZiB0aGV5IGRpZCBub3QgY29ycmVzcG9uZCB0byB3MiBhbHRlcnMuLi4NCiMgLi4uDQoNCiMgcG9saXRpY2FsIHBsYWNlbWVudCBvZiBhbHRlcnMgb24gbGVmdC1yaWdodCBzcGVjdHJ1bSAoYXMgcGVyY2VpdmVkIGJ5IGVnbykNCmRmX3BvbCA8LSBkYXRhLmZyYW1lKA0KICBwMSA9IGRhdGEkUDUuU1EwMDEuLA0KICBwMiA9IGRhdGEkUDUuU1EwMDIuLA0KICBwMyA9IGRhdGEkUDUuU1EwMDMuLA0KICBwNCA9IGRhdGEkUDUuU1EwMDQuLA0KICBwNSA9IGRhdGEkUDUuU1EwMDUuLA0KICBwNiA9IGRhdGEkUDUuU1EwMDYuLA0KICBwNyA9IGRhdGEkUDUuU1EwMDcuLA0KICBwOCA9IGRhdGEkUDUuU1EwMDguLA0KICBwOSA9IGRhdGEkUDUuU1EwMDkuLA0KICBwMTA9IGRhdGEkUDUuU1EwMTAuLA0KICBwMTE9IGRhdGEkUDUuU1EwMTEuLA0KICBwMTI9IGRhdGEkUDUuU1EwMTIuLA0KICBwMTM9IGRhdGEkUDUuU1EwMTMuLA0KICBwMTQ9IGRhdGEkUDUuU1EwMTQuLA0KICBwMTU9IGRhdGEkUDUuU1EwMTUuLA0KICBwMTY9IGRhdGEkUDUuU1EwMTYuLA0KICBwMTc9IGRhdGEkUDUuU1EwMTcuLA0KICBwMTg9IGRhdGEkUDUuU1EwMTguLA0KICBwMTk9IGRhdGEkUDUuU1EwMTkuLA0KICBwMjA9IGRhdGEkUDUuU1EwMjAuKQ0KDQoNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7DQogIGFsdGVyX3BsYWNlbWVudCA8LSB1bmxpc3QoZGZfcG9sW2ksXSx1c2UubmFtZXM9RikNCiAgIyBleHRyYWN0IG51bWJlcnMgZnJvbSBzdHJpbmdzDQogIGFsdGVyX3BsYWNlbWVudCA8LSBzdHJpbmdyOjpzdHJfZXh0cmFjdChhbHRlcl9wbGFjZW1lbnQsICBwYXR0ZXJuID0gIlxcKD9bMC05LC5dK1xcKT8iKQ0KICBhbHRlckxbW2ldXSRhbHRlcl9wb2wgPC0gYWx0ZXJfcGxhY2VtZW50DQp9DQoNCiMgYmVmb3JlIHdlIGNhbiBjb25zdHJ1Y3Qgc2ltaWxhcml0eSBpbmRpY2VzLCB3ZSBtdXN0IGFkZCBlZ28tYXR0cmlidXRlcw0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpIHsNCiAgIyAgZ2VuZGVyDQogIGFsdGVyTFtbaV1dJGVnb19nZW5kZXIgPC0gaWZlbHNlKGRhdGEkQTFbaV0gPT0gIk1hbiIsIDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkYXRhJEExW2ldID09ICJWcm91dyIsIDEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGF0YSRBMVtpXSA9PSAiT3ZlcmlnZSIsIDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTkEpKSkNCiAgIyBlZHVjYXRpb24gDQogICMgQFJGOiB0aGVzZSBzY29yZSBzaG91bGQgY29ycmVzcG9uZCB0byBzY29yZXMgZ2l2ZW4gdG8gYWx0ZXIgZWR1Yy4uLg0KICBhbHRlckxbW2ldXSRlZ29fZWR1YyA8LSBpZmVsc2UoZGF0YSRUMVtpXSA9PSAiYWFuIGRlIEhvZ2VzY2hvb2wgdmFuIEFybmhlbSBlbiBOaWptZWdlbiAoSEFOKSIsICJoYm8iLCAidW5pdmVyc2l0ZWl0IiApDQogIA0KICAjIGFnZQ0KICAjIGNhbGN1bGF0ZWQgYXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBzdWJtaXNzaW9uIGRhdGUgYW5kIGJpcnRoZGF0ZQ0KICAjIGluIHllYXJzLg0KICBiaXJ0aF9kYXRlIDwtIGFzLkRhdGUoZGF0YSRBMikNCiAgeF9kYXRlIDwtIGFzLkRhdGUoZGF0YSRzdWJtaXRkYXRlKQ0KICByZXF1aXJlKGx1YnJpZGF0ZSkNCiAgYWx0ZXJMW1tpXV0kZWdvX2FnZSA8LSB0cnVuYygoYmlydGhfZGF0ZVtpXSAlLS0lIHhfZGF0ZVtpXSkgLyB5ZWFycygxKSkNCiAgDQogICMgcG9saXRpY2FsIG9yaWVudGF0aW9uIChsZWZ0LXJpZ2h0KQ0KICBlZ29fcGxhY2VtZW50IDwtIHN0cmluZ3I6OnN0cl9leHRyYWN0KGRhdGEkUDEuU1EwMDEuLCAgcGF0dGVybiA9ICJcXCg/WzAtOSwuXStcXCk/IikNCiAgYWx0ZXJMW1tpXV0kZWdvX3BvbCA8LSBhcy5udW1lcmljKGVnb19wbGFjZW1lbnRbaV0pDQp9DQoNCiMgaSBmaWx0ZXIgb3V0IHRoZSB1bmlxdWUsIG5vbi1kdXBsaWNhdGUgYWx0ZXJzOw0KIyBieSBleGNsdWRpbmcgYWx0ZXJzIHdpdGggZW1wdHkgc3RyaW5ncyBmb3IgZ2VuZGVyIGF0dHJpYnV0ZQ0KZm9yICggaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7DQogIGFsdGVyTFtbaV1dIDwtIGFsdGVyTFtbaV1dW3doaWNoKGFsdGVyTFtbaV1dJGFsdGVyX2dlbmRlciE9IiIpLF0NCiAgIyBhbmQgcmVwbGFjZSB0aGUgYWx0ZXIgaWQ6IDEgOiBuby4gdW5pcXVlIGFsdGVycw0KICBhbHRlckxbW2ldXSRhbHRlcmlkIDwtIDE6bnJvdyhhbHRlckxbW2ldXSkNCn0NCg0KIyBkeWFkaWMgc2ltaWxhcml0eToNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSAgeyAjIGZvciBlZ28gaQ0KICAjIGdldCBhdHRyaWJ1dGVzIG9mIGVnbw0KICBhZ2VpIDwtIGFsdGVyTFtbaV1dJGVnb19hZ2VbMV0NCiAgZ2VuZGVyaSA8LSBhbHRlckxbW2ldXSRlZ29fZ2VuZGVyWzFdDQogICNlZHVjaSA8LSBhbHRlckxbW2ldXSRlZ29fZWR1Y1sxXQ0KICBwb2xpIDwtIGFsdGVyTFtbaV1dJGVnb19wb2xbMV0NCiAgDQogIGZvciAoaiBpbiAxOm1heChhbHRlckxbW2ldXSRhbHRlcmlkKSkgeyAjIGZvciBhbHRlciBqDQogICAgIyBjYWxjdWxhdGUgInNhbWUgZ2VuZGVyIiAoMC8xKQ0KICAgIGdlbmRlcmogPC0gYXMubnVtZXJpYyhhbHRlckxbW2ldXSRhbHRlcl9nZW5kZXJbal0pICMgZ2V0IGFsdGVyIGogZ2VuZGVyDQogICAgc2FtZSA8LSBpZmVsc2UoZ2VuZGVyaT09Z2VuZGVyaiwgMSwgMCkNCiAgICBhbHRlckxbW2ldXSRzYW1lX2dlbmRlclt3aGljaChhbHRlckxbW2ldXSRhbHRlcmlkPT1qKV0gPC0gc2FtZQ0KICAgIA0KICAgICMgY2FsY3VsYXRlIHNpbWlsYXJpdHkgZm9yIGFnZSBhbmQgcG9saXRpY2FsIG9yaWVudGF0aW9uDQogICAgIyBAUkYuLiB0by1kbzogZWR1Y2F0aW9uDQogICAgDQogICAgIyBAUkYuLi4gaSBtYXkgd2FudCB0byBjb25zdHJ1Y3Qgc2ltaWxhcml0eSBpbmRpY2VzIGZvciBjb250aW51ZXMgdmFyaWFibGVzDQogICAgIyBzaW1eel9paiA9IDEgLSB8el9pIC0gel9qfCAvIHJhbmdfeg0KICAgICMgdGhpcyBpcyBiZW5lZmljaWFsLCBhcyBpbmRleCB2YWx1ZXMgcmFuZ2UgYmV0d2VlbiAwIGFuZCAxLi4uDQogICAgIyBoZXJlLCBzb21lIGNvbmRpdGlvbnMgYXJlIHJlbGV2YW50OyBhcyBzaW1pbGFyaXR5IHdvdWxkIGJlIC1JTkYgaXMgcmFuZ196PTA7DQogICAgIyBhbmQgaW5jYWxjdWxhYmxlIGlmIHpfaiA9IE5BICh1bmtub3duKSBbYW5kL29yIHpfaSA9IE5BIChpLmUuLCBmb3IgcG9saXRpY2FsIG9yaWVudGF0aW9uKV0NCiAgICANCiAgICAjIGZvciBub3cuLi4gaSBjYWxjdWxhdGUgc2ltaWxhcml0eS9ob21vcGhpbHkgYXMgdGhlIGFic29sdXRlIGRpZmZlcmVuY2UgYmV0d2Vlbg0KICAgICMgYWx0ZXIgYW5kIGVnbyB2YWx1ZSAoY2YuIE1hcmluICYgSGFtcHRvbiAyMDE5KTsgImVhc3kgbWV0aG9kIg0KICAgIGFnZWogPC0gYXMubnVtZXJpYyhhbHRlckxbW2ldXSRhbHRlcl9hZ2Vbal0pICMgZ2V0IGFsdGVyIGogYWdlDQogICAgZGlmYWdlIDwtIGFicyhhZ2VpIC0gYWdlaikgIyBkaWZmZXJlbmNlIHNjb3JlDQogICAgIyBzbyBoaWdoZXIgdmFsdWVzIHJlcHJlc2VudCAqbGVzcyogc2ltaWxhcml0eQ0KICAgIGlmKCAhaXMubmEgKGFnZWopICkgeyAjIHNpbWlsYXJpdHkgb25seSBjYWxjdWxhYmxlIGlmIHpfaiBpcyBrbm93biENCiAgICAgIGFsdGVyTFtbaV1dJGRpZl9hZ2Vbd2hpY2goYWx0ZXJMW1tpXV0kYWx0ZXJpZD09aildIDwtIGRpZmFnZQ0KICAgIH0gZWxzZSB7IGFsdGVyTFtbaV1dJGRpZl9hZ2Vbd2hpY2goYWx0ZXJMW1tpXV0kYWx0ZXJpZD09aildIDwtIE5BfQ0KICB9DQogIA0KICAjIGR5YWRpYyBzaW1pbGFyaXR5Og0KICBmb3IgKGkgaW4gMTpsZW5ndGgoYWx0ZXJMKSkgIHsgIyBmb3IgZWdvIGkNCiAgICAjIGdldCBhdHRyaWJ1dGVzIG9mIGVnbw0KICAgIGFnZWkgPC0gYWx0ZXJMW1tpXV0kZWdvX2FnZVsxXQ0KICAgIGdlbmRlcmkgPC0gYWx0ZXJMW1tpXV0kZWdvX2dlbmRlclsxXQ0KICAgICNlZHVjaSA8LSBhbHRlckxbW2ldXSRlZ29fZWR1Y1sxXQ0KICAgIHBvbGkgPC0gYWx0ZXJMW1tpXV0kZWdvX3BvbFsxXQ0KICAgIA0KICAgIGZvciAoaiBpbiAxOm1heChhbHRlckxbW2ldXSRhbHRlcmlkKSkgeyAjIGZvciBhbHRlciBqDQogICAgICAjIGNhbGN1bGF0ZSAic2FtZSBnZW5kZXIiICgwLzEpDQogICAgICBnZW5kZXJqIDwtIGFzLm51bWVyaWMoYWx0ZXJMW1tpXV0kYWx0ZXJfZ2VuZGVyW2pdKSAjIGdldCBhbHRlciBqIGdlbmRlcg0KICAgICAgc2FtZSA8LSBpZmVsc2UoZ2VuZGVyaT09Z2VuZGVyaiwgMSwgMCkNCiAgICAgIGFsdGVyTFtbaV1dJHNhbWVfZ2VuZGVyW3doaWNoKGFsdGVyTFtbaV1dJGFsdGVyaWQ9PWopXSA8LSBzYW1lDQogICAgICANCiAgICAgICMgY2FsY3VsYXRlIHNpbWlsYXJpdHkgZm9yIGFnZSBhbmQgcG9saXRpY2FsIG9yaWVudGF0aW9uDQogICAgICAjIEBSRi4uIHRvLWRvOiBlZHVjYXRpb24NCiAgICAgIA0KICAgICAgIyBAUkYuLi4gaSBtYXkgd2FudCB0byBjb25zdHJ1Y3Qgc2ltaWxhcml0eSBpbmRpY2VzIGZvciBjb250aW51ZXMgdmFyaWFibGVzDQogICAgICAjIHNpbV56X2lqID0gMSAtIHx6X2kgLSB6X2p8IC8gcmFuZ196DQogICAgICAjIHByb2JhYmx5IGZvciBwb2xpdGljYWwgb3JpZW50YXRpb24sIGFzIHRoZSByYW5nZSAoc2NhbGUpIGlzIGtub3duLi4uDQogICAgICAjIHRoaXMgaXMgYmVuZWZpY2lhbCwgYXMgaW5kZXggdmFsdWVzIHJhbmdlIGJldHdlZW4gMCBhbmQgMS4uLg0KICAgICAgIyBoZXJlLCBzb21lIGNvbmRpdGlvbnMgYXJlIHJlbGV2YW50OyBhcyBzaW1pbGFyaXR5IHdvdWxkIGJlIC1JTkYgaXMgcmFuZ196PTA7DQogICAgICAjIGFuZCBpbmNhbGN1bGFibGUgaWYgel9qIGFuZC9vciB6X2kgPSBOQSAodW5rbm93bikNCiAgICAgIA0KICAgICAgIyBmb3Igbm93Li4uIGkgY2FsY3VsYXRlIHNpbWlsYXJpdHkvaG9tb3BoaWx5IGFzIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4NCiAgICAgICMgYWx0ZXIgYW5kIGVnbyB2YWx1ZSAoY2YuIE1hcmluICYgSGFtcHRvbiAyMDE5KTsNCiAgICAgIGFnZWogPC0gYXMubnVtZXJpYyhhbHRlckxbW2ldXSRhbHRlcl9hZ2Vbal0pICMgZ2V0IGFsdGVyIGogYXR0cmlidXRlcw0KICAgICAgcG9saiA8LSBhcy5udW1lcmljKGFsdGVyTFtbaV1dJGFsdGVyX3BvbFtqXSkNCiAgICAgIA0KICAgICAgZGlmYWdlIDwtIGFicyhhZ2VpIC0gYWdlaikgIyBkaWZmZXJlbmNlIHNjb3Jlcw0KICAgICAgZGlmcG9sIDwtIGFicyhwb2xpIC0gcG9saikNCiAgICAgICMgaGlnaGVyIHZhbHVlcyByZXByZXNlbnQgbGVzcyBzaW1pbGFyaXR5DQogICAgICANCiAgICAgIGlmKCAhaXMubmEgKGFnZWopICkgeyAjIGFnZSBzaW1pbGFyaXR5IG9ubHkgY2FsY3VsYWJsZSBpZiB6X2ogaXMga25vd24hDQogICAgICAgIGFsdGVyTFtbaV1dJGRpZl9hZ2Vbd2hpY2goYWx0ZXJMW1tpXV0kYWx0ZXJpZD09aildIDwtIGRpZmFnZQ0KICAgICAgfSBlbHNlIHsgYWx0ZXJMW1tpXV0kZGlmX2FnZVt3aGljaChhbHRlckxbW2ldXSRhbHRlcmlkPT1qKV0gPC0gTkF9DQogICAgICANCiAgICAgIGlmKCAhaXMubmEgKHBvbGopICYgIWlzLm5hKHBvbGkpICkgeyAjIHBvbC4gc2ltaWxhcml0eSBvbmx5IGlmIHppIEFORCB6aiBhcmUga25vd24NCiAgICAgICAgYWx0ZXJMW1tpXV0kZGlmX3BvbFt3aGljaChhbHRlckxbW2ldXSRhbHRlcmlkPT1qKV0gPC0gZGlmcG9sDQogICAgICB9IGVsc2UgeyBhbHRlckxbW2ldXSRkaWZfcG9sW3doaWNoKGFsdGVyTFtbaV1dJGFsdGVyaWQ9PWopXSA8LSBOQX0NCiAgICB9DQogICAgDQogIH0NCn0NCg0KIyBiYXNlZCBvbiBsaXN0IG9mIGRhdGEtZnJhbWVzIGZvciBlYWNoIGVnbywgaSBtYWtlIGEgbG9uZyBkYXRhLWZyYW1lIHdpdGggDQojIGFsdGVycyBuZXN0ZWQgaW4gZWdvcw0KIyBucm93IHBlciBlZ28gZGVwZW5kcyBvbiBuZXRzaXplDQpucyA8LSB2ZWN0b3IoKQ0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpew0KICBuc1tpXSA8LSBucm93KGFsdGVyTFtbaV1dKQ0KfQ0KDQpkZiA8LSBkYXRhLmZyYW1lKA0KICBlZ28gPSByZXAoMTpsZW5ndGgoYWx0ZXJMKSxucykNCikNCg0KIyBhZGQgZWdvLWxldmVsIHZhcmlhYmxlcw0KZGYkZWdvX2dlbmRlciA8LSBOQQ0KZGYkZWdvX2FnZSA8LSBOQQ0KZGYkZWdvX2VkdWMgPC0gTkENCmRmJGVnb19wb2wgPC0gTkENCg0KZm9yIChpIGluIHVuaXF1ZShkZiRlZ28pKSB7ICMgZm9yIGVnbw0KICBkZiRlZ29fZ2VuZGVyW3doaWNoKGRmJGVnbz09aSldIDwtIGFsdGVyTFtbaV1dJGVnb19nZW5kZXJbMV0NCiAgZGYkZWdvX2FnZVt3aGljaChkZiRlZ289PWkpXSA8LSBhbHRlckxbW2ldXSRlZ29fYWdlWzFdDQogIGRmJGVnb19lZHVjW3doaWNoKGRmJGVnbz09aSldIDwtIGFsdGVyTFtbaV1dJGVnb19lZHVjWzFdDQogIGRmJGVnb19wb2xbd2hpY2goZGYkZWdvPT1pKV0gPC0gYWx0ZXJMW1tpXV0kZWdvX3BvbFsxXQ0KICAjQFJGOiBwZXJoYXBzIGFkZCBtaXNzaW5nIGR1bW15IGZvciBwb2xpdGljYWwgb3JpZW5hdGlvbi4uLiBpbnRlcmVzdGluZyBjYXRlZ29yeT8NCn0NCg0KIyBvdGhlciBlZ28tdmFyaWFibGVzDQojIG1lcmdlIGRhdGEgd2F2ZXMNCmRhdGEkaWQgPC0gMTpucm93KGRhdGEpDQpkIDwtIG1lcmdlKGRhdGEsIGRhdGEyLCBieT0iZW1haWwiKQ0KIyBzb3J0DQpkIDwtIGRhdGEuZnJhbWUoZFtvcmRlcihkJGlkLngsIGRlY3JlYXNpbmcgPSBGKSwgXSkNCg0KZGYkaG91c2luZyA8LSBOQSAjIGN1cnJlbnQgbGl2aW5nIHNpdHVhdGlvbg0KIyBAUkYuIGlkZWFsbHksIGkgd291bGQgY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBpbiBrbSBiZXR3ZWVuIHRoZSB0d28gcmVzaWRlbmNpZXMuDQoNCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRob3VzaW5nW3doaWNoKGRmJGVnbz09aSldIDwtIGQkQTQueFtpXSAjIHcxLCBoYWxmIHllYXIgcHJpb3IgdG8gdHJhbnNpdGlvbg0KICANCiAgIyBpZiByZXNwb25kZW50IGRvZXMgbm90IHN0aWxsIGxpdmUgaGVyZSBhdCB3MSwgZ2V0IGN1cnJlbnQgbGl2aW5nIHNpdHVhdGlvbg0KICBkZiRob3VzaW5nW3doaWNoKGRmJGVnbz09aSldIDwtIGlmZWxzZShkJEE2W2ldID09ICJOZWUiLCBkJEE3W2ldLCBkZiRob3VzaW5nW3doaWNoKGRmJGVnbz09aSldKSANCiAgDQogICMgaWYgcmVzcG9uZGVudCBoYXMgbW92ZWQgc2luY2UgdGhlbiwgLi4uDQogIGRmJGhvdXNpbmdbd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKGQkQTQueVtpXSA9PSAiSmEiIHwgZCRBNGJbaV0gPT0gIkphIiB8IGQkQTRjW2ldID09ICJKYSIsIGQkQTRkW2ldLCBkZiRob3VzaW5nW3doaWNoKGRmJGVnbz09aSldICkNCn0NCg0KIyBtYWtlIGhvdXNpbmcgY2F0ZWdvcmllcy4uLg0KZGYkYWxvbmUgPC0gaWZlbHNlKGRmJGhvdXNpbmc9PSJhbGxlZW4iLDEsMCkNCmRmJHBhcmVudHMgPC0gaWZlbHNlKGRmJGhvdXNpbmc9PSJpbndvbmVuZCBiaWogamUgb3VkZXIocykvdmVyem9yZ2VyKHMpIiwxLDApDQpkZiRvdGhlciA8LSBpZmVsc2UoZGYkaG91c2luZyE9ImFsbGVlbiIgfCBkZiRob3VzaW5nIT0iaW53b25lbmQgYmlqIGplIG91ZGVyKHMpL3ZlcnpvcmdlcihzKSIsMSwwKQ0KbGlicmFyeShkcGx5cikNCmRmPC1kZiAlPiUgc2VsZWN0KC1ob3VzaW5nKSAjIHJlbW92ZSBjaGFyYWN0ZXIgdmFyaWFibGUuDQoNCiMgYWRkIGEgZHluYW1pYyBhdHRyaWJ1dGUgaW5kaWNhdGluZyByZXNpZGVudGlhbCBtb3ZlIG92ZXIgdGhlIGFjYWRlbWljIHllYXIgKHllcy9ubykNCmRmJGhvdXNpbmdfY2hhbmdlIDwtIE5BDQpmb3IgKCBpIGluIHVuaXF1ZShkZiRlZ28pKSB7DQogIGRmJGhvdXNpbmdfY2hhbmdlW3doaWNoKGRmJGVnbz09aSldIDwtIGlmZWxzZShkJEE2W2ldID09ICJOZWUiIHwgZCRBNC55W2ldID09ICJKYSIgfCBkJEE0YltpXSA9PSAiSmEiIHwgZCRBNGNbaV0gPT0gIkphIiwgMSwgMCkNCn0NCg0KIyBpZGVhbGx5LCBhbHNvIGEgdmFyaWFibGUgaW5kaWNhdGluZyB0aGUgZGlzdGFuY2Ugb2YgdGhlIG1vdmUgKHdlIGhhdmUgNC1kaWdpdCB6aXAgY29kZSBpbmZvIG9uIHJlc2lkZW5jZSBwcmUtIGFuZCBwb3N0LXRyYW5zaXRpb24pDQoNCiMgZWdvIG1haW4gb2NjdXBhdGlvbiBiZWZvcmUgdHJhbnNpdGlvbmluZyB0byB1bmkuDQpkZiRzZWNfZWR1YyA8LSBOQQ0KZGYkdGVydF9lZHVjIDwtIE5BDQpkZiR3b3JrIDwtIE5BDQpkZiRnYXB5ciA8LSBOQQ0KZGYkb3RoZXIgPC0gTkENCg0KZm9yICggaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRzZWNfZWR1Y1t3aGljaChkZiRlZ289PWkpXSA8LSBpZmVsc2UoZGF0YSRFMVtpXT09IklrIHphdCBvcCBkZSBtaWRkZWxiYXJlIHNjaG9vbCIsMSwwKQ0KICBkZiR0ZXJ0X2VkdWNbd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKGRhdGEkRTFbaV09PSJJayBkZWVkIGVlbiBNQk8tLCBIQk8tIG9mIFdPLW9wbGVpZGluZyIsMSwwKQ0KICBkZiR3b3JrW3doaWNoKGRmJGVnbz09aSldIDwtICBpZmVsc2UoZGF0YSRFMVtpXT09IklrIHdlcmt0ZSIsMSwwKQ0KICBkZiRnYXB5clt3aGljaChkZiRlZ289PWkpXSA8LSBpZmVsc2UoZGF0YSRFMVtpXT09IklrIGhhZCBlZW4gdHVzc2VuamFhciIsMSwwKQ0KICBkZiRvdGhlclt3aGljaChkZiRlZ289PWkpXSA8LSBpZmVsc2UoZGF0YSRFMVtpXT09Ik92ZXJpZ2UiLDEsMCkNCn0NCg0KIyBiZWluZyAvIGJlY29taW5nIG1lbWJlciBvZiBhIGZvcm1hbCBvcmdhbml6YXRpb24gKGUuZy4sIHNwb3J0cyBjbHViLCBwb2xpdGljYWwgcGFydHkpDQojIG9yZ2FuaXphdGlvbnMgZWdvIGlzIG1lbWJlciBvZi4uLg0KIyBwcmUtdHJhbnNpdGlvbg0KZjEgPC0gY2JpbmQoZGF0YSRGMS5TUTAwMS4sZGF0YSRGMS5TUTAwMi4sZGF0YSRGMS5TUTAwMy4sZGF0YSRGMS5TUTAwNC4sZGF0YSRGMS5TUTAwNS4pDQojIGN1cnJlbnRseSAodzEpDQpmMiA8LSBjYmluZChkYXRhJEYyLlNRMDAxLixkYXRhJEYyLlNRMDAyLixkYXRhJEYyLlNRMDAzLixkYXRhJEYyLlNRMDA0LixkYXRhJEYyLlNRMDA1LikNCg0KZGYkb3JnYW5pemF0aW9uIDwtIE5BICAjIGJlaW5nIG1lbWJlcg0KZGYkam9pbmVkX29yZyA8LSBOQSAjIGJlY2FtZSBtZW1iZXIgYWZ0ZXIgdHJhbnNpdGlvbi4NCg0KZm9yIChpIGluIHVuaXF1ZShkZiRlZ28pKSB7DQogICMgaWYgZWdvIHdhcyBtZW1iZXIgb2YgYXQgbGVhc3Qgb25lIHR5cGUgb2Ygb3JnYW5pemF0aW9uLi4uDQogICMgZ2l2ZSBzY29yZSAxOg0KICBkZiRvcmdhbml6YXRpb25bd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKCJKYSIgJWluJSBmMltpLF0sIDEsIDApDQogIA0KICAjIGlmIGVnbyBqb2luZWQgKGF0IGxlYXN0KSBvbmUgb3JnYW5pemF0aW9uLi4uDQogICMgaS5lLiwgaWYgZWdvIHdhcyBub3QgbWVtYmVyIG9mIHRoZSBwYXJ0aWN1bGFyIG9yZ2FuaXphdGlvbiBiZWZvcmUgdHJhbmlzdGlvbmluZw0KICAjIHRvIHVuaSwgYnV0IGhlL3NoZSB3YXMgYWZ0ZXIgdHJhbnNpdGlvbmluZy4uLg0KICAjIGdpdmUgc2NvcmUgMSBvbiB0aGUgZHluYW1pYyBhdHRyaWJ1dGUNCiAgDQogIGluZCA8LSB3aGljaChmMltpLF09PSJKYSIpICMgZ2V0IG9yZ2FuaXphdGlvbnMgZWdvIGlzIG1lbWJlciBvZi4uLg0KICAjIGZpbmQgb3V0IGlmIGVnbyB3YXMgYWxyZWFkeSBtZW1iZXIgb3Igbm90Li4uIA0KICBkZiRqb2luZWRfb3JnW3doaWNoKGRmJGVnbz09aSldIDwtIGlmZWxzZSgiTmVlIiAlaW4lIGYxW2ksaW5kXSwxLDApDQp9DQoNCiMgb3RoZXIgb3JnYW5pemF0aW9ucyBlZ28gbWF5IGhhdmUgam9pbmVkDQpkZiRzdHVkaWV2ZXIgPC0gTkENCmRmJHN0dWRlbnR2ZXIgPC0gTkENCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRzdHVkaWV2ZXJbd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKGRhdGEkRTRbaV09PSJKYSIsMSwwKQ0KICBkZiRzdHVkZW50dmVyW3doaWNoKGRmJGVnbz09aSldIDwtIGlmZWxzZShkYXRhJEU1W2ldPT0iSmEiLDEsMCkNCn0NCg0KIyByb21hbnRpYyByZWxhdGlvbnNoaXANCmRmJHJvbWFudGljIDwtIE5BDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsNCiAgZGYkcm9tYW50aWNbd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKGRhdGEkUjNbaV0gPT0gIkphIiwgMSwwKQ0KfQ0KDQojbG9uZWxpbmVzczoNCiNodHRwczovL3d3dy5jYnMubmwvbmwtbmwvbWFhdHdlcmsvMjAyMC81Mi9lZW56YWFtaGVpZA0KIyAxKSAiRXIgemlqbiBnZW5vZWcgbWVuc2VuIG9wIHdpZSBpayBpbiBnZXZhbCB2YW4gbmFyaWdoZWlkIGthbiB0ZXJ1Z3ZhbGxlbiIgKHNvY2lhbCBsb25lbGluZXNzKQ0KIyAyKSAiSWsgbWlzIG1lbnNlbiBvbSBtZSBoZWVuIiAoZW1vdGlvbmFsIGxvbmVsaW5lc3MpDQpsIDwtIGNiaW5kKGQkc3RlbGxpbmdlbi5TUTAwMS4sIGQkc3RlbGxpbmdlbi5TUTAwMi4pDQpsIDwtIGlmZWxzZShsPT0iSGVsZS1tYWFsIG9uZWVucyIsIDEsDQogICAgICAgICAgICBpZmVsc2UobD09Ik1lZSBvbmVlbnMiLCAyLA0KICAgICAgICAgICAgICAgICAgICMgZG8gbm90IGtub3cgPSBuZXV0cmFsLi4uIHRoaXMgY2F0ZWdvcnkgd2FzIHNwYXJzZWx5IHBvcHVsYXRlZCANCiAgICAgICAgICAgICAgICAgICBpZmVsc2UobD09Ik5ldXRyYWFsIiB8IGw9PSJJayB3ZWV0IGhldCBuaWV0IiwgMywgDQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShsPT0iTWVlIGVlbnMiLCA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGw9PSJIZWxlLW1hYWwgZWVucyIsIDUsIGwpKSkpKQ0KIyB0dXJuIHRoZSBmaXJzdCBpbmRpY2F0b3IsIHNvIHRoYXQgaGlnaGVyIHNjb3JlcyBpbmRpY2F0ZSAibW9yZSIgbG9uZWxpbmVzcy4NCmxbLDFdIDwtIDYtYXMubnVtZXJpYyhsWywxXSkNCg0KI2V4dHJhdmVyc2lvbg0KIyAxKSAiSWsgYmVuIGNvbW11bmljYXRpZWYsIGVlbiBnZXplbHNjaGFwc21lbnMiDQojIDIpICJJayBiZW4gc29tcyB2ZXJsZWdlbiwgaW50cm92ZXJ0Ig0KZSA8LSBjYmluZChkJHN0ZWxsaW5nZW4uU1EwMDMuLCBkJHN0ZWxsaW5nZW4uU1EwMDYuKQ0KZSA8LSBpZmVsc2UoZT09IkhlbGUtbWFhbCBvbmVlbnMiLCAxLA0KICAgICAgICAgICAgaWZlbHNlKGU9PSJNZWUgb25lZW5zIiwgMiwNCiAgICAgICAgICAgICAgICAgICBpZmVsc2UoZT09Ik5ldXRyYWFsIiB8IGU9PSJJayB3ZWV0IGhldCBuaWV0IiwgMywgDQogICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShlPT0iTWVlIGVlbnMiLCA0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGU9PSJIZWxlLW1hYWwgZWVucyIsIDUsIGUpKSkpKQ0KIyB0dXJuIHRoZSBzZWNvbmQgaW5kaWNhdG9yDQplWywyXSA8LSA2LWFzLm51bWVyaWMoZVssMl0pDQoNCiMgY2FsY3VsYXRlIGF2ZXJhZ2VzLg0KZGYkbG9uZWxpbmVzcyA8LSBOQQ0KZGYkZXh0cmF2ZXJzaW9uIDwtIE5BDQoNCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBsX3Njb3JlcyA8LSBhcy5udW1lcmljKGxbaSxdKQ0KICBlX3Njb3JlcyA8LSBhcy5udW1lcmljKGVbaSxdKQ0KICBkZiRsb25lbGluZXNzW3doaWNoKGRmJGVnbz09aSldIDwtIG1lYW4obF9zY29yZXMpDQogIGRmJGV4dHJhdmVyc2lvblt3aGljaChkZiRlZ289PWkpXSA8LSBtZWFuKGVfc2NvcmVzKQ0KfQ0KDQojIHN0dWR5IGxvYWQgbWF5IGhpbmRlciBzb2NpYWwgaW50ZXJhY3Rpb24uLi4NCiMgdW5mb3J0dW5hdGVseSwgdGhpcyBpcyBub3QgYSBkeW5hbWljIHZhcmlhYmxlOyAuLi4NCiMgIklrIGhlYiBoZXQgZ2V2b2VsIGRhdCBpayB2ZWVsIGRpbmdlbiBtaXMgZG9vcmRhdCBpayB2ZWVsIHRpamQga3dpanQgYmVuIGFhbiBtaWpuIHN0dWRpZSINCmRmJHN0dWR5X2xvYWQgPC0gTkENCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRzdHVkeV9sb2FkW3doaWNoKGRmJGVnbz09aSldIDwtIGQkc3RlbGxpbmdlbi5TUTAwNC5baV0NCn0NCiMgcmVjb2RlDQpkZiRzdHVkeV9sb2FkIDwtIGlmZWxzZShkZiRzdHVkeV9sb2FkPT0iSGVsZS1tYWFsIG9uZWVucyIsIDEsDQogICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkc3R1ZHlfbG9hZD09Ik1lZSBvbmVlbnMiLCAyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRzdHVkeV9sb2FkPT0iTmV1dHJhYWwiIHwgZGYkc3R1ZHlfbG9hZD09IklrIHdlZXQgaGV0IG5pZXQiLCAzLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJHN0dWR5X2xvYWQ9PSJNZWUgZWVucyIsIDQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkc3R1ZHlfbG9hZD09IkhlbGUtbWFhbCBlZW5zIiwgNSwgZGYkc3R1ZHlfbG9hZCkpKSkpDQoNCiMgZmluYW5jaWFsIHJlc3RyaWN0aW9ucyBmb3Igc29jaWFsIGludGVyYWN0aW9uDQojICJNYWFrIGplIGhldCBtZWUgZGF0IGplIGFjdGl2aXRlaXRlbiBvZiB1aXRzdGFwamVzIG1ldCB2cmllbmRlbiBtb2V0IG1pc3NlbiBvbWRhdCBqZSBqZSBkZXplIG5pZXQgZmluYW5jaWVlbCBrdW50IHZlcm9vcmxvdmVuPyINCmRmJGZpbl9yZXN0ciA8LSBOQQ0KZm9yIChpIGluIHVuaXF1ZShkZiRlZ28pKSB7DQogIGRmJGZpbl9yZXN0clt3aGljaChkZiRlZ289PWkpXSA8LSBkJEcwMVExMTFbaV0NCn0NCmRmJGZpbl9yZXN0ciA8LSBpZmVsc2UoZGYkZmluX3Jlc3RyPT0iTm9vaXQiLDAsDQogICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRmaW5fcmVzdHI9PSJTb21zIiwxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGZpbl9yZXN0cj09IlZhYWsiLDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGZpbl9yZXN0cj09IkFsdGlqZCIsMywgTkEpKSkpDQojIDAuIG5ldmVyOyAxLiBzb21ldGltZXM7IDIuIG9mdGVuOyAzLiBhbHdheXMNCg0KIyBjb3ZpZCEgd29ycmllcy9hbnhpZXR5IGFib3V0IGNvdmlkIG1heSByZWR1Y2Ugc29jaWFsIGludGVyYWN0aW9uOw0KIyBidXQgYWxzbyB0aGUgZmVlbGluZ3Mgb2YgcGVvcGxlIGluIHlvdXIgc29jaWFsIGNpcmNsZSBvZiBjb3Vyc2UuDQojIEBSRjogaSBpbmNsdWRlIHdvcnJpZXMvYW54aWV0eSBhYm91dCB0aGUgREVMVEEtdmFyaWFudCAoaS5lLiwgZHVyaW5nIHN1bW1lciBob2xpZGF5cykNCiMgdGhpcyBtYXkgYWZmZWN0IHRpZSBtYWludGVuYW5jZSBkdXJpbmcgdGhlIHRyYW5zaXRpb24gdG8gdW5pLi4uDQpkZiRlZ29fY292aWRfYW54IDwtIE5BDQpkZiRhbHRlcnNfY292aWRfYW54IDwtIE5BDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsNCiAgZGYkZWdvX2NvdmlkX2FueFt3aGljaChkZiRlZ289PWkpXSA8LSBkJGNvdmlkLlNRMDAxLltpXQ0KICBkZiRhbHRlcnNfY292aWRfYW54W3doaWNoKGRmJGVnbz09aSldIDwtIGQkY292aWQuU1EwMDIuW2ldDQp9DQojIHJlY29kZQ0KZGYkYWx0ZXJzX2NvdmlkX2FueCA8LSBpZmVsc2UoZGYkYWx0ZXJzX2NvdmlkX2FueD09IkhlbGUtbWFhbCBvbmVlbnMiLCAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGFsdGVyc19jb3ZpZF9hbng9PSJNZWUgb25lZW5zIiwgMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkYWx0ZXJzX2NvdmlkX2FueD09Ik5ldS10cmFhbCIgfCBkZiRhbHRlcnNfY292aWRfYW54PT0iSWsgd2VldCBoZXQgbmlldCIgLCAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkYWx0ZXJzX2NvdmlkX2FueD09Ik1lZSBlZW5zIiwgNCwgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGFsdGVyc19jb3ZpZF9hbng9PSJIZWxlLW1hYWwgZWVucyIsIDUsIGRmJGFsdGVyc19jb3ZpZF9hbngpKSkpKQ0KZGYkZWdvX2NvdmlkX2FueCA8LSBpZmVsc2UoZGYkZWdvX2NvdmlkX2FueD09IkhlbGUtbWFhbCBvbmVlbnMiLCAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGVnb19jb3ZpZF9hbng9PSJNZWUgb25lZW5zIiwgMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkZWdvX2NvdmlkX2FueD09Ik5ldS10cmFhbCIgfCBkZiRlZ29fY292aWRfYW54PT0iSWsgd2VldCBoZXQgbmlldCIgLCAzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkZWdvX2NvdmlkX2FueD09Ik1lZSBlZW5zIiwgNCwgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGVnb19jb3ZpZF9hbng9PSJIZWxlLW1hYWwgZWVucyIsIDUsIGRmJGVnb19jb3ZpZF9hbngpKSkpKQ0KDQojIyMjDQojIEBSRi4gYWRkIG5ldHdvcmsgdmFyaWFibGVzDQojIHNpemUgKG5vLiBvZiB1bmlxdWUgYWx0ZXJzKTsgZGVuc2l0eSAodW5mb3J0dW5hdGVseSwgaSBvbmx5IGtub3cgdGhpcyBwZXIgZWdvLW5ldCkNCmRmJG5ldHNpemUgPC0gTkENCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRuZXRzaXplW3doaWNoKGRmJGVnbz09aSldIDwtIG5yb3coYWx0ZXJMW1tpXV0pDQp9DQojIy4uLg0KDQojIyMjIyMjDQojIHRvIHRoZSBhbHRlciBsZXZlbCENCiMgbWFrZSBhbHRlciBpZHMgcGVyIGVnbw0KZGYkYWx0ZXIgPC0gTkENCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgew0KICBkZiRhbHRlclt3aGljaChkZiRlZ289PWkpXSA8LSAxOm5yb3coZGZbd2hpY2goZGYkZWdvPT1pKSxdKQ0KfQ0KDQojIGJpbmFyeSBhdHRyaWJ1dGVzLCBpbmRpY2F0aW5nIHdoZXRoZXIgYWx0ZXJzIGFwcGVhcmVkIGluIGVhY2ggb2YgdGhlIGVnb25ldHMNCmRmJGNkbiA8LSBOQQ0KZGYkc3R1ZHkgPC0gTkENCmRmJGJmZiA8LSBOQQ0KZGYkY3NuIDwtIE5BDQoNCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgeyAgDQogIGZvciAoaiBpbiAxOm5yb3coZGZbd2hpY2goZGYkZWdvPT1pKSxdKSkgeyAjIGZvciBhbHRlcnMgbmVzdGVkIGluIGVnbw0KICAgICMgZmluZCBvdXQgaWYgbmFtZXMgZGVub3RpbmcgYWx0ZXIgaiBhcHBlYXIgaW4gdGhlIDQgZWdvbmV0cw0KICAgIGFsdGVyIDwtIHVubGlzdChhbHRlckxbW2ldXVtqLDY6OV0sIHVzZS5uYW1lcyA9IEYpICMgZ2V0IG5hbWVzIGFsdGVyIGoNCiAgICBhbHRlciA8LSBhbHRlclshaXMubmEoYWx0ZXIpXSAjIGV4Y2x1ZGUgTkFzDQogICAgY2RuIDwtIGFsdGVyICVpbiUgbmV0MVtpLF0NCiAgICBzdHVkeSA8LSBhbHRlciAlaW4lIG5ldDJbaSxdDQogICAgYmZmIDwtIGFsdGVyICVpbiUgbmV0M1tpLF0NCiAgICBjc24gPC0gYWx0ZXIgJWluJSBuZXQ0W2ksXQ0KICAgICMgYW5kIGlmIHNvLCBnaXZlIGFsdGVyIGogc2NvcmUgMSBvbiBpbmRpY2F0b3JzOyAwIG90aGVyd2lzZQ0KICAgIGRmJGNkblt3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildIDwtIGlmZWxzZSgiVFJVRSIgJWluJSBjZG4sIDEsIDApDQogICAgZGYkc3R1ZHlbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBpZmVsc2UoIlRSVUUiICVpbiUgc3R1ZHksIDEsIDApDQogICAgZGYkYmZmW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gaWZlbHNlKCJUUlVFIiAlaW4lIGJmZiwgMSwgMCkNCiAgICBkZiRjc25bd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBpZmVsc2UoIlRSVUUiICVpbiUgY3NuLCAxLCAwKQ0KICB9DQp9DQoNCiMgbXVsdGlwbGV4aXR5IGFzIGFuIGFsdGVyICh0aWUpIGF0dHJpYnV0ZTogDQojIHRoZSB0aGUgbnVtYmVyIG9mIG5ldHdvcmtzIGogYXBwZWFycyBpbiAodGhlIG51bWJlciBvZiB0aWVzIGkgYW5kIGogc2hhcmUpDQpkZiRtdWx0aXBsZXggPC0gcm93U3VtcyhkZlssYygyNzozMCldKQ0KDQojIGFkZCBhbHRlciBsZXZlbCBhdHRyaWJ1dGVzDQpkZiRhbHRlcl9nZW5kZXIgPC0gTkENCmRmJGFsdGVyX2FnZSA8LSBOQQ0KZGYkYWx0ZXJfZWR1YyA8LSBOQQ0KZGYkYWx0ZXJfcG9sIDwtIE5BDQojLi4uDQoNCmZvciAoaSBpbiB1bmlxdWUoZGYkZWdvKSkgeyAjIGZvciBlZ28NCiAgZm9yIChqIGluIHVuaXF1ZShkZiRhbHRlclt3aGljaChkZiRlZ289PWkpXSkpIHsgIyBmb3IgYWx0ZXINCiAgICBkZiRhbHRlcl9nZW5kZXJbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBhbHRlckxbW2ldXSRhbHRlcl9nZW5kZXJbal0NCiAgICBkZiRhbHRlcl9hZ2Vbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBhbHRlckxbW2ldXSRhbHRlcl9hZ2Vbal0NCiAgICBkZiRhbHRlcl9lZHVjW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gYWx0ZXJMW1tpXV0kYWx0ZXJfZWR1Y1tqXQ0KICAgIGRmJGFsdGVyX3BvbFt3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildIDwtIGFsdGVyTFtbaV1dJGFsdGVyX3BvbFtqXQ0KICB9DQp9DQoNCiMgZHlhZGljIGxldmVsDQpkZiRzYW1lX2dlbmRlciA9IE5BDQpkZiRzaW1fZWR1YyA9IE5BDQpkZiRkaWZfYWdlID0gTkENCmRmJGRpZl9wb2wgPSBOQQ0KDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsgIyBmb3IgZWdvDQogIGZvciAoaiBpbiB1bmlxdWUoZGYkYWx0ZXJbd2hpY2goZGYkZWdvPT1pKV0pKSB7ICMgZm9yIGFsdGVyDQogICAgZGYkc2FtZV9nZW5kZXJbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBhbHRlckxbW2ldXSRzYW1lX2dlbmRlcltqXQ0KICAgIGRmJHNpbV9lZHVjW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gYWx0ZXJMW1tpXV0kc2ltX2VkdWNbal0NCiAgICBkZiRkaWZfYWdlW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gYWx0ZXJMW1tpXV0kZGlmX2FnZVtqXQ0KICAgIGRmJGRpZl9wb2xbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBhbHRlckxbW2ldXSRkaWZfcG9sW2pdICAgIA0KICB9DQp9DQoNCiMgaSBoYXZlIHRvIGZpbmQgb3V0IHdoZXRoZXIgYWx0ZXJzIHdlcmUgbWFpbnRhaW5lZCBpbiB3Mg0KZGYkc3Vydml2ZSA8LSBOQQ0KIyBJbiB3YXZlIDIsIGFub3RoZXIgbWF0Y2hpbmcgcHJvY2VkdXJlIHdhcyB1c2VkOw0KIyBpbiByb3dzLCBhbHRlcnMgbmFtZWQgaW4gdzIgYXJlIGxpc3RlZDsgY29sdW1ucyBkZW5vdGUgKHVuaXF1ZSkgYWx0ZXJzIG9mIHcxLA0KIyBzbyB0aGUgc2FtZSBvbmUgYXMgb3VyIGRhdGEtZnJhbWUuDQojIGFnYWluLCBpIG1hZGUgbXVsdGlwbGUgbWF0cmljZXMsIGNvbmRpdGlvbmFsIG9uIHRoZSBuby4gb2YgdW5pcXVlIGFsdGVycyBvZiB3MQ0KIyAoMTUsIHRvIGJlIHByZWNpc2UpDQojIGlmLCBpbiBvbmUgb2YgdGhlc2UgbWF0cmljZXMsIGNvbHVtbiBqIHdhcyBtYXJrZWQgYXMgY29ycmVzcG9uZGluZyB0byBhDQojIG5hbWVkIGFsdGVyIGluIHcyLCB0aGVuIGFsdGVyIGogZGlkLCBpbmRlZWQsIHN1cnZpdmUuLi4NCg0KIyBzdWJzZXQgdzEtdzIgbWF0Y2hpbmcgbWF0cmljZXM7IGFuZCBlbWFpbA0KdzIgPC0gZGF0YTJbLGMoNjM3OjkzNiwgMTQyNyldDQojIHN1YnNldCBkYXRhIGlkIGFuZCBlbWFpbA0KZCA8LSBkYXRhWyxjKDEsbmNvbChkYXRhKSldDQojIG1lcmdlIHRoZSBkYXRhLXNldCB3aXRoIHRoZSB3MS13MiBtYXRjaGluZyBtYXRyaWNlcw0KZCA8LSBtZXJnZSh3MiwgZCwgYnk9ImVtYWlsIikNCiMgc29ydCBieSB0aGUgaWQgdmFyaWFibGUsIHNvIHRoYXQgdGhlIG9yZGVuaW5nIG9mIHJlc3BvbnNlcyBpcyB0aGUgc2FtZSBhcyBvdXINCiMgbG9uZyBkYXRhZnJhbWUNCmQgPC0gZGF0YS5mcmFtZShkW29yZGVyKGQkaWQsIGRlY3JlYXNpbmcgPSBGKSwgXSkNCiMgYW5kIHJlb3JkZXIgcm93bmFtZXMNCnJvd25hbWVzKGQpIDwtIDE6bGVuZ3RoKHJvd25hbWVzKGQpKQ0KDQoNCmZvciAoaSBpbiAxOm5yb3coZCkpIHsgICMgZm9yIGVnbyBpDQogIA0KICBtYXRjaGluZ0wgPC0gbGlzdCgpICAjIG1ha2UgYSBsaXN0IG9mIG1hdGNoaW5nIG1hdHJpY2VzDQogIHsNCiAgICBtYXRjaGluZ0xbWzFdXSA8LSBkW2ksMjoyMV0NCiAgICBtYXRjaGluZ0xbWzJdXSA8LSBkW2ksMjI6NDFdDQogICAgbWF0Y2hpbmdMW1szXV0gPC0gZFtpLDQyOjYxXQ0KICAgIG1hdGNoaW5nTFtbNF1dIDwtIGRbaSw2Mjo4MV0NCiAgICBtYXRjaGluZ0xbWzVdXSA8LSBkW2ksODI6MTAxXQ0KICAgIG1hdGNoaW5nTFtbNl1dIDwtIGRbaSwxMDI6MTIxXQ0KICAgIG1hdGNoaW5nTFtbN11dIDwtIGRbaSwxMjI6MTQxXQ0KICAgIG1hdGNoaW5nTFtbOF1dIDwtIGRbaSwxNDI6MTYxXQ0KICAgIG1hdGNoaW5nTFtbOV1dIDwtIGRbaSwxNjI6MTgxXQ0KICAgIG1hdGNoaW5nTFtbMTBdXSA8LSBkW2ksMTgyOjIwMV0NCiAgICBtYXRjaGluZ0xbWzExXV0gPC0gZFtpLDIwMjoyMjFdDQogICAgbWF0Y2hpbmdMW1sxMl1dIDwtIGRbaSwyMjI6MjQxXQ0KICAgIG1hdGNoaW5nTFtbMTNdXSA8LSBkW2ksMjQyOjI2MV0NCiAgICBtYXRjaGluZ0xbWzE0XV0gPC0gZFtpLDI2MjoyODFdDQogICAgbWF0Y2hpbmdMW1sxNV1dIDwtIGRbaSwyODI6MzAxXQ0KICB9DQogICMgZ2V0IG5ldHNpemUgb2YgZWdvIGkNCiAgbnMgPC0gbWF4KGRmJGFsdGVyW3doaWNoKGRmJGVnbz09aSldKQ0KICAjIGdldCB0aGUgY29ycmVzcG9uZGluZyBtYXRyaXgNCiAgbW0gPC0gbWF0Y2hpbmdMW1tuc11dDQogICMgdW5saXN0IHRoZSBhbnN3ZXJzIGdpdmVuDQogIGFucyA8LSB1bmxpc3QobW0sIHVzZS5uYW1lcyA9IEYpDQogICMgdXNlICdzdHJpbmdyJyB0byBleHRyYWN0IG51bWJlcnMgaW4gdGhlc2UgYW5zd2VycywNCiAgIyB0aGV5IHJlZmVyIHRvIHRoZSBpZCBvZiAic3Vydml2ZWQiIGFsdGVycw0KICBpZCA8LSB1bmxpc3Qoc3RyaW5ncjo6c3RyX2V4dHJhY3RfYWxsKGFucywiXFwoP1swLTksLl0rXFwpPyIpKQ0KICBpZCA8LSBpZFshaXMubmEoaWQpXSAjIGV4Y2x1ZGUgTkENCiAgIyBpZiBhbHRlciBpZCBvZiBlZ28gaSBjb3JyZXNwb25kcyB0byB0aGlzIGlkLCB0aGV5IGRpZCBpbmRlZWQgc3Vydml2ZToNCiAgDQogIGRmJHN1cnZpdmVbd2hpY2goZGYkZWdvPT1pKV0gPC0gaWZlbHNlKGRmJGFsdGVyW3doaWNoKGRmJGVnbz09aSldICVpbiUgaWQsIDEsIDApDQogIA0KfQ0KDQojIGlmIGFsdGVyIHdhcyByZS1uYW1lZCwgYWxzbyBhZGQgaW4gd2hpY2ggZWdvbmV0IHRoZXkgKHJlLSlhcHBlYXJlZC4NCiMgdGhpcyBhbGxvd3MgbWUgdG8gbm90IG9ubHkgc3R1ZHkgcHJlZGljdG9ycyBvZiB0aWUgbWFpbnRlbmFuY2UgDQojIHJlZ2FyZGxlc3Mgb2YgdGhlIG5ldCBhbHRlciByZWFwcGVhcnMgaW4sIHNvIGZvciBpbnN0YW5jZSBhIHN0dWR5IHBhcnRuZXINCiMgcmVhcHBlYXJpbmcgYXMgYSBzcG9ydHMgcGFydG5lciAoYnV0IG5vdCBhcyBhIHN0dWR5IHBhcnRuZXIpOw0KIyBidXQgb2YgcmVhcHBlYXJpbmcgaW4gdGhlIHNhbWUgbmV0LCANCiMgYXMgb3Bwb3NlZCB0byBhIGRpZmZlcmVudCBuZXQgb3Igbm8gbmV0IGF0IGFsbC4NCiMgYW5kIHdpdGggcHJlZGljb3IgdmFyaWFibGVzIGluZGljYXRpbmcgd2hldGhlciBhbHRlciB3YXMgcGFydCBvZiBlYWNoIG9mIHRoZSBuZXRzDQojIHRoaXMgYWxsb3dzIG1lIHRvIG1ha2UgaW5mZXJlbmNlIGFib3V0IHdpdGhpbi1lZ29uZXQgdGllIHN0YWJpbGl0eSBmb3IgZWFjaCBvZiB0aGUgbmV0cw0KIyAoZS5nLiwgc3RheWluZyBhIGZyaWVuZCBvbmx5IHZzLiBzdGF5aW5nIGEgY29yZSBkaXNjdXNzYW50IG9ubHkpDQoNCiMgYmluYXJ5IHZhcmlhYmxlcyBpbmRpY2F0aW5nIHdoZXRoZXIgYWx0ZXJzIHJlYXBwZWFyZWQgaW4gZWFjaCBvZiB0aGUgbmV0czoNCmRmJGNkbjIgPC0gTkENCmRmJHN0dWR5MiA8LSBOQQ0KZGYkYmZmMiA8LSBOQQ0KZGYkY3NuMiA8LSBOQQ0KDQojIGkgdXNlIHRoZSBtYXRjaGluZyBtYXRyaWNlcyB1c2VkIGluIHcyOw0KIyB3aGVyZSBjb2x1bW5zIHJlZmVyIHRvIHVuaXF1ZSB3MSBhbHRlcnMgKHRob3NlIG9mIG91ciBjb25zdHJ1Y3RlZCBkYXRhZnJhbWUpDQojIGFuZCByb3dzIHJlZmVycmluZyB0byB1bmlxdWUgdzIgYWx0ZXJzDQojIHNvLCBpZiB3MS1hbHRlci9jb2x1bW4gaiBpcyBtYXRjaGVkIHRvIHcyLWFsdGVyL3JvdyBpLCB0aGVuIHcxLWFsdGVyIGRpZCBzdXJ2aXZlDQojIChidXQgd2UgYWxyZWFkeSBrbmV3IHRoYXQpOyBidXQgbW9yZSBpbXBvcnRhbnRseSwgaiB3YXMgdGhlIGledGggYWx0ZXIgbWVudGlvbmVkDQojIGFuZCB0aGlzIGFsbG93cyBtZSB0byBpbmZlciBpbiB3aGF0IG5ldHdvcmsgaiAocmUtKWFwcGVhcmVkDQojIHNpbmNlIGNkbiA9IDEtNTsgc3R1ZHkgPSA2LTEwOyBiZmYgPSAxMS0xNTsgY3NuID0gMTYtMjAuDQoNCiMgaG93ZXZlciwgc2luY2UgdGhlIHJvd3Mgb25seSBpbmNsdWRlIG5vbi1kdXBsaWNhdGUgdzItYWx0ZXJzOw0KIyBpZiBhbHRlciBqIGF0IHQxIHdhcyBuYW1lZCBtb3JlIHRoYW4gb25jZSBhdCB0MiwgaSBvbmx5IGtub3cgdGhlIGZpcnN0DQojIGVnb25ldCBpbiB3aGljaCBqIHdhcyBuYW1lZC4uLg0KIyB0aHVzLCBiZWZvcmUgaSBwcm9jZWVkLCBpIHVzZSB0aGUgbWF0Y2hpbmcgbWF0cmljZXMgdGhhdCBhbGxvd2VkIGVnbyB0byBtYXRjaA0KIyBhbHRlcnMgZnJvbSBkaWZmZXJlbnQgZWdvbmV0cy4NCiMgdG8gbWFrZSBhbHRlciBpZHMgZm9yIHcyIGFsdGVyczsgYW5kIGZpZ3VyZSBvdXQgdG8gd2hpY2ggZWdvbmV0cyB0aGV5IGJlbG9uZ2VkDQojICh0aGF0IGlzLCBpZiBtb3JlIHRoYW4gb25lKQ0KDQojIGdldCB3MiBkYXRhIGFuZCBzb3J0IGl0LCBzbyB0aGF0IGl0IGhhcyB0aGUgc2FtZSB0aGUgc2FtZSBvcmRlciBhcyBvdXIgY29uc3RydWN0ZWQgZGYNCnQgPC0gbWVyZ2UoZGF0YSwgZGF0YTIsIGJ5PSJlbWFpbCIpDQp0IDwtIGRhdGEuZnJhbWUodFtvcmRlcih0JGlkLngsIGRlY3JlYXNpbmcgPSBGKSwgXSkNCg0KIyBpIG1ha2UgYSBkYXRhZnJhbWUgb2YgdzItYWx0ZXJzLCB3aXRoIHBvdGVudGlhbCBkdXBsaWNhdGVzLi4uDQpkZl9uYW1lcyA8LSBkYXRhLmZyYW1lKA0KICBwMSA9IHQkZWdvbmV0MS5TUTAwMS4ueSwNCiAgcDIgPSB0JGVnb25ldDEuU1EwMDIuLnksDQogIHAzID0gdCRlZ29uZXQxLlNRMDAzLi55LA0KICBwNCA9IHQkZWdvbmV0MS5TUTAwNC4ueSwNCiAgcDUgPSB0JGVnb25ldDEuU1EwMDUuLnksDQogIHA2ID0gdCRlZ29uZXQyLlNRMDAxLi55LA0KICBwNyA9IHQkZWdvbmV0Mi5TUTAwMi4ueSwNCiAgcDggPSB0JGVnb25ldDIuU1EwMDMuLnksDQogIHA5ID0gdCRlZ29uZXQyLlNRMDA0Li55LA0KICBwMTA9IHQkZWdvbmV0Mi5TUTAwNS4ueSwNCiAgcDExPSB0JGVnb25ldDMuU1EwMDEuLnksDQogIHAxMj0gdCRlZ29uZXQzLlNRMDAyLi55LA0KICBwMTM9IHQkZWdvbmV0My5TUTAwMy4ueSwNCiAgcDE0PSB0JGVnb25ldDMuU1EwMDQuLnksDQogIHAxNT0gdCRlZ29uZXQzLlNRMDA1Li55LA0KICBwMTY9IHQkZWdvbmV0NC5TUTAwMS4ueSwNCiAgcDE3PSB0JGVnb25ldDQuU1EwMDIuLnksDQogIHAxOD0gdCRlZ29uZXQ0LlNRMDAzLi55LA0KICBwMTk9IHQkZWdvbmV0NC5TUTAwNC4ueSwNCiAgcDIwPSB0JGVnb25ldDQuU1EwMDUuLnkpDQoNCiMgQFJGOiBmaWx0ZXIgb3V0IGVnb3MgdGhhdCBkaWQgbm90IHJlcG9ydCBhbHRlcnMgYXQgdzI/Pz8/Li4uDQoNCiMgbGlzdCBvZiBkYXRhZnJhbWVzIHBlciBlZ28gd2l0aCByb3dzIHJlZmxlY3RpbmcgYWx0ZXJzDQojIGFuZCBjb2x1bW5zIGluZGljYXRpbmcgdGhlIG5hbWUocykgb2YgdGhlIHBhcnRpY3VsYXIgYWx0ZXJzDQoNCmFsdGVyTCA8LSBsaXN0KCkNCiMgbG9vcCBvdmVyIGFsbCBlZ29zDQpmb3IgKCBpIGluIDE6bnJvdyhkZl9uYW1lcykpIHsNCiAgYWx0ZXJMW1tpXV0gPC0gZGF0YS5mcmFtZSgNCiAgICBhbHRlcmlkID0gMToyMCwNCiAgICBuYW1lMSA9IE5BLA0KICAgIG5hbWUyID0gTkEsDQogICAgbmFtZTMgPSBOQSwNCiAgICBuYW1lNCA9IE5BICkNCn0NCg0KIyBmaWxsIHRoZSBuYW1lcyBiYXNlZCBvbiB0aGUgbmFtZXMgZGF0YS1mcmFtZQ0KZm9yICggaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7DQogIGFsdGVyTFtbaV1dJG5hbWUxIDwtIHVubGlzdChkZl9uYW1lc1tpLCBdLCB1c2UubmFtZXM9RikNCn0NCg0KIyByZXBsYWNlIGVtcHR5IHN0cmluZ3Mgd2l0aCA8TkE+DQpmb3IgKGkgaW4gMTpsZW5ndGgoYWx0ZXJMKSkgew0KICBhbHRlckxbW2ldXSRuYW1lMSA8LSBpZmVsc2UoYWx0ZXJMW1tpXV0kbmFtZTE9PSIiLCBOQSwgYWx0ZXJMW1tpXV0kbmFtZTEpDQp9DQoNCiMgY2FsY3VsYXRlIG5ldHNpemUgZm9yIGVhY2ggbmV0IHRvIGdldCB0aGUgY29ycmVjdCBtYXRjaGluZyBtYXRyaXgNCnsNCiAgbmV0MSA8LSBjYmluZCh0JGVnb25ldDEuU1EwMDEuLnksdCRlZ29uZXQxLlNRMDAyLi55LCB0JGVnb25ldDEuU1EwMDMuLnksdCRlZ29uZXQxLlNRMDA0Li55LCB0JGVnb25ldDEuU1EwMDUuLnkpDQogIG5ldDEgPC0gaWZlbHNlKG5ldDE9PSIiLCBOQSwgbmV0MSkNCiAgbnMxIDwtIHZlY3RvcigpDQogIGZvciAoaSBpbiAxOm5yb3cobmV0MSkpIHsNCiAgICBuczFbaV0gPC0gbGVuZ3RoKG5ldDFbaSxdW3doaWNoKCFpcy5uYShuZXQxW2ksXSkpXSkNCiAgfQ0KICBuZXQyIDwtIGNiaW5kKHQkZWdvbmV0Mi5TUTAwMS4ueSx0JGVnb25ldDIuU1EwMDIuLnksIHQkZWdvbmV0Mi5TUTAwMy4ueSx0JGVnb25ldDIuU1EwMDQuLnksIHQkZWdvbmV0Mi5TUTAwNS4ueSkNCiAgbmV0MiA8LSBpZmVsc2UobmV0Mj09IiIsIE5BLCBuZXQyKQ0KICBuczIgPC0gdmVjdG9yKCkNCiAgZm9yIChpIGluIDE6bnJvdyhuZXQyKSkgew0KICAgIG5zMltpXSA8LSBsZW5ndGgobmV0MltpLF1bd2hpY2goIWlzLm5hKG5ldDJbaSxdKSldKQ0KICB9DQogIG5ldDMgPC0gY2JpbmQodCRlZ29uZXQzLlNRMDAxLi55LHQkZWdvbmV0My5TUTAwMi4ueSwgdCRlZ29uZXQzLlNRMDAzLi55LHQkZWdvbmV0My5TUTAwNC4ueSwgdCRlZ29uZXQzLlNRMDA1Li55KQ0KICBuZXQzIDwtIGlmZWxzZShuZXQzPT0iIiwgTkEsIG5ldDMpDQogIG5zMyA8LSB2ZWN0b3IoKQ0KICBmb3IgKGkgaW4gMTpucm93KG5ldDMpKSB7DQogICAgbnMzW2ldIDwtIGxlbmd0aChuZXQzW2ksXVt3aGljaCghaXMubmEobmV0M1tpLF0pKV0pDQogIH0NCiAgbmV0NCA8LSBjYmluZCh0JGVnb25ldDQuU1EwMDEuLnksdCRlZ29uZXQ0LlNRMDAyLi55LCB0JGVnb25ldDQuU1EwMDMuLnksdCRlZ29uZXQ0LlNRMDA0Li55LCB0JGVnb25ldDQuU1EwMDUuLnkpDQogIG5ldDQgPC0gaWZlbHNlKG5ldDQ9PSIiLCBOQSwgbmV0NCkNCiAgbnM0IDwtIHZlY3RvcigpDQogIGZvciAoaSBpbiAxOm5yb3cobmV0NCkpIHsNCiAgICBuczRbaV0gPC0gbGVuZ3RoKG5ldDRbaSxdW3doaWNoKCFpcy5uYShuZXQ0W2ksXSkpXSkNCiAgfQ0KfQ0KDQojIGNvbnN0cnVjdCB0aGUgbWF0Y2hpbmcgbWF0cmljZXMgbGlzdCBmb3IgZWdvbmV0MS0yDQptYXRjaGluZ0xpc3QgPC0gbGlzdCgpDQpmb3IgKGkgaW4gMTpsZW5ndGgoYWx0ZXJMKSkgew0KICBtYXRjaGluZ0wgPC0gbGlzdCgpDQogIG1hdGNoaW5nTFtbMV1dIDwtIGNiaW5kKHQkbWF0Y2hpbmcxTjEuU1EwMDFfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzFOMS5TUTAwMl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMU4xLlNRMDAzX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcxTjEuU1EwMDRfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzFOMS5TUTAwNV9TUTAwMS4ueVtpXSkNCiAgbWF0Y2hpbmdMW1syXV08LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMU4yLlNRMDAxX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDAyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDAzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDA0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDA1X1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU4yLlNRMDAxX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDAyX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDAzX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDA0X1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4yLlNRMDA1X1NRMDAyLi55W2ldKSkNCiAgbWF0Y2hpbmdMW1szXV08LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMU4zLlNRMDAxX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA1X1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU4zLlNRMDAxX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAyX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAzX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA0X1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA1X1NRMDAyLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU4zLlNRMDAxX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAyX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDAzX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA0X1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU4zLlNRMDA1X1NRMDAzLi55W2ldKSkNCiAgbWF0Y2hpbmdMW1s0XV08LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMU40LlNRMDAxX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA1X1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU40LlNRMDAxX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAyX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAzX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA0X1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA1X1NRMDAyLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU40LlNRMDAxX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAyX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAzX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA0X1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA1X1NRMDAzLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU40LlNRMDAxX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAyX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDAzX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA0X1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU40LlNRMDA1X1NRMDA0Li55W2ldKSkNCiAgbWF0Y2hpbmdMW1s1XV08LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMU41LlNRMDAxX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA1X1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU41LlNRMDAxX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAyX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAzX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA0X1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA1X1NRMDAyLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU41LlNRMDAxX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAyX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAzX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA0X1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA1X1NRMDAzLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU41LlNRMDAxX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAyX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAzX1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA0X1NRMDA0Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA1X1NRMDA0Li55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMU41LlNRMDAxX1NRMDA1Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAyX1NRMDA1Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDAzX1NRMDA1Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA0X1NRMDA1Li55W2ldLCB0JG1hdGNoaW5nMU41LlNRMDA1X1NRMDA1Li55W2ldKSkNCiAgbWF0Y2hpbmdMaXN0W1tpXV0gPC0gbWF0Y2hpbmdMDQp9ICMgc28uLi4gbWF0Y2hpbmdMW1sxXV1bWzVdXSBpcyBtYXRjaGluZ21hdHJpeCA1IChpLmUuLCA1IGFsdGVycyBuYW1lZCBpbiBlZ29uZXQyKSBmb3IgZWdvIDENCg0KIyB0aGUgY29tYmluYXRpb24gb2YgdGhlIG1hdGNoaW5nIG1hdHJpY2VzIGFuZCB0aGUgbmV0c2l6ZXMgZm9yIGVnbyBhbGxvd3MgbWUgdG8gbWF0Y2ggdGhlIG5hbWVzIG15c2VsZi4NCmZvciAoaSBpbiAxOmxlbmd0aChtYXRjaGluZ0xpc3QpKSB7ICAgICAjIGZvciBlZ28gaQ0KICBtTCA8LSBtYXRjaGluZ0xpc3RbW2ldXSAgICAgICAgICAgICAgICMgZ2V0IHRoZSBtYXRjaGluZyBsaXN0DQogIG5zIDwtIG5zMltbaV1dICAgICAgICAgICAgICAgICAgICAgICAgIyBnZXQgdGhlIHNpemUgb2YgZWdvbmV0Mg0KICBpZihucz4wKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgbnM9MCwgbm8gbWF0Y2hpbmcgd2FzIGRvbmUhDQogICAgbW0gPC0gYXMubWF0cml4KG1MW1tuc11dKSAgICAgICAgICAgIyByZXRyaWV2ZSB0aGUgY29ycmVzcG9uZGluZyBtYXRyaXgNCiAgICBtYXRjaGVkIDwtIHdoaWNoKG1tPT0xLCBhcnIuaW5kPVQpICAjIHJldHJpZXZlIGFycmF5IGluZGljZXMNCiAgICBuZXQgPC0gbmV0MltpLF0NCiAgICBpZihsZW5ndGgobWF0Y2hlZCk+MCkgeyAgICAgICAgICAgICAjIGlmIG1hdGNoaW5nIHdhcyBwZXJmb3JtZWQhDQogICAgICBhbHRlckxbW2ldXSRuYW1lMlt3aGljaChhbHRlckxbW2ldXSRhbHRlcmlkPT1tYXRjaGVkWywyXSldIDwtIG5ldFttYXRjaGVkWywxXV0NCiAgICB9DQogIH0NCn0NCg0KIyBhZ2FpbiwgbWFrZSBhIG1hdGNoaW5nIGxpc3QgZm9yIHRoZSBzZWNvbmQgbWF0Y2hpbmcgbWF0cmljZXMNCiMgKGkuZS4sIG1hdGNoaW5nIGVnb25ldDMgYWx0ZXJzIHRvIHByZXYuIGFsdGVycyk7DQptYXRjaGluZ0xpc3QyIDwtIGxpc3QoKQ0KZm9yIChpIGluIDE6bGVuZ3RoKGFsdGVyTCkpIHsgIyBmb3IgZWdvIGkNCiAgbWF0Y2hpbmcyTCA8LSBsaXN0KCkNCiAgbWF0Y2hpbmcyTFtbMV1dIDwtIGNiaW5kKHQkbWF0Y2hpbmcyTjEuU1EwMDFfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMS5TUTAwMl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4xLlNRMDAzX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjEuU1EwMDRfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMS5TUTAwNV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4xLlNRMDA2X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjEuU1EwMDdfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMS5TUTAwOF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4xLlNRMDA5X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjEuU1EwMTBfU1EwMDEuLnlbaV0pDQogIG1hdGNoaW5nMkxbWzJdXSA8LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMk4yLlNRMDAxX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDJfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwM19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDA0X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDVfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwNl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDA3X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDhfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwOV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDEwX1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMk4yLlNRMDAxX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDJfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwM19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDA0X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDVfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwNl9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDA3X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjIuU1EwMDhfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMi5TUTAwOV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4yLlNRMDEwX1NRMDAyLi55W2ldKSkNCiAgbWF0Y2hpbmcyTFtbM11dIDwtIHJiaW5kKA0KICAgIGNiaW5kKHQkbWF0Y2hpbmcyTjMuU1EwMDFfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwMl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDAzX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDRfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwNV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA2X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDdfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwOF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA5X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMTBfU1EwMDEuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmcyTjMuU1EwMDFfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwMl9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDAzX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDRfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwNV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA2X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDdfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwOF9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA5X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMTBfU1EwMDIuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmcyTjMuU1EwMDFfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwMl9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDAzX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDRfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwNV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA2X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMDdfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJOMy5TUTAwOF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk4zLlNRMDA5X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjMuU1EwMTBfU1EwMDMuLnlbaV0pKQ0KICBtYXRjaGluZzJMW1s0XV0gPC0gcmJpbmQoDQogICAgY2JpbmQodCRtYXRjaGluZzJONC5TUTAwMV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDAyX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDNfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwNF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA1X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDZfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwN19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA4X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDlfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAxMF9TUTAwMS4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzJONC5TUTAwMV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDAyX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDNfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwNF9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA1X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDZfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwN19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA4X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDlfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAxMF9TUTAwMi4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzJONC5TUTAwMV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDAyX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDNfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwNF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA1X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDZfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwN19TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA4X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDlfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAxMF9TUTAwMy4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzJONC5TUTAwMV9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDAyX1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDNfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwNF9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA1X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDZfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAwN19TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk40LlNRMDA4X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjQuU1EwMDlfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONC5TUTAxMF9TUTAwNC4ueVtpXSkpDQogIG1hdGNoaW5nMkxbWzVdXSA8LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nMk41LlNRMDAxX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwM19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA0X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwNl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA3X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwOV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDEwX1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMk41LlNRMDAxX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwM19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA0X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwNl9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA3X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwOV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDEwX1NRMDAyLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMk41LlNRMDAxX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwM19TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA0X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwNl9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA3X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwOV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDEwX1NRMDAzLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMk41LlNRMDAxX1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwM19TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA0X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwNl9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA3X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwOV9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDEwX1NRMDA0Li55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nMk41LlNRMDAxX1NRMDA1Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDJfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwM19TUTAwNS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA0X1NRMDA1Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDVfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwNl9TUTAwNS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDA3X1NRMDA1Li55W2ldLHQkbWF0Y2hpbmcyTjUuU1EwMDhfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzJONS5TUTAwOV9TUTAwNS4ueVtpXSx0JG1hdGNoaW5nMk41LlNRMDEwX1NRMDA1Li55W2ldKSkNCiAgbWF0Y2hpbmdMaXN0MltbaV1dIDwtIG1hdGNoaW5nMkwNCn0NCg0KZm9yIChpIGluIDE6bGVuZ3RoKG1hdGNoaW5nTGlzdDIpKSB7ICAgICMgZm9yIGVnbyBpDQogIG1MIDwtIG1hdGNoaW5nTGlzdDJbW2ldXSAgICAgICAgICAgICAgIyBnZXQgdGhlIG1hdGNoaW5nIGxpc3QgMg0KICBucyA8LSBuczNbW2ldXSAgICAgICAgICAgICAgICAgICAgICAgICMgZ2V0IHRoZSBzaXplIG9mIGVnb25ldDMNCiAgaWYobnM+MCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIG5zPTAsIG5vIG1hdGNoaW5nIHdhcyBkb25lIQ0KICAgIG1tIDwtIGFzLm1hdHJpeChtTFtbbnNdXSkgICAgICAgICAgICMgYW5kIHRoZSBjb3JyZXNwb25kaW5nIG1hdHJpeA0KICAgIG1hdGNoZWQgPC0gd2hpY2gobW09PTEsIGFyci5pbmQ9VCkgICMgcmV0cmlldmUgYXJyYXkgaW5kaWNlcw0KICAgIG5ldCA8LSBuZXQzW2ksXQ0KICAgIGlmKGxlbmd0aChtYXRjaGVkKT4wKSB7ICAgICAgICAgICAgICMgaWYgbWF0Y2hpbmcgd2FzIHBlcmZvcm1lZCENCiAgICAgIGFsdGVyTFtbaV1dJG5hbWUzW21hdGNoZWRbLDJdXSA8LSBuZXRbbWF0Y2hlZFssMV1dDQogICAgfQ0KICB9DQp9DQoNCiMgc2FtZSBmb3IgbWF0Y2hpbmcgMyAoaS5lLiwgZWdvbmV0NCB3aXRoIGVnb25ldHMgMS0zKQ0KbWF0Y2hpbmdMaXN0MyA8LSBsaXN0KCkNCmZvciAoaSBpbiAxOmxlbmd0aChhbHRlckwpKSB7ICMgZm9yIGVnbyBpDQogIG1hdGNoaW5nM0wgPC0gbGlzdCgpDQogIG1hdGNoaW5nM0xbWzFdXSA8LSBjYmluZCh0JG1hdGNoaW5nM04xLlNRMDAxX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjEuU1EwMDJfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMS5TUTAwM19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04xLlNRMDA0X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjEuU1EwMDVfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMS5TUTAwNl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04xLlNRMDA3X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjEuU1EwMDhfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMS5TUTAwOV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04xLlNRMDEwX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04xLlNRMDExX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04xLlNRMDEyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04xLlNRMDEzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04xLlNRMDE0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04xLlNRMDE1X1NRMDAxLi55W2ldKQ0KICBtYXRjaGluZzNMW1syXV0gPC0gcmJpbmQoDQogICAgY2JpbmQodCRtYXRjaGluZzNOMi5TUTAwMV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDAyX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDNfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAwNF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDA1X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDZfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAwN19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDA4X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDlfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAxMF9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxMV9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxMl9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxM19TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxNF9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxNV9TUTAwMS4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzNOMi5TUTAwMV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDAyX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDNfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAwNF9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDA1X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDZfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAwN19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04yLlNRMDA4X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjIuU1EwMDlfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMi5TUTAxMF9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxMV9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxMl9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxM19TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxNF9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNOMi5TUTAxNV9TUTAwMi4ueVtpXSkpDQogIG1hdGNoaW5nM0xbWzNdXSA8LSByYmluZCgNCiAgICBjYmluZCh0JG1hdGNoaW5nM04zLlNRMDAxX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDJfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwM19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA0X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDVfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwNl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA3X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDhfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwOV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDEwX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDExX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEyX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEzX1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE0X1NRMDAxLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE1X1NRMDAxLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nM04zLlNRMDAxX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDJfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwM19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA0X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDVfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwNl9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA3X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDhfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwOV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDEwX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDExX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEyX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEzX1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE0X1NRMDAyLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE1X1NRMDAyLi55W2ldKSwNCiAgICBjYmluZCh0JG1hdGNoaW5nM04zLlNRMDAxX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDJfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwM19TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA0X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDVfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwNl9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDA3X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjMuU1EwMDhfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNOMy5TUTAwOV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM04zLlNRMDEwX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDExX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEyX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDEzX1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE0X1NRMDAzLi55W2ldLCB0JG1hdGNoaW5nM04zLlNRMDE1X1NRMDAzLi55W2ldKSkNCiAgbWF0Y2hpbmczTFtbNF1dIDwtIHJiaW5kKA0KICAgIGNiaW5kKHQkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwMl9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDAzX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwNV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA2X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwOF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA5X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDEuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTFfU1EwMDEuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTJfU1EwMDEuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDEuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTRfU1EwMDEuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTVfU1EwMDEuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwMl9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDAzX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwNV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA2X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwOF9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA5X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDIuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTFfU1EwMDIuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTJfU1EwMDIuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDIuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTRfU1EwMDIuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTVfU1EwMDIuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwMl9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDAzX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwNV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA2X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwOF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA5X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTFfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTJfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTRfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTVfU1EwMDMuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwMl9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDAzX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwNV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA2X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwOF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA5X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTFfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTJfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTRfU1EwMDMuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTVfU1EwMDMuLnlbaV0pLA0KICAgIGNiaW5kKHQkbWF0Y2hpbmczTjQuU1EwMDFfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwMl9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDAzX1NRMDA0Li55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDRfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwNV9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA2X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMDdfU1EwMDQuLnlbaV0sdCRtYXRjaGluZzNONC5TUTAwOF9TUTAwNC4ueVtpXSx0JG1hdGNoaW5nM040LlNRMDA5X1NRMDA0Li55W2ldLHQkbWF0Y2hpbmczTjQuU1EwMTBfU1EwMDQuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTFfU1EwMDQuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTJfU1EwMDQuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTNfU1EwMDQuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTRfU1EwMDQuLnlbaV0sIHQkbWF0Y2hpbmczTjQuU1EwMTVfU1EwMDQuLnlbaV0pKQ0KICBtYXRjaGluZzNMW1s1XV0gPC0gcmJpbmQoDQogICAgY2JpbmQodCRtYXRjaGluZzNONS5TUTAwMV9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDAyX1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDNfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwNF9TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA1X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDZfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwN19TUTAwMS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA4X1NRMDAxLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDlfU1EwMDEuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAxMF9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMV9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMl9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxM19TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNF9TUTAwMS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNV9TUTAwMS4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzNONS5TUTAwMV9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDAyX1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDNfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwNF9TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA1X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDZfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwN19TUTAwMi4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA4X1NRMDAyLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDlfU1EwMDIuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAxMF9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMV9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMl9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxM19TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNF9TUTAwMi4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNV9TUTAwMi4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzNONS5TUTAwMV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDAyX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDNfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwNF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA1X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDZfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwN19TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA4X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDlfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAxMF9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMV9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMl9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxM19TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNF9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNV9TUTAwMy4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzNONS5TUTAwMV9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDAyX1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDNfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwNF9TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA1X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDZfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwN19TUTAwMy4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA4X1NRMDAzLi55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDlfU1EwMDMuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAxMF9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMV9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMl9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxM19TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNF9TUTAwMy4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNV9TUTAwMy4ueVtpXSksDQogICAgY2JpbmQodCRtYXRjaGluZzNONS5TUTAwMV9TUTAwNS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDAyX1NRMDA1Li55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDNfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwNF9TUTAwNS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA1X1NRMDA1Li55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDZfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAwN19TUTAwNS4ueVtpXSx0JG1hdGNoaW5nM041LlNRMDA4X1NRMDA1Li55W2ldLHQkbWF0Y2hpbmczTjUuU1EwMDlfU1EwMDUuLnlbaV0sdCRtYXRjaGluZzNONS5TUTAxMF9TUTAwNS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMV9TUTAwNS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxMl9TUTAwNS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxM19TUTAwNS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNF9TUTAwNS4ueVtpXSwgdCRtYXRjaGluZzNONS5TUTAxNV9TUTAwNS4ueVtpXSkpDQogIG1hdGNoaW5nTGlzdDNbW2ldXSA8LSBtYXRjaGluZzNMDQp9DQoNCmZvciAoaSBpbiAxOmxlbmd0aChtYXRjaGluZ0xpc3QzKSkgeyAgICAjIGZvciBlZ28gaQ0KICBtTCA8LSBtYXRjaGluZ0xpc3QzW1tpXV0gICAgICAgICAgICAgICMgZ2V0IHRoZSBtYXRjaGluZyBsaXN0IDINCiAgbnMgPC0gbnM0W1tpXV0gICAgICAgICAgICAgICAgICAgICAgICAjIGdldCB0aGUgc2l6ZSBvZiBlZ29uZXQ0DQogIGlmKG5zPjApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiBucz0wLCBubyBtYXRjaGluZyB3YXMgZG9uZSENCiAgICBtbSA8LSBhcy5tYXRyaXgobUxbW25zXV0pICAgICAgICAgICAjIGFuZCB0aGUgY29ycmVzcG9uZGluZyBtYXRyaXgNCiAgICBtYXRjaGVkIDwtIHdoaWNoKG1tPT0xLCBhcnIuaW5kPVQpICAjIHJldHJpZXZlIGFycmF5IGluZGljZXMNCiAgICBuZXQgPC0gbmV0NFtpLF0NCiAgICBpZihsZW5ndGgobWF0Y2hlZCk+MCkgeyAgICAgICAgICAgICAjIGlmIG1hdGNoaW5nIHdhcyBwZXJmb3JtZWQhDQogICAgICBhbHRlckxbW2ldXSRuYW1lNFttYXRjaGVkWywyXV0gPC0gbmV0W21hdGNoZWRbLDFdXQ0KICAgIH0NCiAgfQ0KfQ0KDQojIG1ha2UgbG9uZyBkZiB3aXRoIGFsdGVycyBpbiBlZ28sDQojIGFuZCBpbmRpY2F0b3JzIGZvciA0IGVnb25ldHM7DQpkZjIgPC0gZGF0YS5mcmFtZSgNCiAgZWdvPXJlcCgxOmxlbmd0aChhbHRlckwpLGVhY2g9MjApLA0KICBhbHRlcj1yZXAoMToyMCksDQogIGNkbj1OQSwNCiAgc3R1ZHk9TkEsDQogIGJmZj1OQSwNCiAgY3NuPU5BDQopDQoNCmZvciAoaSBpbiB1bmlxdWUoZGYyJGVnbykpIHsgIA0KICBmb3IgKGogaW4gMToyMCkgeyAjIGZvciBhbHRlcnMgbmVzdGVkIGluIGVnbw0KDQogICAgIyBmaW5kIG91dCBpZiBuYW1lcyBkZW5vdGluZyBhbHRlciBqIGFwcGVhciBpbiB0aGUgNCBlZ29uZXRzDQogICAgYWx0ZXIgPC0gdW5saXN0KGFsdGVyTFtbaV1dW2osLTFdLCB1c2UubmFtZXMgPSBGKSAjIGdldCBuYW1lcyBhbHRlciBqDQogICAgYWx0ZXIgPC0gYWx0ZXJbIWlzLm5hKGFsdGVyKV0gIyBleGNsdWRlIE5Bcw0KICAgIGNkbiA8LSBhbHRlciAlaW4lIG5ldDFbaSxdDQogICAgc3R1ZHkgPC0gYWx0ZXIgJWluJSBuZXQyW2ksXQ0KICAgIGJmZiA8LSBhbHRlciAlaW4lIG5ldDNbaSxdDQogICAgY3NuIDwtIGFsdGVyICVpbiUgbmV0NFtpLF0NCiAgICAjIGFuZCBpZiBzbywgZ2l2ZSBhbHRlciBqIHNjb3JlIDEgb24gaW5kaWNhdG9yczsgMCBvdGhlcndpc2UNCiAgICBkZjIkY2RuW3doaWNoKGRmMiRlZ289PWkgJiBkZjIkYWx0ZXI9PWopXSA8LSBpZmVsc2UoIlRSVUUiICVpbiUgY2RuLCAxLCAwKQ0KICAgIGRmMiRzdHVkeVt3aGljaChkZjIkZWdvPT1pICYgZGYyJGFsdGVyPT1qKV0gPC0gaWZlbHNlKCJUUlVFIiAlaW4lIHN0dWR5LCAxLCAwKQ0KICAgIGRmMiRiZmZbd2hpY2goZGYyJGVnbz09aSAmIGRmMiRhbHRlcj09aildIDwtIGlmZWxzZSgiVFJVRSIgJWluJSBiZmYsIDEsIDApDQogICAgZGYyJGNzblt3aGljaChkZjIkZWdvPT1pICYgZGYyJGFsdGVyPT1qKV0gPC0gaWZlbHNlKCJUUlVFIiAlaW4lIGNzbiwgMSwgMCkNCiAgfQ0KfQ0KDQoNCiMgbm93IHRoYXQgaSBoYXZlLCBmb3IgZWFjaCBhbHRlciBvZiBlZ28gKGluY2x1ZGluZyBkdXBsaWNhdGVzKSBhdCB0MiwNCiMgdGhlIG5ldHMgdG8gd2hpY2ggdGhleSBiZWxvbmcuLg0KIyBpIGNvbnRpbnVlIHdpdGggdGhlIHRoZSB3MS13MiBtYXRjaGluZyBtYXRyaWNlcw0KDQojIChpIGFsc28gdXNlIHRoZXNlIG1hdHJpY2VzIHRvIGNvbnN0cnVjdCBhIG5ldHdvcmsgc2l6ZSBtZWFzdXJlIGZvciB0MikNCm5zX3QyIDwtIGxpc3QoKSAjIG1ha2UgYSBsaXN0IHRvIHN0b3JlIG5zX3QyIGluDQoNCiMgd2UgYWxyZWFkeSBzdWJzZXR0ZWQgdGhlIG1hdGNoaW5nIG1hdHJpY2VzIChpbiBkKQ0KDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsgICMgZm9yIGVnbyBpDQogIG1hdGNoaW5nTCA8LSBsaXN0KCkgICMgbWFrZSBhIGxpc3Qgb2YgbWF0Y2hpbmcgbWF0cmljZXMNCiAgew0KICAgIG1hdGNoaW5nTFtbMV1dIDwtIGRbaSwyOjIxXQ0KICAgIG1hdGNoaW5nTFtbMl1dIDwtIGRbaSwyMjo0MV0NCiAgICBtYXRjaGluZ0xbWzNdXSA8LSBkW2ksNDI6NjFdDQogICAgbWF0Y2hpbmdMW1s0XV0gPC0gZFtpLDYyOjgxXQ0KICAgIG1hdGNoaW5nTFtbNV1dIDwtIGRbaSw4MjoxMDFdDQogICAgbWF0Y2hpbmdMW1s2XV0gPC0gZFtpLDEwMjoxMjFdDQogICAgbWF0Y2hpbmdMW1s3XV0gPC0gZFtpLDEyMjoxNDFdDQogICAgbWF0Y2hpbmdMW1s4XV0gPC0gZFtpLDE0MjoxNjFdDQogICAgbWF0Y2hpbmdMW1s5XV0gPC0gZFtpLDE2MjoxODFdDQogICAgbWF0Y2hpbmdMW1sxMF1dIDwtIGRbaSwxODI6MjAxXQ0KICAgIG1hdGNoaW5nTFtbMTFdXSA8LSBkW2ksMjAyOjIyMV0NCiAgICBtYXRjaGluZ0xbWzEyXV0gPC0gZFtpLDIyMjoyNDFdDQogICAgbWF0Y2hpbmdMW1sxM11dIDwtIGRbaSwyNDI6MjYxXQ0KICAgIG1hdGNoaW5nTFtbMTRdXSA8LSBkW2ksMjYyOjI4MV0NCiAgICBtYXRjaGluZ0xbWzE1XV0gPC0gZFtpLDI4MjozMDFdDQogIH0NCiAgIyBnZXQgbmV0c2l6ZSBvZiBlZ28gaSBhdCB0MQ0KICBucyA8LSBtYXgoZGYkYWx0ZXJbd2hpY2goZGYkZWdvPT1pKV0pDQogICMgZ2V0IHRoZSBjb3JyZXNwb25kaW5nIG1hdHJpeA0KICBtbSA8LSBtYXRjaGluZ0xbW25zXV0NCiAgDQogICMgYmFzZWQgb24gdGhpcyBtYXRyaXgsIGkgY2FuIGFzc2VzcyB0aGUgbmV0d29yayBzaXplIGF0IHQyOw0KICAjIGNvdW50IHRoZSBudW1iZXIgb2YgYWx0ZXJzIHRoYXQgd2VyZSBlaXRoZXIgbWF0Y2hlZCB0byB0MS1hbHRlcnM7DQogICMgb3IgcmVmZXJyZWQgdG8gYSBuZXcgcGVyc29uIFtzbywgbm8gZW1wdHkgY2VsbHMgYW5kIE5BcyAoaS5lLiwgbm9uLWV4aXN0aW5nIHRpZXM7IGFuZCBkdXBsaWNhdGVzKV0NCg0KICBuc3QyIDwtIHVubGlzdChtbSwgdXNlLm5hbWVzPUYpIA0KICBuc3QyLm5tIDwtIG5zdDJbIWlzLm5hKG5zdDIpXSAjIGV4Y2x1ZGUgbWlzc2luZ3MgDQogIG5zdDIubmUgPC0gbnN0Mi5ubVtuc3QyLm5tIT0iIl0gIyBleGNsdWRlIGVtcHR5IHN0cmluZ3MgDQogIG5zX3QyW1tpXV0gPC0gbGVuZ3RoKG5zdDIubmUpDQogIA0KICAjIGV4dHJhY3QgYWx0ZXIgaWRzDQogIGFucyA8LSBzdHJpbmdyOjpzdHJfZXh0cmFjdF9hbGwobW0sIlxcKD9bMC05LC5dK1xcKT8iKSANCiAgIyBoZXJlLCB0aGUgb2JqZWN0IHJlZmVycyB0byB0aGUgdzEtYWx0ZXIgajsNCiAgIyBhbmQgdGhlIGVsZW1lbnQgaW5kaWNhdG9yIGluIHRoZSBsaXN0IHJlZmVycyB0byB0aGUgdzItYWx0ZXIgDQogIA0KICBmb3IgKGogaW4gdW5pcXVlKGRmJGFsdGVyW3doaWNoKGRmJGVnbz09aSldKSkgeyAjIGZvciBhbHRlciBqLA0KDQogICAgIyB0byB3aGljaCByb3cvdzItYWx0ZXIgd2FzIGFsdGVyIGogbWF0Y2hlZD8NCiAgICBtYXRjaCA8LSB3aGljaChhbnM9PWopDQogICAgDQogICAgIyBhbmQgaW4gd2hpY2ggbmV0d29ya3MgZGlkIHRoaXMgdzItYWx0ZXIgYmVsb25nPw0KICAgIG5ldHMgPC0gZGYyW3doaWNoKGRmMiRlZ289PWkgJiBkZjIkYWx0ZXI9PW1hdGNoKSxdDQogIA0KICAgIGlmKGxlbmd0aChtYXRjaCk+MCkgeyAjIGlmIGogd2FzIG1hdGNoZWQgdG8gdzItYWx0ZXJzLi4uDQogICAgICAjIGFzc2lnbiB0byBhbHRlciBqIHRoZSBuZXR3b3JrcyBpbiB3aGljaCBqIHJlYXBwZWFyZWQNCiAgICAgIGRmJGNkbjJbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBuZXRzJGNkblsxXQ0KICAgICAgZGYkc3R1ZHkyW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gbmV0cyRzdHVkeVsxXQ0KICAgICAgZGYkYmZmMlt3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildIDwtIG5ldHMkYmZmWzFdDQogICAgICBkZiRjc24yW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gbmV0cyRjc25bMV0NCiAgICB9DQogIH0NCn0NCiMgY3VycmVudGx5OyBhIGxvdCBvZiBOQXMgaW4gdGhlIGF0dHJpYnV0ZXMgaW5kaWNhdGluZyB3aGV0aGVyIGFsdGVyIGogd2FzIG1lbWJlcg0KIyBvZiB0aGUgcmVzcGVjdGl2ZSBuZXR3b3Jrcy4NCiMgdGhvc2UgYXJlIGFsdGVycyB0aGF0IHdlcmUgbm90IHJlbmFtZWQsIGFuZCB0aHVzIGhhdmUgbm8gJ2NoYW5jZScgdG8gcmUtYXBwZWFyDQojIHNvLCAwcyBhcmUgYWx0ZXJzIHRoYXQgd2VyZSBvbmNlIHBhcnQgb2YgYSBzcGVjaWZpYyBuZXR3b3JrLCBidXQgcmUtYXBwZWFyZWQgbm90DQojIGluIHRoYXQgcGFydGljdWxhciBuZXR3b3JrLg0KIyBuYXR1cmFsbHksIGZvciBhbmFseXNlcywgTkFzIGNhbiBiZSBzZXQgdG8gMC4NCg0KIyBzZXQgbnNfdDINCmRmJG5ldHNpemUyIDwtIE5BDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsNCiAgZGYkbmV0c2l6ZTJbd2hpY2goZGYkZWdvPT1pKV0gPC0gbnNfdDJbW2ldXQ0KfQ0KDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQoNCiMgYWRkIG90aGVyIHZhcmlhYmxlcy4uLi4uDQojIGVkdWNhdGlvbg0KIyBhbHRlciBlZHVjIHdhcyBhc2tlZCBpbiB3Mi4NCiMgbWVyZ2UgdGhlIGRhdGEuDQpkIDwtIG1lcmdlKGRhdGEsIGRhdGEyLCBieT0iZW1haWwiKQ0KIyBzb3J0DQpkIDwtIGRhdGEuZnJhbWUoZFtvcmRlcihkJGlkLngsIGRlY3JlYXNpbmcgPSBGKSwgXSkNCg0KIyBpIGFza2VkIHRoZSBlZHVjYXRpb24gbGV2ZWwgb2YgYWxsIGFsdGVycywgb2YgdzEgYW5kIHcyLg0KIyBpIG9ubHkgbmFtZWQgdzIgYWx0ZXJzIHRoYXQgd2VyZSB1bm1hdGNoZWQgYW5kIG5ldyBjb21wYXJlZCB0byB3MS4NCiMgYWxsICh1bmlxdWUpIHcxLWFsdGVycyB3ZXJlIGxpc3RlZC4NCiMgZCRxMHIxMTcuU1EwMjEuIC0gZCRxMHIxMTcuU1EwMzUuIA0KDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsgIyBmb3IgZWdvIGkgIA0KICAjIHN1YnNldCBhbHRlciBlZHVjYXRpb24NCiAgZWR1Y2ogPC0gY2JpbmQoZCRxMHIxMTcuU1EwMjEuW2ldLGQkcTByMTE3LlNRMDIyLltpXSxkJHEwcjExNy5TUTAyMy5baV0sZCRxMHIxMTcuU1EwMjQuW2ldLGQkcTByMTE3LlNRMDI1LltpXSxkJHEwcjExNy5TUTAyNi5baV0sZCRxMHIxMTcuU1EwMjcuW2ldLGQkcTByMTE3LlNRMDI4LltpXSwNCiAgICAgICAgICAgICAgICAgZCRxMHIxMTcuU1EwMjkuW2ldLGQkcTByMTE3LlNRMDMwLltpXSxkJHEwcjExNy5TUTAzMS5baV0sZCRxMHIxMTcuU1EwMzIuW2ldLGQkcTByMTE3LlNRMDMzLltpXSxkJHEwcjExNy5TUTAzNC5baV0sZCRxMHIxMTcuU1EwMzUuW2ldKQ0KICBmb3IgKGogaW4gdW5pcXVlKGRmJGFsdGVyW3doaWNoKGRmJGVnbz09aSldKSkgeyAjIGZvciBhbHRlciBqDQogICAgIyBhc3NpZ24gZWR1Y2F0aW9uIGxldmVsDQogICAgZGYkYWx0ZXJfZWR1Y1t3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildIDwtIGVkdWNqW2pdDQogIH0NCn0NCg0KIyBAUkY7IGZvciBub3cgdXNlIDUgY2F0ZWdvcmllczsgbGF0ZXIgb24sIHBlcmhhcHMgb3BlcmF0aW9uYWxpemUgZWR1Y2F0aW9uIGluIHllYXJzOw0KcHJpbSA8LSBjKCJsYWdlcmUgc2Nob29sIiwgInZtYm8sIG1hdm8iKQ0KbG93c2VjIDwtIGMoIm1ibyIpDQpoaWdoc2VjIDwtIGMoICJoYXZvIiwgInZ3byAvIGd5bW5hc2l1bSIpDQpsb3d0ZXJ0IDwtICJoYm8iDQpoaWdodGVydCA8LSAidW5pdmVyc2l0ZWl0Ig0KDQpmb3IgKGkgaW4gdW5pcXVlKGRmJGVnbykpIHsNCiAgZm9yIChqIGluIHVuaXF1ZShkZiRhbHRlclt3aGljaChkZiRlZ289PWkpXSkpIHsNCiAgICANCiAgICBkZiRhbHRlcl9lZHVjW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0NCiAgICAgIGlmZWxzZSggICAgDQogICAgICAgIGRmJGFsdGVyX2VkdWNbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSAlaW4lIHByaW0sIDEsDQogICAgICAgIGlmZWxzZShkZiRhbHRlcl9lZHVjW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gJWluJSBsb3dzZWMsIDIsDQogICAgICAgICAgICAgICBpZmVsc2UoZGYkYWx0ZXJfZWR1Y1t3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildICVpbiUgaGlnaHNlYywgMywNCiAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoIGRmJGFsdGVyX2VkdWNbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSAlaW4lIGxvd3RlcnQsIDQsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKCAgZGYkYWx0ZXJfZWR1Y1t3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildICVpbiUgaGlnaHRlcnQsIDUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOQSkpKSkpDQogIH0NCn0NCmRmJGFsdGVyX2VkdWMgPC0gYXMubnVtZXJpYyhkZiRhbHRlcl9lZHVjKQ0KIyBlZ28gZWR1Yw0KZGYkZWdvX2VkdWMgPC0gaWZlbHNlKGRmJGVnb19lZHVjPT0iaGJvIiwgNCwgNSkNCg0KIyBAUkYuIGVkdWMgaW4geWVhcnMgc2ltaWxhcml0eSBjb3VsZCBiZSBkZWZpbmVkIGFzIGFic29sdXRlIGRpZmZlcmVuY2UNCiMgc2luY2UgaSBhbSBub3cgZGVhbGluZyB3aXRoIGNhdGVnb3JpZXMsIGkgdXNlIGEgInNhbWUiIG1lYXN1cmUgdG8gbWVhc3VyZSBlZHVjYXRpb25hbCBzaW1pbGFyaXR5Lg0KZGYkc2ltX2VkdWMgPC0gaWZlbHNlKGRmJGVnb19lZHVjPT1kZiRhbHRlcl9lZHVjLCAxLCAwKSAjIGRvIG5vdCBrbm93IChtaXNzaW5nKSwgaGVyZSB0cmVhdGVkIGFzIGRpc3NpbWlsYXINCg0KIyBhbmQgYWRkIHRpZSBzdHJlbmd0aCwgZHVyYXRpb24sIHBoeXNpY2FsIHByb3hpbWl0eQ0KZGYkZHVyYXRpb24gPC0gTkENCmRmJHByb3hpbWl0eSA8LSBOQQ0KZGYkZnJlcXVlbmN5IDwtIE5BDQpkZiRjbG9zZW5lc3MgPC0gTkENCg0KZm9yIChpIGluIHVuaXF1ZShkZiRlZ28pKSB7DQogIGR1ciA8LSBjYmluZChkYXRhJGR1dXIuU1EwMDEuW2ldLCBkYXRhJGR1dXIuU1EwMDIuW2ldLCBkYXRhJGR1dXIuU1EwMDMuW2ldLCBkYXRhJGR1dXIuU1EwMDQuW2ldLCBkYXRhJGR1dXIuU1EwMDUuW2ldLA0KICAgICAgICAgICAgICAgZGF0YSRkdXVyLlNRMDA2LltpXSwgZGF0YSRkdXVyLlNRMDA3LltpXSwgZGF0YSRkdXVyLlNRMDA4LltpXSwgZGF0YSRkdXVyLlNRMDA5LltpXSwgZGF0YSRkdXVyLlNRMDEwLltpXSwNCiAgICAgICAgICAgICAgIGRhdGEkZHV1ci5TUTAxMS5baV0sIGRhdGEkZHV1ci5TUTAxMi5baV0sIGRhdGEkZHV1ci5TUTAxMy5baV0sIGRhdGEkZHV1ci5TUTAxNC5baV0sIGRhdGEkZHV1ci5TUTAxNS5baV0sDQogICAgICAgICAgICAgICBkYXRhJGR1dXIuU1EwMTYuW2ldLCBkYXRhJGR1dXIuU1EwMTcuW2ldLCBkYXRhJGR1dXIuU1EwMTguW2ldLCBkYXRhJGR1dXIuU1EwMTkuW2ldLCBkYXRhJGR1dXIuU1EwMjAuW2ldKQ0KICBkdXIgPC0gZHVyWyFkdXI9PSIiXQ0KICANCiAgcHJveCA8LSBjYmluZChkYXRhJHByb3guU1EwMDEuW2ldLCBkYXRhJHByb3guU1EwMDIuW2ldLCBkYXRhJHByb3guU1EwMDMuW2ldLCBkYXRhJHByb3guU1EwMDQuW2ldLCBkYXRhJHByb3guU1EwMDUuW2ldLA0KICAgICAgICAgICAgICAgIGRhdGEkcHJveC5TUTAwNi5baV0sIGRhdGEkcHJveC5TUTAwNy5baV0sIGRhdGEkcHJveC5TUTAwOC5baV0sIGRhdGEkcHJveC5TUTAwOS5baV0sIGRhdGEkcHJveC5TUTAxMC5baV0sDQogICAgICAgICAgICAgICAgZGF0YSRwcm94LlNRMDExLltpXSwgZGF0YSRwcm94LlNRMDEyLltpXSwgZGF0YSRwcm94LlNRMDEzLltpXSwgZGF0YSRwcm94LlNRMDE0LltpXSwgZGF0YSRwcm94LlNRMDE1LltpXSwNCiAgICAgICAgICAgICAgICBkYXRhJHByb3guU1EwMTYuW2ldLCBkYXRhJHByb3guU1EwMTcuW2ldLCBkYXRhJHByb3guU1EwMTguW2ldLCBkYXRhJHByb3guU1EwMTkuW2ldLCBkYXRhJHByb3guU1EwMjAuW2ldKQ0KICBwcm94IDwtIHByb3hbIXByb3g9PSIiXQ0KICANCiAgZnJlcSA8LSBjYmluZChkYXRhJGZyZXEuU1EwMDEuW2ldLCBkYXRhJGZyZXEuU1EwMDIuW2ldLCBkYXRhJGZyZXEuU1EwMDMuW2ldLCBkYXRhJGZyZXEuU1EwMDQuW2ldLCBkYXRhJGZyZXEuU1EwMDUuW2ldLA0KICAgICAgICAgICAgICAgIGRhdGEkZnJlcS5TUTAwNi5baV0sIGRhdGEkZnJlcS5TUTAwNy5baV0sIGRhdGEkZnJlcS5TUTAwOC5baV0sIGRhdGEkZnJlcS5TUTAwOS5baV0sIGRhdGEkZnJlcS5TUTAxMC5baV0sDQogICAgICAgICAgICAgICAgZGF0YSRmcmVxLlNRMDExLltpXSwgZGF0YSRmcmVxLlNRMDEyLltpXSwgZGF0YSRmcmVxLlNRMDEzLltpXSwgZGF0YSRmcmVxLlNRMDE0LltpXSwgZGF0YSRmcmVxLlNRMDE1LltpXSwNCiAgICAgICAgICAgICAgICBkYXRhJGZyZXEuU1EwMTYuW2ldLCBkYXRhJGZyZXEuU1EwMTcuW2ldLCBkYXRhJGZyZXEuU1EwMTguW2ldLCBkYXRhJGZyZXEuU1EwMTkuW2ldLCBkYXRhJGZyZXEuU1EwMjAuW2ldKQ0KICBmcmVxIDwtIGZyZXFbIWZyZXE9PSIiXQ0KICANCiAgY2xvc2UgPC0gY2JpbmQoZGF0YSRjbG9zZS5TUTAwMS5baV0sIGRhdGEkY2xvc2UuU1EwMDIuW2ldLCBkYXRhJGNsb3NlLlNRMDAzLltpXSwgZGF0YSRjbG9zZS5TUTAwNC5baV0sIGRhdGEkY2xvc2UuU1EwMDUuW2ldLA0KICAgICAgICAgICAgICAgICBkYXRhJGNsb3NlLlNRMDA2LltpXSwgZGF0YSRjbG9zZS5TUTAwNy5baV0sIGRhdGEkY2xvc2UuU1EwMDguW2ldLCBkYXRhJGNsb3NlLlNRMDA5LltpXSwgZGF0YSRjbG9zZS5TUTAxMC5baV0sDQogICAgICAgICAgICAgICAgIGRhdGEkY2xvc2UuU1EwMTEuW2ldLCBkYXRhJGNsb3NlLlNRMDEyLltpXSwgZGF0YSRjbG9zZS5TUTAxMy5baV0sIGRhdGEkY2xvc2UuU1EwMTQuW2ldLCBkYXRhJGNsb3NlLlNRMDE1LltpXSwNCiAgICAgICAgICAgICAgICAgZGF0YSRjbG9zZS5TUTAxNi5baV0sIGRhdGEkY2xvc2UuU1EwMTcuW2ldLCBkYXRhJGNsb3NlLlNRMDE4LltpXSwgZGF0YSRjbG9zZS5TUTAxOS5baV0sIGRhdGEkY2xvc2UuU1EwMjAuW2ldKQ0KICBjbG9zZSA8LSBjbG9zZVshY2xvc2U9PSIiXQ0KICANCiAgDQogIGZvciAoaiBpbiB1bmlxdWUoZGYkYWx0ZXJbd2hpY2goZGYkZWdvPT1pKV0pKSB7DQogICAgZGYkZHVyYXRpb25bd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBkdXJbal0NCiAgICBkZiRwcm94aW1pdHlbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBwcm94W2pdDQogICAgZGYkZnJlcXVlbmN5W3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gZnJlcVtqXQ0KICAgIGRmJGNsb3NlbmVzc1t3aGljaChkZiRlZ289PWkgJiBkZiRhbHRlcj09aildIDwtIGNsb3NlW2pdDQogIH0NCn0NCg0KIyByZWNvZGUNCiMgZHVyYXRpb247IHRha2UgbWlkcG9pbnQgb24gc2NhbGUuDQpkZiRkdXJhdGlvbiA8LSBpZmVsc2UoZGYkZHVyYXRpb249PSJNaW5kZXIgZGFuIDEgamFhciIsIDAsIA0KICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRkdXJhdGlvbj09IjEgdG90IDMgamFhciIsIDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRkdXJhdGlvbj09IjQgdG90IDggamFhciIsIDYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkZHVyYXRpb249PSI5IHRvdCAxNSBqYWFyIiwgMTIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGR1cmF0aW9uPT0iTWVlciBkYW4gMTUgamFhciIsIDE1LCBOQSkpKSkpDQojIHByb3hpbWl0eTogc2FtZSBtdW5pY2lwYWxpdHkgb3IgY2xvc2VyLi4uLi4uLi4uLi4uLg0KZGYkcHJveGltaXR5IDwtIGlmZWxzZShkZiRwcm94aW1pdHk9PSJJbiBkZS16ZWxmZGUgYnV1cnQiIHwNCiAgICAgICAgICAgICAgICAgICAgICAgICBkZiRwcm94aW1pdHk9PSJJbiBkZS16ZWxmZGUgc3RyYWF0IiB8DQogICAgICAgICAgICAgICAgICAgICAgICAgZGYkcHJveGltaXR5PT0iSW4gZGV6ZWxmZGUgZ2UtbWVlbnRlIiB8DQogICAgICAgICAgICAgICAgICAgICAgICAgZGYkcHJveGltaXR5PT0iSW4gaGV0LXplbGZkZSBodWlzIiwgMSwgMCkNCg0KIyBmcmVxdWVuY3k6IGF0IGxlYXN0IG9uY2UgYSB3ZWVrPw0KIyBmb3Igbm93LCB3ZSBtYWtlIGFuIG9yZGluYWwgdmFyaWFibGU7IGFzIHRoaXMgaXMgbmVlZGVkIGZvciB0aGUgZHluYW1pYyBkeWFkaWMNCiMgY2hhbmdlIHZhcmlhYmxlIChzZWUgYmVsb3cpDQpkZiRmcmVxdWVuY3kgPC0gaWZlbHNlKGRmJGZyZXF1ZW5jeT09IihCaWpuYSkgZWxrZSBkYWciLDcsDQogICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRmcmVxdWVuY3k9PSIxLTIga2VlciBwZXIgd2VlayIsNiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRmcmVxdWVuY3k9PSJBYW50YWwga2VlciBwZXIgbWFhbmQiLDUsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRmcmVxdWVuY3k9PSJPbmcuIDEga2VlciBwZXIgbWFhbmQiLDQsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkZnJlcXVlbmN5PT0iQWFudGFsIGtlZXIgcGVyIGphYXIiLDMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkZnJlcXVlbmN5PT0iT25nLiAxIGtlZXIgcGVyIGphYXIiLDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGZyZXF1ZW5jeT09Ik5vb2l0IiwxLCBOQSAgICkpKSkpKSkNCiMgY2xvc2VuZXNzOiBhbiBvcmRpbmFsIHNjYWxlIDEtNA0KZGYkY2xvc2VuZXNzIDwtIGlmZWxzZShkZiRjbG9zZW5lc3M9PSJOaWV0IGhlY2h0IiwgMSwgDQogICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShkZiRjbG9zZW5lc3M9PSJFbmlnc3ppbnMgaGVjaHQiLCAyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGRmJGNsb3NlbmVzcz09IkhlY2h0IiwgMywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZGYkY2xvc2VuZXNzPT0iSGVlbCBlcmcgaGVjaHQiLCA0LCBOQQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpKSkNCg0KIyBhbiBpbmhlcmVudCBmbGF3IG9mIHRoZSBuYW1lLWdlbmVyYXRvciBhcHByb2FjaCBpcyB0aGF0IGl0IG1heSBvdmVyZXN0aW1hdGUNCiMgdGhlIHRydWUgcmF0ZSBvZiBhbHRlcnMgYmVpbmcgZHJvcHBlZC4NCiMgaSB1c2UgYSBzZWNvbmQsIGR5bmFtaWMgdGllLWNoYW5nZSBpbmRpY2F0b3I7DQojIGJhc2VkIG9uIGEgY2hhbmdlIGluIGVnbydzIGVtb3Rpb25hbCBjb25uZWN0aW9uIGFuZCBjb250YWN0IGZyZXF1ZW5jeSB3aXRoIGFsdGVyDQojIGkgaGF2ZSB0aGVzZSBuYW1lIGludGVycHJldGVyIGluZm8gb24gYWx0ZXJzIGF0IHcyLCANCiMgYWxzbyBvbiB0aG9zZSB3aG8gd2VyZSBOT1QgcmUtbmFtZWQgKHRoYXQgaXMsIGRyb3BwZWQgYWx0ZXJzKQ0KIyBuYW1lIGludGVycHJldGVyIHF1ZXN0aW9ucyAyMS0zNSBhcmUgYWJvdXQgKHVuaXF1ZSkgdzEtYWx0ZXJzDQpkZiRtYWludGFpbmVkX2ZyZXEgPC0gTkENCmRmJG1haW50YWluZWRfY2xvc2UgPC0gTkENCg0KIyBAUkY6IHRoaW5rIGFib3V0IGhvdyB0byBkZWZpbmUgdGhpcyBjaGFuZ2U7DQojIGZvciBub3csIGkgdXNlIHRoZSBzaW1wbGVzdCBkZWZpbml0aW9uLCB0aGF0IGlzIGEgcmVkdWN0aW9uIGluIGZyZXF1ZW5jeS8NCiMgY2xvc2VuZXNzICh5ZXMgb3Igbm8pOyB0aGlzIGFsc28gbWVhbnMgdGhhdCB0aGUgc2FtZSBhbmFseXNlcyAobG9naXN0aWMpIGNhbg0KIyBiZSB1c2VkLg0KDQojIHN1YnNldCB3MiBuYW1lIGludGVycHJldGVycyBvbiBjb250YWN0IGZyZXEuIGFuZCBjbG9zZW5lc3MNCiMgaW5jbHVkZSBlbWFpbCwgZm9yIG1lcmdpbmcNCncyIDwtIGRhdGEyWyxjKDk5MjoxMDA2LCAxMDI3OjEwNDEsIDE0MjcpXQ0KDQojIHN1YnNldCBpZCBhbmQgZW1haWwgdzENCmQgPC0gZGF0YVssYygxLG5jb2woZGF0YSkpXQ0KDQojIG1lcmdlIHRoZSBkYXRhLXNldCB3aXRoIHRoZSBuYW1lIGludGVycHJldGVyIGRhdGENCmQgPC0gbWVyZ2UodzIsIGQsIGJ5PSJlbWFpbCIpDQoNCiMgc29ydCBieSB0aGUgaWQgdmFyaWFibGUsIHNvIHRoYXQgdGhlIG9yZGVuaW5nIG9mIHJlc3BvbnNlcyBpcyB0aGUgc2FtZSBhcyBvdXINCiMgbG9uZyBkYXRhZnJhbWUNCmQgPC0gZGF0YS5mcmFtZShkW29yZGVyKGQkaWQsIGRlY3JlYXNpbmcgPSBGKSwgXSkNCiMgYW5kIHJlb3JkZXIgcm93bmFtZXMNCnJvd25hbWVzKGQpIDwtIDE6bGVuZ3RoKHJvd25hbWVzKGQpKQ0KIyBleGNsdWRlIGlkIGFuZCBlbWFpbCAocm93bnVtYmVyIGNvcnJlc3BvbmRzIHRvIGlkKQ0KKGQ8LWRbLC1jKDEsbmNvbChkKSldKQ0KDQojIGZyZXF1ZW5jeQ0KIyBzdWJzZXQNCmZyZXEgPC0gZFssMToxNV0NCiMgcmVjb2RlIGludG8gb3JkaW5hbCB2YWx1ZXM7IHNvIHRoYXQgaSBjYW4gYXNzZXNzIGNoYW5nZQ0KZnJlcSA8LSBpZmVsc2UoZnJlcT09IihCaWpuYSkgZWxrZSBkYWciLDcsDQogICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShmcmVxPT0iMS0yIGtlZXIgcGVyIHdlZWsiLDYsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZnJlcT09IkFhbnRhbCBrZWVyIHBlciBtYWFuZCIsNSwgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGZyZXE9PSJPbmcuIDEga2VlciBwZXIgbWFhbmQiLDQsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZnJlcT09IkFhbnRhbCBrZWVyIHBlciBqYWFyIiwzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGZyZXE9PSJPbmcuIDEga2VlciBwZXIgamFhciIsMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoZnJlcT09Ik5vb2l0IiwxLCBOQSAgICkpKSkpKSkNCiMgY2xvc2VuZXNzDQojIHN1YnNldA0KY2xvc2UgPC0gZFssMTY6bmNvbChkKV0NCiMgcmVjb2RlDQpjbG9zZSA8LSBpZmVsc2UoY2xvc2U9PSJOaWV0IGhlY2h0IiwgMSwgDQogICAgICAgICAgICAgICAgICAgICAgIGlmZWxzZShjbG9zZT09IkVuaWdzemlucyBoZWNodCIsIDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZmVsc2UoY2xvc2U9PSJIZWNodCIsIDMsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZlbHNlKGNsb3NlPT0iSGVlbCBlcmcgaGVjaHQiLCA0LCBOQQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpKSkNCg0KZm9yICggaSBpbiB1bmlxdWUoZGYkZWdvKSkgIHsgIyBmb3IgZWdvDQogIGZvciAoaiBpbiB1bmlxdWUoZGYkYWx0ZXJbd2hpY2goZGYkZWdvPT1pKV0pKSB7ICMgZm9yIGFsdGVyDQogDQogICAgIyBnZXQgY29udGFjdCBmcmVxdWVuY3kgYXQgdDEgYW5kIHQyDQogICAgZnJlcV90MSA8LSBkZiRmcmVxdWVuY3lbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXQ0KICAgIGZyZXFfdDIgPC0gYXMubnVtZXJpYyhmcmVxW2ksIF1bIWlzLm5hKGZyZXFbaSxdKV0pW2pdDQogICAgDQogICAgIyBzYW1lIGZvciBjbG9zZW5lc3MNCiAgICBjbG9zZV90MSA8LSBkZiRjbG9zZW5lc3Nbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXQ0KICAgIGNsb3NlX3QyIDwtIGFzLm51bWVyaWMoY2xvc2VbaSwgXVshaXMubmEoY2xvc2VbaSxdKV0pW2pdDQogICAgDQogICAgIyBpZiB0MiB2YWx1ZXMgYXJlIGVxdWFsL2dyZWF0ZXIgdGhhbiB0MSB2YWx1ZXMsIA0KICAgICMgZ2l2ZSB2YWx1ZSAxIChpLmUuLCBtYWludGFpbmVkKTsgMCBvdGVyd2lzZS4NCiAgICBkZiRtYWludGFpbmVkX2ZyZXFbd2hpY2goZGYkZWdvPT1pICYgZGYkYWx0ZXI9PWopXSA8LSBpZmVsc2UoZnJlcV90Mj49ZnJlcV90MSwgMSwwICkNCiAgICBkZiRtYWludGFpbmVkX2Nsb3NlW3doaWNoKGRmJGVnbz09aSAmIGRmJGFsdGVyPT1qKV0gPC0gaWZlbHNlKGNsb3NlX3QyPj1jbG9zZV90MSwgMSwwICkNCiAgICANCiAgfQ0KfQ0KIyBAUkY6IFNPTUUgTUlTU0lOR1MgUkVNQUlOIE9OIFRIRSBUSUUtQ0hBTkdFIFZBUklBQkxFUyEhISEhISEhIFdIWT8/Pz8gU0hPVUxEIE5PVCBIQVBQRU4hDQoNCiMgcmVjb2RlIGNvbnRhY3QgZnJlcXVlbmN5OiAxIGlmIGF0IGxlYXN0IG9uY2UgYSB3ZWVrOyAwIG90aGVyd2lzZQ0KZGYkZnJlcXVlbmN5IDwtIGlmZWxzZShkZiRmcmVxdWVuY3k+NSwgMSwwKQ0KDQojIHJlbW92ZSBsYXN0IDIgZWdvcyAoZmFrZSByZXNwb25zZXMpLg0KZGYgPC0gZGZbLXdoaWNoKGRmJGVnbz09OTEgfCBkZiRlZ289PTkyLCBhcnIuaW5kPVQpLCBdDQoNCmZpeChkZikNCg0KIyBzYXZlIHRoZSBkYXRhc2V0Li4uDQojc2F2ZShkZiwgZmlsZSA9ICJ0aWVfbWFpbnRlbmFuY2UuUkRhdGEiKQ0KDQpgYGANCg0KPGJyPg0KDQojIHRpZV9jcmVhdGlvbi5SRGF0YQ0KDQo8YnI+DQoNCi0tLQ0KDQojIyBSZWZlcmVuY2VzDQoNCg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("prep.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
